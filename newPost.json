{"title":"如何在 Docker 中使用 Docker","id":"posts/16745.html","date_published":"11/30/2020","summary":"1. 典型适用场景\n在 CI 中，通常会有一个 CI Engine 负责解析流程，控制整个构建过程，而将真正的构建交给 Agent 去完成。例如，Jenkins 、GitLab 均是如此。\n如下图, 连接 CI Engine 的 Agent, 种类很多。这是为了满足不同项目对构建环境的要求。\n\n同时 Agent 是动态的，构建时才需要，构建完成时即销毁。CI 非常适合实践容器、Serverless 等技术，因此在生产过程中 Agent 经常是容器化的。\n那么问题就来了？如果 CI Engine 也是容器化的，在容器中如何使用 Agent 容器去构建呢？如果 Agent 已经是容器化的，那么在 Agent 上如何构建镜像呢？这就是本篇将给出的回答，如何在 Docker 中使用 Docker。","url":"https://www.hi-linux.com/posts/16745.html","tags":["技巧","Linux","Docker"],"categories":["Docker"]}