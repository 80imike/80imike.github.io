{"title":"一次由 Kubernetes HostPort 引发的服务故障排错记实","id":"posts/43908.html","date_published":"08/03/2021","summary":"最近排查了一个 Kubernetes 中使用了 hostport 后遇到比较坑的问题，奇怪的知识又增加了。\n问题背景\n集群环境为 K8s v1.15.9，cni 指定了 flannel-vxlan 跟 portmap, kube-proxy 使用 mode 为 ipvs，集群 3 台 master,同时也是 node，这里以 node-1,node-2,node-3 来表示。\n集群中有 2 个 mysql, 部署在两个 ns 下，mysql 本身不是问题重点，这里就不细说，这里以 mysql-A,mysql-B 来表示。\nmysql-A 落在 node-1 上，mysql-B  落在 node-2 上， 两个数据库svc名跟用户、密码完全不相同","url":"https://www.hi-linux.com/posts/43908.html","tags":["Linux","Kubernetes","教程"],"categories":["Kubernetes"]}