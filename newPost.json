{"title":"实战 Btrfs 文件系统之 Subvolume 与 Snapshot","id":"posts/25994.html","date_published":"05/20/2020","summary":"对于大部分文件系统来说，在磁盘上创建好文件系统，然后再挂载到系统中去就完事了。但对于 Btrfs 来说，除了在格式化和挂载的时候指定不同的参数外，还支持很多其他的功能。比如：管理多块硬盘、支持 LVM 和 RAID 等，具体的可以参考它的「官方文档」或者「Linux 下常见文件系统对比」。\n\nBtrfs 是 Oracle 07 年基于 GPL 协议开源的 Linux 文件系统，其目的是替换传统的 Ext3、Ext4 系列文件系统。Ext 系列文件系统存在着诸多问题，比如反删除能力有限等；而 Btrfs 在解决问题同时提供了更加强大的高级特性。\n\nBtrfs 特性\nBtrfs 在文件系统级别支持写时复制 (COW) 机制，并且支持快照 (增量快照)、支持对单个文件快照；同时支持单个超大文件、文件检查、内建 RAID；支持 B 树子卷 (组合多个物理卷，多卷支持) 等。具体如下：\nBtrfs 核心特性：\n\n\n多物理卷支持：Btrfs 可有多个物理卷组成 (类似 LVM)；支持 RAID 以及联机 添加、删除、修改\n\n\n写时复制更新机制 (COW)：复制、更新、替换指针，而非传统意义上的覆盖\n\n\n支持数据及元数据校验码：Checksum 机制\n\n\n支持创建子卷：Subvolume 机制，同时可多层创建\n\n\n支持快照：基于 COW 实现快照，并且相对于 LVM 可以实现快照的快照 (增量快照)\n\n\n支持透明压缩：后台自动压缩文件(消耗一定 CPU)，对前端程序透明\n\n","url":"https://www.hi-linux.com/posts/25994.html","tags":["Linux","技巧","Btrfs"],"categories":["Linux"]}