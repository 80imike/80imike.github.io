{"title":"手把手教你使用 Kube-Vip 部署一个生产级别的高可用 Kubernetes 集群","id":"posts/13616.html","date_published":"06/21/2021","summary":"kube-vip 可以在你的控制平面节点上提供一个 Kubernetes 原生的 HA 负载均衡，我们不需要再在外部设置 HAProxy 和 Keepalived 来实现集群的高可用了。\nkube-vip 是一个为 Kubernetes 集群内部和外部提供高可用和负载均衡的开源项目，在 Vmware 的 Tanzu 项目中已经使用 kube-vip 替换了用于 vSphere 部署的 HAProxy 负载均衡器，本文我们将先来了解 kube-vip 如何用于 Kubernetes 控制平面的高可用和负载均衡功能。\n特点\nKube-Vip 最初是为 Kubernetes 控制平面提供 HA 解决方案而创建的，随着时间的推移，它已经发展为将相同的功能合并到 Kubernetes 的 LoadBalancer 类型的 Service 中了。\n\nVIP 地址可以是 IPv4 或 IPv6\n带有 ARP（第2层）或 BGP（第3层）的控制平面\n使用领导选举或 raft 控制平面\n带有 kubeadm（静态 Pod）的控制平面 HA\n带有 K3s/和其他（DaemonSets）的控制平面 HA\n使用 ARP 领导者选举的 Service LoadBalancer（第 2 层）\n通过 BGP 使用多个节点的 Service LoadBalancer\n每个命名空间或全局的 Service LoadBalancer 地址池\nService LoadBalancer 地址通过 UPNP 暴露给网关\n","url":"https://www.hi-linux.com/posts/13616.html","tags":["Linux","Kubernetes","教程"],"categories":["Kubernetes"]}