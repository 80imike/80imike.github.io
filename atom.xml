<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å¥‡å¦™çš„ Linux ä¸–ç•Œ</title>
  
  <subtitle>ç§ä¸€æ£µæ ‘æœ€å¥½çš„æ—¶é—´æ˜¯åå¹´å‰ï¼Œå…¶æ¬¡æ˜¯ç°åœ¨ã€‚</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.hi-linux.com/"/>
  <updated>2024-06-03T09:31:47.869Z</updated>
  <id>https://www.hi-linux.com/</id>
  
  <author>
    <name>Mike</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ã€æå®¢è§†ç•Œã€ä¸€ç«™å¼ç§‘æŠ€è¾¾äººç»¼åˆèµ„è®¯æŒ‡å—å’Œç¥ç§˜å®ç®±ï¼Œç­‰ä½ æ¥å¼€å¯</title>
    <link href="https://www.hi-linux.com/posts/22000.html"/>
    <id>https://www.hi-linux.com/posts/22000.html</id>
    <published>2050-06-18T01:00:00.000Z</published>
    <updated>2024-06-03T09:31:47.869Z</updated>
    
    <content type="html"><![CDATA[<div id="vip-container"><h2><span id="ï¸-æå®¢è§†ç•Œç§‘æŠ€è¾¾äººçš„ç»¼åˆèµ„è®¯æŒ‡å—">ğŸ› ï¸ ã€æå®¢è§†ç•Œã€ç§‘æŠ€è¾¾äººçš„ç»¼åˆèµ„è®¯æŒ‡å—</span></h2><p>ä½ æ˜¯å¦å¸¸å¸¸ä¸ºå¯»æ‰¾æœ€æ–°çš„æŠ€æœ¯èµ„è®¯ã€å·¥å…·å’Œèµ„æºè€Œæ„Ÿåˆ°å›°æ‰°ï¼Ÿæˆ–è€…æ¯æ¬¡å¼€å‘æ—¶éƒ½éœ€è¦å¼€å¯æ— æ•°ä¸ªæ ‡ç­¾é¡µï¼Œæ‰èƒ½æ‰¾åˆ°æ‰€éœ€çš„å·¥å…·å’Œä¿¡æ¯ï¼Ÿ</p><p>åˆ«æ‹…å¿ƒï¼Œè®©æˆ‘ä¸ºä½ ä»‹ç»ä¸€ä¸ªå¥½åœ°æ–¹ã€æå®¢è§†ç•Œã€ï¼Œè¿™æ˜¯æ¯ä½ç§‘æŠ€è¾¾äººçš„ç¦éŸ³ã€å¿…å¤‡çš„ç»¼åˆèµ„è®¯æŒ‡å—ã€‚</p><p>ã€æå®¢è§†ç•Œã€æä¾›äº†ä¸€ç«™å¼çš„æœåŠ¡ï¼Œå®ƒåŒ…ç½—ä¸‡è±¡ã€åŠŸèƒ½ä¸°å¯Œï¼Œç›´æ¥æ»¡è¶³ä½ ä»èµ„è®¯è·å–åˆ°å¼€å‘è¾…åŠ©çš„å…¨éƒ¨éœ€æ±‚ã€‚</p><p>ä» GitHub çƒ­æ¦œåˆ° PDF å·¥å…·ç®±ï¼Œä»å®æ—¶æ–°é—»èµ„è®¯ã€æŠ€æœ¯æ–‡ç« åˆ°è™šæ‹Ÿä¸´æ—¶é‚®ç®±ï¼Œæ ·æ ·ä¿±å…¨ï¼</p><a id="more"></a><h3><span id="æå®¢è§†ç•Œ">ğŸ¤“ æå®¢è§†ç•Œ</span></h3><p>ã€æå®¢è§†ç•Œã€æ˜¯ä¸€ä¸ªç»¼åˆç§‘æŠ€èµ„è®¯çš„æ¢çº½ã€‚å¦‚æœä½ å–œæ¬¢ç´§è·Ÿæœ€æ–°çš„ç§‘æŠ€åŠ¨æ€ã€è¿½è¸ªçƒ­é—¨é¡¹ç›®ï¼Œæˆ–æ˜¯å¸Œæœ›æ—¶åˆ»äº†è§£æŠ€æœ¯åŠ¨å‘ï¼Œé‚£è¿™ä¸ªæ¿å—ç»å¯¹ä¸å®¹é”™è¿‡ã€‚</p><h4><span id="github-çƒ­æ¦œ">ğŸ† Github çƒ­æ¦œ</span></h4><p>æ¯å¤©éƒ½æœ‰æˆåƒä¸Šä¸‡çš„é¡¹ç›®åœ¨ GitHub ä¸Šæ›´æ–°ï¼Œåˆå¦‚ä½•æŒ‘é€‰å‡ºæœ€çƒ­é—¨ã€æœ€æœ‰è¶£çš„é¡¹ç›®å‘¢ï¼Ÿ</p><p>åˆ«æ‹…å¿ƒï¼Œã€æå®¢è§†ç•Œã€å·²ç»ä¸ºä½ åšäº†ç­›é€‰ã€‚æˆ‘ä»¬æä¾›çš„æ¯æ—¥æ›´æ–°çš„ GitHub çƒ­é—¨é¡¹ç›®æ¦œå•ï¼Œæ¯å¤©çœ‹çœ‹å°±çŸ¥é“å“ªäº›é¡¹ç›®æ­£ç«çƒ­ã€‚</p><p>å®æ—¶è·å–æœ€æ–°æœ€ç«çš„å¼€æºé¡¹ç›®ï¼ŒåŠ©ä½ å¿«é€Ÿäº†è§£å“ªäº›é¡¹ç›®æ­£åœ¨è¿…é€Ÿè¹¿çº¢ï¼Œä¹Ÿå¯ä»¥çœ‹çœ‹æœ‰å¤šå°‘å¤§ç‰›åœ¨å…³æ³¨åŒæ ·çš„é¡¹ç›®ï¼Œå†ä¹Ÿä¸ç”¨è´¹åŠ›ç¿»æ‰¾ã€‚</p><h4><span id="æœ€æ–°-it-æ–°é—»å’ŒæŠ€æœ¯æ–‡ç« ">ğŸ“° æœ€æ–° IT æ–°é—»å’ŒæŠ€æœ¯æ–‡ç« </span></h4><p>è·å–è¡Œä¸šåŠ¨æ€å’Œæœ€æ–°èµ„è®¯æ˜¯æ¯ä¸ªæå®¢çš„æ—¥å¸¸æ ‡é…ã€‚åœ¨ã€æå®¢è§†ç•Œã€ï¼Œä½ èƒ½æ‰¾åˆ°æœ€æ–°çš„ IT æ–°é—»å’ŒæŠ€æœ¯æ–‡ç« ã€‚</p><p>æˆ‘ä»¬æ¶µç›–äº†ä»å‰æ²¿æŠ€æœ¯åˆ°å¼€å‘å®æˆ˜ï¼Œä»è¡Œä¸šå¤§äº‹ä»¶åˆ°æ–°å…´è¶‹åŠ¿çš„ä¸€åˆ‡å†…å®¹ã€‚</p><p>ä¸ä»…å†…å®¹ä¸°å¯Œï¼Œè¿˜æœ‰ä¸“ä¸šçš„ç¼–è¾‘å›¢é˜Ÿä¸ºä½ æ¨èç²¾é€‰æ–‡ç« ï¼Œè®©ä½ åœ¨æœ€çŸ­æ—¶é—´å†…æŒæ¡æœ€æœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚</p><h4><span id="é»‘å®¢æ–°é—»">ğŸ§‘â€ğŸ’» é»‘å®¢æ–°é—»</span></h4><p>è¿™é‡Œæä¾›æœ€æ–°ã€æœ€å…¨çš„é»‘å®¢æ–°é—»ï¼Œè¦†ç›–å¹¿æ³›çš„é¢†åŸŸã€‚æ— è®ºæ˜¯å®‰å…¨æ¼æ´ã€è¶‹åŠ¿åˆ†æï¼Œè¿˜æ˜¯å¼€å‘è€…çš„é—¨é“ï¼Œè¿™é‡Œéƒ½æœ‰ã€‚</p><h4><span id="github-çƒ­é—¨ä»“åº“çŠ¶æ€è·Ÿè¸ª">ğŸ“ˆ Github çƒ­é—¨ä»“åº“çŠ¶æ€è·Ÿè¸ª</span></h4><p>å¯¹ä½ å…³æ³¨çš„çƒ­é—¨ä»“åº“è¿›è¡ŒçŠ¶æ€è·Ÿè¸ªï¼Œå®æ—¶è·å–æ›´æ–°ä¿¡æ¯ã€‚å†ä¹Ÿæ— é¡»æ‰‹åŠ¨æŸ¥è¯¢ï¼Œæ¯å¤©éƒ½èƒ½çŸ¥é“è‡ªå·±å¿ƒä»ªçš„ä»“åº“å‘ç”Ÿäº†å“ªäº›å˜åŒ–ã€‚</p><h4><span id="æœåŠ¡ç›‘æ§">ğŸ’š æœåŠ¡ç›‘æ§</span></h4><p>å¯¹å„ç§ç½‘ç»œæœåŠ¡è¿›è¡Œç›‘æ§ï¼Œåªéœ€è½»æ¾è®¾ç½®ï¼Œå…³é”®æ•°æ®ä¸€ç›®äº†ç„¶ã€‚å®æ—¶æŒæ¡å„ç§å…³æ³¨æœåŠ¡çš„çŠ¶æ€ï¼Œç¡®ä¿ç³»ç»Ÿå¹³ç¨³è¿è¡Œã€‚</p><h3><span id="æå®¢ç§˜å¢ƒ">ğŸ— æå®¢ç§˜å¢ƒ</span></h3><p>è¿™é‡Œæ˜¯æŠ€æœ¯äººçš„å®è—ï¼ŒåŒ…æ‹¬æœ€æ–°çš„ IT æ–°é—»ã€æŠ€æœ¯æ–‡ç« å’Œæ·±åº¦åˆ†æï¼Œå…¼å…·å¹¿åº¦å’Œæ·±åº¦ã€‚</p><h4><span id="ai-æ–°ä¸–ç•Œ">ğŸ¤– AI æ–°ä¸–ç•Œ</span></h4><p>è¿™é‡Œèšç„¦äººå·¥æ™ºèƒ½é¢†åŸŸçš„æœ€æ–°èµ„è®¯å’ŒæŠ€æœ¯åŠ¨æ€ï¼Œæƒ³çŸ¥é“ AI çš„æ–°çªç ´ã€æ–°åº”ç”¨ï¼Œæˆ–è€…æœ€æ–°çš„ç ”ç©¶æˆæœï¼Œè¿™é‡Œä¸€ç«™æå®šã€‚</p><h4><span id="ç§‘æŠ€å‘¨åˆŠæ±‡">ğŸ“… ç§‘æŠ€å‘¨åˆŠæ±‡</span></h4><p>æ¯å‘¨æ±‡æ€»æœ€å…·ä»·å€¼çš„ç§‘æŠ€æ–°é—»ï¼Œå¦‚æœä½ æ˜¯ä¸€å‘¨ä¸€æ›´æ–°çš„èŠ‚å¥å…šï¼Œè¿™é‡Œç»å¯¹ä¸ä¼šè®©ä½ é”™è¿‡ä»»ä½•é‡è¦ä¿¡æ¯ã€‚</p><h4><span id="æ•°ç æ½®æµ">ğŸ’» æ•°ç æ½®æµ</span></h4><p>æœ€æ–°æ•°ç äº§å“çš„èµ„è®¯å’Œè¯„æµ‹ï¼Œä»æ‰‹æœºåˆ°ç”µè„‘å†åˆ°å„ç§æ™ºèƒ½è®¾å¤‡ã€‚è®©ä½ åœ¨è´­ä¹°ä¹‹å‰å°±å¯¹äº§å“æœ‰å…¨é¢çš„äº†è§£ï¼Œåšä¸ªä¸è¸©é›·çš„ç§‘æŠ€ä¹°æ‰‹ã€‚</p><h4><span id="çŸ¥ä¹çƒ­æ¦œ">ğŸŒ çŸ¥ä¹çƒ­æ¦œ</span></h4><p>é›†æˆçŸ¥ä¹çš„ç§‘æŠ€çƒ­æ¦œï¼Œçœ‹çœ‹å¤§å®¶éƒ½åœ¨è®¨è®ºäº›ä»€ä¹ˆçƒ­é—¨è¯é¢˜ã€‚çŸ¥ä¹ç¥ä»™ä»¬çš„å›ç­”ä¸€å®šä¼šè®©ä½ è±ç„¶å¼€æœ—ã€‚</p><h4><span id="it-ä¹‹å®¶çƒ­æ¦œ">ğŸ  IT ä¹‹å®¶çƒ­æ¦œ</span></h4><p>å†ä¹Ÿä¸ä¼šé”™è¿‡ IT ä¹‹å®¶å‘å¸ƒçš„æœ‰è¶£æ–°é—»å’Œæ·±åº¦æ–‡ç« ï¼Œé€‚åˆ IT äººå¿…è¯»çš„æ¦œå•ï¼Œå…¨æ–¹ä½æå‡çŸ¥è¯†æ°´å¹³ã€‚</p><h4><span id="ç¨€åœŸæ˜é‡‘æ–‡ç« æ¦œ">ğŸ’¡ ç¨€åœŸæ˜é‡‘æ–‡ç« æ¦œ</span></h4><p>èšé›†ç¨€åœŸæ˜é‡‘å¹³å°çš„çƒ­é—¨æŠ€æœ¯æ–‡ç« ï¼Œæ— è®ºæ˜¯æ–°å·¥å…·ã€æ–°æŠ€æœ¯ï¼Œè¿˜æ˜¯å„ç§å¼€å‘å¹²è´§ï¼Œè¿™é‡Œéƒ½å€¼å¾—ä¸€çœ‹ã€‚</p><h4><span id="hellogithub-çƒ­é—¨ä»“åº“">ğŸš€ HelloGithub çƒ­é—¨ä»“åº“</span></h4><p>ä¸“ä¸šå›¢é˜ŸæŒ‘é€‰å’Œä»‹ç»çš„ Github çƒ­é—¨ä»“åº“ï¼Œæ¶µç›–å¹¿æ³›çš„ç¼–ç¨‹è¯­è¨€å’Œæ¡†æ¶ã€‚æ¯æœŸç²¾é€‰ï¼Œä½ ä¸€å®šèƒ½æ‰¾åˆ°è‡ªå·±æ„Ÿå…´è¶£çš„é¡¹ç›®ã€‚</p><h3><span id="it-äººå¿…å¤‡å·¥å…·ç®±">ğŸ§° IT äººå¿…å¤‡å·¥å…·ç®±</span></h3><p>ã€IT äººå¿…å¤‡å·¥å…·ç®±ã€ æ˜¯æ¯ä¸€ä½ IT äººéƒ½ä¸å¯æˆ–ç¼ºçš„èµ„æºå®åº“ï¼Œé‡Œé¢æ”¶çº³ç€å„ç§ä¸“æ³¨äºæŠ€æœ¯é¢†åŸŸçš„ä¼˜è´¨èµ„æºå’Œå®ç”¨å·¥å…·ã€‚</p><p>å®ƒå¦‚åŒä¸€åº§å·¨å¤§çš„æ•°å­—å›¾ä¹¦é¦†ï¼Œä¸º IT ä»ä¸šè€…æä¾›äº†ä¸°å¯Œçš„èµ„è®¯å’Œå·¥å…·ã€‚</p><p>è®©ä»–ä»¬åœ¨æ•°å­—ä¸–ç•Œä¸­é©°éª‹è‡ªå¦‚ï¼Œæ— è®ºæ˜¯ç¼–ç¨‹å¼€å‘ã€ç½‘ç»œå®‰å…¨ã€æ•°æ®åˆ†æè¿˜æ˜¯äººå·¥æ™ºèƒ½ã€‚</p><p>è¿™ä¸ªå·¥å…·ç®±éƒ½æ±‡èšäº†å„ç§ç»å…¸å’Œå‰æ²¿çš„èµ„æºï¼Œä¸º IT äººå£«è§£å†³éš¾é¢˜ã€æå‡æŠ€èƒ½æä¾›äº†å¼ºå¤§çš„æ”¯æŒã€‚</p><p>æ— è®ºæ˜¯åˆå­¦è€…è¿˜æ˜¯èµ„æ·±æŠ€æœ¯å¤§ç‰›ï¼Œéƒ½å¯ä»¥ä»ä¸­æ±²å–çµæ„Ÿï¼Œæ¢ç´¢æœªçŸ¥ï¼Œä¸æ–­æˆé•¿ã€‚</p><h3><span id="å¼€å‘å·¥å…·ç®±">ğŸ§‘â€ğŸ’» å¼€å‘å·¥å…·ç®±</span></h3><p>ä½œä¸ºå¼€å‘è€…ï¼Œä½ ä¸€å®šä¼šå–œæ¬¢æˆ‘ä»¬çš„å¼€å‘å·¥å…·ç®±ã€‚</p><p>è¿™é‡Œå›Šæ‹¬äº†å„ç§å®ç”¨çš„å¼€å‘å°å·¥å…·ï¼Œæ¶µç›–äº†ä»ä»£ç ç¼–è¾‘ã€JSON è§£æå™¨ã€ç½‘ç»œè°ƒè¯•å·¥å…·ã€æ­£åˆ™è¡¨è¾¾å¼æµ‹è¯•å™¨ç­‰çš„ä¸€åˆ‡ï¼Œåº”æœ‰å°½æœ‰ã€‚</p><p>æ‰€æœ‰çš„å·¥å…·éƒ½ç»è¿‡ç²¾å¿ƒæŒ‘é€‰å’Œæµ‹è¯•ï¼Œç¡®ä¿èƒ½åœ¨å…³é”®æ—¶åˆ»å¸®åˆ°ä½ ã€‚å‡å°‘ä½ åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¯»æ‰¾å·¥å…·çš„æ—¶é—´ï¼Œæå‡å·¥ä½œæ•ˆç‡ã€‚</p><h3><span id="ä»£ç å›¾ç¾åŒ–">ğŸ¨ ä»£ç å›¾ç¾åŒ–</span></h3><p>ä»£ç ä¸ä»…è¦è¿è¡Œå¾—å¥½ï¼Œè¿˜è¦çœ‹å¾—ç¾ã€‚æˆ‘ä»¬çš„ä»£ç å›¾ç¾åŒ–å·¥å…·ï¼Œå¯ä»¥å°†ä½ çš„ä¸€æ®µä»£ç ç²¾ç¾åœ°å‘ˆç°å‡ºæ¥ã€‚</p><p>å®ƒå¯ä»¥å¸®åŠ©ä½ å°†ä»£ç ç‰‡æ®µè½¬åŒ–æˆç¾è§‚çš„å›¾ç‰‡ï¼Œå®ƒæ”¯æŒé«˜åº¦å®šåˆ¶ï¼Œç…§é¡¾åˆ°æ¯ä¸€ä¸ªç»†èŠ‚ï¼Œè®©ä½ çš„ä»£ç æ›´å…·è¡¨ç°åŠ›ã€‚</p><p>ä¸è®ºæ˜¯åˆ†äº«ç»™å›¢é˜Ÿæˆå‘˜ï¼Œè¿˜æ˜¯å±•ç¤ºåœ¨ä¸ªäººåšå®¢ä¸Šï¼Œæ¼‚äº®çš„ä»£ç å›¾æ€»èƒ½è®©ä½ çš„å·¥ä½œæˆæœæ›´ä¸Šä¸€å±‚æ¥¼ã€‚</p><h3><span id="ip-å·¥å…·ç®±">ğŸŒ IP å·¥å…·ç®±</span></h3><p>æ— è®ºæ˜¯å¼€å‘è¿˜æ˜¯è¿ç»´ï¼ŒIP ä¿¡æ¯æ€»æ˜¯ç»•ä¸å¼€çš„é—®é¢˜ã€‚ã€æå®¢è§†ç•Œã€ä¸ºä½ å‡†å¤‡äº†å…¨é¢çš„ IP å·¥å…·ç®±ï¼Œæ¶µç›–ä» IP æŸ¥æ‰¾ã€IP æ®µæŸ¥è¯¢åˆ°åœ°ç†ä½ç½®è½¬æ¢ç­‰å¤šç§åŠŸèƒ½ï¼Œè®©ä½ è½»æ¾æå®šæ‰€æœ‰ä¸ IP ç›¸å…³çš„éš¾é¢˜ã€‚</p><p>å¯¹äºç½‘ç»œç®¡ç†å‘˜å’Œå¼€å‘è€…æ¥è¯´ï¼Œè¿™äº›åŠŸèƒ½åœ¨æ—¥å¸¸å·¥ä½œä¸­éå¸¸å®ç”¨ã€‚</p><h3><span id="pdf-å·¥å…·ç®±">ğŸ“„ PDF å·¥å…·ç®±</span></h3><p>å¤„ç† PDF æ–‡ä»¶å¸¸å¸¸è®©äººå¤´ç–¼ï¼Œä½†åœ¨ã€æå®¢è§†ç•Œã€è¿™ä¸€åˆ‡éƒ½ä¸æ˜¯é—®é¢˜ã€‚æˆ‘ä»¬æä¾›äº†å…¨æ–¹ä½çš„ PDF å·¥å…·ç®±ï¼ŒåŒ…æ‹¬ PDF è½¬æ¢ã€åˆå¹¶ã€æ‹†åˆ†ã€å‹ç¼©ç­‰å¤šç§åŠŸèƒ½ã€‚</p><p>ä¸ç®¡ä½ çš„éœ€æ±‚æ˜¯ä»€ä¹ˆï¼Œè¿™é‡Œéƒ½æœ‰åˆé€‚çš„å·¥å…·å¸®ä½ æå®šï¼Œä¸€ç«™è§£å†³æ‰€æœ‰éœ€æ±‚ï¼Œè®©ä½ è½»æ¾åº”å¯¹å„ç§æ–‡æ¡£æ ¼å¼çš„è½¬æ¢é—®é¢˜ã€‚</p><h3><span id="ä»Šæ—¥çƒ­æ¦œ">ğŸ”¥ ä»Šæ—¥çƒ­æ¦œ</span></h3><p>æƒ³çŸ¥é“ä»Šå¤©å“ªäº›å†…å®¹æœ€ç«çˆ†ï¼Ÿæ¥çœ‹çœ‹æˆ‘ä»¬çš„ä»Šæ—¥çƒ­æ¦œå§ï¼è¿™é‡Œæ±‡é›†äº†å„å¤§å¹³å°çš„çƒ­é—¨å†…å®¹ï¼Œå¦‚å¾®åšã€çŸ¥ä¹ã€æŠ–éŸ³ç­‰ã€‚</p><p>æ— è®ºæ˜¯æ–°é—»ã€å¸–å­ã€è§†é¢‘è¿˜æ˜¯å…¶ä»–å†…å®¹ï¼Œæœ€å—å…³æ³¨çš„æ€»èƒ½åœ¨è¿™é‡Œæ‰¾åˆ°ã€‚ä¸ç”¨å†è´¹åŠ›åˆ·å„å¤§ç¤¾äº¤åª’ä½“ï¼Œåªéœ€ä¸€ç«™å°½çŸ¥å¤©ä¸‹çƒ­ç‚¹ï¼Œè½»æ¾åšä¸ªæ½®æµè¾¾äººã€‚</p><h3><span id="è™šæ‹Ÿä¸´æ—¶é‚®ç®±">ğŸ“« è™šæ‹Ÿä¸´æ—¶é‚®ç®±</span></h3><p>æ³¨å†Œå„ç§ç½‘ç«™æœåŠ¡æ—¶ï¼Œå¸¸å¸¸ä¼šæ‹…å¿ƒé‚®ç®±è¢«åƒåœ¾ä¿¡æ¯æ·¹æ²¡ï¼Ÿ</p><p>ä½¿ç”¨æˆ‘ä»¬çš„è™šæ‹Ÿä¸´æ—¶é‚®ç®±åŠŸèƒ½å§ï¼å®ƒèƒ½ç”Ÿæˆä¸´æ—¶é‚®ä»¶åœ°å€ï¼Œå¸®ä½ ä¿æŠ¤çœŸå®é‚®ç®±å…å—æ‰“æ‰°ã€‚ä½¿ç”¨ç®€å•æ–¹ä¾¿ï¼Œä¸€é”®ç”Ÿæˆï¼Œç‰¹åˆ«é€‚åˆçŸ­æœŸæ³¨å†Œéœ€æ±‚ã€‚</p><h3><span id="ï¸-æ‰‹ç»˜ç”»æ¿">ğŸ–Œï¸ æ‰‹ç»˜ç”»æ¿</span></h3><p>éœ€è¦ä¸´æ—¶è®°å½•çµæ„Ÿæˆ–è¿›è¡Œæ‰‹ç»˜åˆ›ä½œï¼Ÿã€æå®¢è§†ç•Œã€çš„æ‰‹ç»˜ç”»æ¿åŠŸèƒ½æ­£æ˜¯ä¸ºä½ å‡†å¤‡çš„ã€‚</p><p>æ— éœ€ä¸‹è½½ä»»ä½•åº”ç”¨ï¼Œåœ¨çº¿å³å¯è¿›è¡Œæ‰‹ç»˜ï¼Œæ”¯æŒå¤šç§ç¬”åˆ·å’Œé¢œè‰²é€‰æ‹©ï¼Œæ— è®ºæ˜¯ç”»è‰å›¾è¿˜æ˜¯è¿›è¡Œç®€å•è®¾è®¡ï¼Œè¿™é‡Œéƒ½èƒ½å¾—å¿ƒåº”æ‰‹ã€‚</p><h3><span id="è§†é¢‘ä¸‹è½½">ğŸ“¥ è§†é¢‘ä¸‹è½½</span></h3><p>åœ¨çº¿é‡åˆ°å¥½è§†é¢‘æƒ³ä¸‹è½½ï¼Œå´è‹¦äºæ‰¾ä¸åˆ°åˆé€‚çš„å·¥å…·ï¼Ÿ</p><p>æˆ‘ä»¬æä¾›çš„åœ¨çº¿è§†é¢‘ä¸‹è½½å·¥å…·å¯ä»¥å¸®ä½ è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æ”¯æŒå¤šç§è§†é¢‘å¹³å°ï¼Œä¸‹è½½é€Ÿåº¦å¿«ï¼Œæ“ä½œç®€ä¾¿ï¼Œè®©ä½ è½»æ¾ä¿å­˜å–œæ¬¢çš„è§†é¢‘å†…å®¹ã€‚</p><h3><span id="ï¸-è¶…çº§ç»ˆç«¯">ğŸ–¥ï¸ è¶…çº§ç»ˆç«¯</span></h3><p>å¦‚æœä½ ç»å¸¸éœ€è¦åœ¨çš„ç»ˆç«¯å·¥ä½œï¼Œè¿™ä¸ªè¶…çº§ç»ˆç«¯ä½ ä¸€å®šä¼šçˆ±ä¸é‡Šæ‰‹ã€‚å®ƒæ”¯æŒå„ç§å‘½ä»¤è¾“å‡ºï¼Œè®©ä½ çœ‹ä¸Šå»å¾ˆé…·è€Œå¿™ç¢Œï¼Œæ˜¯æå®¢å¿…å¤‡çš„åˆ©å™¨ã€‚</p><h2><span id="ä¸ºä»€ä¹ˆé€‰æ‹©æå®¢è§†ç•Œ">ğŸ¤” ä¸ºä»€ä¹ˆé€‰æ‹©ã€æå®¢è§†ç•Œã€ï¼Ÿ</span></h2><h3><span id="é›†æˆåŒ–ä¸€ç«™å¼æœåŠ¡">ğŸŒ… é›†æˆåŒ–ï¼Œä¸€ç«™å¼æœåŠ¡</span></h3><p>æ— éœ€å†å¥”æ³¢äºå„ä¸ªç½‘ç«™å¯»æ‰¾å·¥å…·å’Œèµ„è®¯ï¼Œã€æå®¢è§†ç•Œã€å°†æ‰€æœ‰å¸¸ç”¨çš„å¼€å‘å·¥å…·å’Œæœ€æ–°èµ„è®¯é›†æˆåœ¨ä¸€ä¸ªå¹³å°ä¸Šï¼Œä¸€ç«™å¼è§£å†³ä½ çš„æ‰€æœ‰éœ€æ±‚ã€‚</p><h3><span id="å®ç”¨æ€§å¼º">ğŸ“ å®ç”¨æ€§å¼º</span></h3><p>æˆ‘ä»¬ç²¾å¿ƒæŒ‘é€‰æ¯ä¸€é¡¹åŠŸèƒ½å’Œå·¥å…·ï¼Œç¡®ä¿å®ƒä»¬åœ¨å®é™…å·¥ä½œä¸­æœ‰ç”¨ä¸”å¥½ç”¨ï¼ŒèŠ‚çœä½ çš„æ—¶é—´ï¼Œæå‡å·¥ä½œæ•ˆç‡ã€‚</p><h3><span id="æŒç»­æ›´æ–°">ğŸ“ˆ æŒç»­æ›´æ–°</span></h3><p>ç§‘æŠ€çš„å‘å±•æ—¥æ–°æœˆå¼‚ï¼Œæˆ‘ä»¬çš„å›¢é˜Ÿæ—¶åˆ»å…³æ³¨è¡Œä¸šåŠ¨æ€ï¼Œä¸æ–­æ›´æ–°åŠŸèƒ½å’Œå†…å®¹ï¼Œç¡®ä¿ä½ åœ¨ã€æå®¢è§†ç•Œã€è·å–åˆ°æœ€æ–°ã€æœ€çƒ­çš„èµ„è®¯å’Œå·¥å…·ã€‚</p><h2><span id="å¦‚ä½•å¼€å§‹">ğŸš€ å¦‚ä½•å¼€å§‹ï¼Ÿ</span></h2><p>ä½“éªŒæ‰€æœ‰è¿™äº›åŠŸèƒ½åªéœ€ä¸€ä¸ªç®€å•çš„æ­¥éª¤ï¼šè®¿é—® <a href="https://bestgeek.org" target="_blank" rel="noopener">https://bestgeek.org</a> å¼€å§‹ä½ çš„æå®¢ä¹‹æ—…å§ï¼</p><p>ç„¶åæ ¹æ®ä½ çš„éœ€æ±‚é€‰æ‹©ç›¸åº”çš„åˆ†ç±»å¼€å§‹æ¢ç´¢å§ï¼æ— è®ºä½ æ˜¯å¼€å‘è€…ã€è®¾è®¡å¸ˆè¿˜æ˜¯æ™®é€šçš„ç§‘æŠ€çˆ±å¥½è€…ï¼Œã€æå®¢è§†ç•Œã€éƒ½èƒ½ä¸ºä½ æä¾›ä½ éœ€è¦çš„ä¸€åˆ‡ã€‚</p><h2><span id="ç»“è¯­">ğŸ‰ ç»“è¯­</span></h2><p>ä¸Šè¿°åŠŸèƒ½ä»…ä»…æ˜¯ã€æå®¢è§†ç•Œã€çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬è‡´åŠ›äºä¸ºæ¯ä¸€ä¸ªçƒ­çˆ±ç§‘æŠ€çš„æœ‹å‹æä¾›å…¨é¢çš„èµ„è®¯ä¸å·¥å…·æ”¯æŒã€‚</p><p>ã€æå®¢è§†ç•Œã€ä¸ä»…æ˜¯åŠŸèƒ½é½å…¨çš„å·¥å…·å’Œèµ„è®¯å¹³å°ï¼Œæ›´æ˜¯æ¯ä¸ªæå®¢å…±åŒçš„å®¶å›­ã€‚</p><p>åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥æ‰¾åˆ°å¿—åŒé“åˆçš„ä¼™ä¼´ï¼Œè·å–æœ€æ–°çš„æŠ€æœ¯èµ„è®¯å’Œæœ€å®ç”¨çš„å¼€å‘å·¥å…·ã€‚è®©æˆ‘ä»¬ä¸€èµ·åœ¨è¿™ä¸ªå……æ»¡ç§‘æŠ€ä¹è¶£çš„è§†ç•Œé‡Œé¨æ¸¸å§ï¼</p><p>èµ¶å¿«æ”¶è— <a href="https://bestgeek.org" target="_blank" rel="noopener">æå®¢è§†ç•Œ</a>ï¼Œå¼€å¯ä½ çš„ç§‘æŠ€ä¹‹æ—…å§ï¼</p></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "10135-1588830050631-449",        "name": "ã€Œå¥‡å¦™çš„ Linux ä¸–ç•Œã€",        "qrcode": "https://www.hi-linux.com/img/wechat/mp_qrcode_12.jpg",        "keyword": "VIP"    });}</script>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ğŸ› ï¸-ã€æå®¢è§†ç•Œã€ç§‘æŠ€è¾¾äººçš„ç»¼åˆèµ„è®¯æŒ‡å—&quot;&gt;ğŸ› ï¸ ã€æå®¢è§†ç•Œã€ç§‘æŠ€è¾¾äººçš„ç»¼åˆèµ„è®¯æŒ‡å—&lt;/h2&gt;
&lt;p&gt;ä½ æ˜¯å¦å¸¸å¸¸ä¸ºå¯»æ‰¾æœ€æ–°çš„æŠ€æœ¯èµ„è®¯ã€å·¥å…·å’Œèµ„æºè€Œæ„Ÿåˆ°å›°æ‰°ï¼Ÿæˆ–è€…æ¯æ¬¡å¼€å‘æ—¶éƒ½éœ€è¦å¼€å¯æ— æ•°ä¸ªæ ‡ç­¾é¡µï¼Œæ‰èƒ½æ‰¾åˆ°æ‰€éœ€çš„å·¥å…·å’Œä¿¡æ¯ï¼Ÿ&lt;/p&gt;
&lt;p&gt;åˆ«æ‹…å¿ƒï¼Œè®©æˆ‘ä¸ºä½ ä»‹ç»ä¸€ä¸ªå¥½åœ°æ–¹ã€æå®¢è§†ç•Œã€ï¼Œè¿™æ˜¯æ¯ä½ç§‘æŠ€è¾¾äººçš„ç¦éŸ³ã€å¿…å¤‡çš„ç»¼åˆèµ„è®¯æŒ‡å—ã€‚&lt;/p&gt;
&lt;p&gt;ã€æå®¢è§†ç•Œã€æä¾›äº†ä¸€ç«™å¼çš„æœåŠ¡ï¼Œå®ƒåŒ…ç½—ä¸‡è±¡ã€åŠŸèƒ½ä¸°å¯Œï¼Œç›´æ¥æ»¡è¶³ä½ ä»èµ„è®¯è·å–åˆ°å¼€å‘è¾…åŠ©çš„å…¨éƒ¨éœ€æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;ä» GitHub çƒ­æ¦œåˆ° PDF å·¥å…·ç®±ï¼Œä»å®æ—¶æ–°é—»èµ„è®¯ã€æŠ€æœ¯æ–‡ç« åˆ°è™šæ‹Ÿä¸´æ—¶é‚®ç®±ï¼Œæ ·æ ·ä¿±å…¨ï¼&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/tags/Linux/"/>
    
      <category term="IT" scheme="https://www.hi-linux.com/tags/IT/"/>
    
      <category term="ç¨‹åºå‘˜" scheme="https://www.hi-linux.com/tags/%E7%A8%8B%E5%BA%8F%E5%91%98/"/>
    
  </entry>
  
  <entry>
    <title>ã€IT äººå‘˜å¿…å¤‡å·¥å…·ç®±ã€ï¼šä¸€ä¸ªä¸“æ³¨äº IT äººçš„ä¼˜è´¨èµ„æºåˆ†äº«å¯¼èˆªç«™</title>
    <link href="https://www.hi-linux.com/posts/53504.html"/>
    <id>https://www.hi-linux.com/posts/53504.html</id>
    <published>2050-03-18T01:00:00.000Z</published>
    <updated>2024-03-14T03:05:50.391Z</updated>
    
    <content type="html"><![CDATA[<div id="vip-container"><p>ã€<a href="https://666666.dev" target="_blank" rel="noopener">IT äººå‘˜å¿…å¤‡å·¥å…·ç®±</a>ã€æ˜¯ä¸€ä¸ªä¸“æ³¨äº IT äººä¼˜è´¨èµ„æºåˆ†äº«çš„å¯¼èˆªç«™ï¼ŒåŒ…å«å¤§é‡å¥½ç©åˆå®ç”¨çš„ AIã€ç¿»è¯‘ã€ç¼–ç¨‹ã€è®¾è®¡ã€Linuxã€ç½‘ç»œã€äº‘åŸç”Ÿã€å®‰å…¨ç­‰å¤šæ¬¾åº”ç”¨ã€‚</p><p>ğŸ·ï¸  ç½‘ç«™åœ°å€ï¼š<a href="https://666666.dev" target="_blank" rel="noopener">https://666666.dev</a></p><p><img src="https://img.hi-linux.com/staticfile/Tweelet00-2024-03-14-n0S5jR.webp" alt="å…¨ç«™é¢„è§ˆå›¾"></p><p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å¸®åŠ©æ›´å¤š IT äººå‘ç°æœ‰ä»·å€¼çš„ä¼˜è´¨èµ„æºï¼Œè®©æ›´å¤šäººå—ç›Šã€‚</p><p>ã€<a href="https://666666.dev" target="_blank" rel="noopener">IT äººå‘˜å¿…å¤‡å·¥å…·ç®±</a>ã€ä¹Ÿå¯ä»¥æ¨èä½ å–œæ¬¢çš„è½¯ä»¶å’Œç½‘ç«™å‘¢ï¼å¦‚æœä½ æœ‰ä»€ä¹ˆå¥½ç©æœ‰è¶£åˆå®ç”¨çš„é…·è½¯è¶£ç«™ï¼Œå¿«ã€<a href="https://docs.qq.com/form/page/DQm1UVEJJV0ZPUXlz" target="_blank" rel="noopener">æ¨è</a>ã€ç»™æˆ‘ä»¬å§ï¼</p><p>ğŸ·ï¸  è¶£ç«™é…·è½¯æ¨èæ”¶é›†è¡¨: <a href="https://docs.qq.com/form/page/DQm1UVEJJV0ZPUXlz" target="_blank" rel="noopener">https://docs.qq.com/form/page/DQm1UVEJJV0ZPUXlz</a></p><a id="more"></a><p>ã€<a href="https://666666.dev" target="_blank" rel="noopener">IT äººå‘˜å¿…å¤‡å·¥å…·ç®±</a>ã€éƒ¨åˆ†æˆªå›¾å±•ç¤ºï¼š</p><p><img src="https://img.hi-linux.com/staticfile/Tweelet01-2024-03-14-9hHDLK.png" alt="å®ç”¨å·¥å…·"><br><img src="https://img.hi-linux.com/staticfile/Tweelet02-2024-03-14-ejfZrm.png" alt="å¥‡å¦™çš„ Linux ä¸–ç•Œ + æœç´¢å¼•æ“ + æ–°é—»èµ„è®¯"><br><img src="https://img.hi-linux.com/staticfile/Tweelet03-2024-03-14-ZkjPxQ.png" alt="ç”µå­é‚®ä»¶ + å‡ºè¡ŒæœåŠ¡ + AI ç¿»è¯‘åˆ©å™¨"><br><img src="https://img.hi-linux.com/staticfile/Tweelet04-2024-03-14-NbfprZ.png" alt="AI æ–°ä¸–ç•Œ + äº‘æœåŠ¡"><br><img src="https://img.hi-linux.com/staticfile/Tweelet05-2024-03-14-xTbQV6.png" alt="ç¼–ç¨‹å¼€å‘"><br><img src="https://img.hi-linux.com/staticfile/Tweelet06-2024-03-14-OvFNBk.png" alt="GitHub çƒ­æ¦œ + ç½‘ç»œè°ƒè¯•"><br><img src="https://img.hi-linux.com/staticfile/Tweelet07-2024-03-14-bluwgD.png" alt="ç»˜å›¾è®¾è®¡ + é•œåƒåŠ é€Ÿ"><br><img src="https://img.hi-linux.com/staticfile/Tweelet08-2024-03-14-G4HEGV.png" alt="äº‘åŸç”Ÿå®¹å™¨åŒ– + å®‰å…¨ç›¸å…³ + ç©è½¬ NixOS + åšå®¢ç½‘æ‘˜"><br><img src="https://img.hi-linux.com/staticfile/Tweelet09-2024-03-14-FjDHJs.png" alt="èŒæ¥èŒå¾€ + å…‰å½±æ—¶åˆ» + éŸ³ä¹ä¹‹å£°"><br><img src="https://img.hi-linux.com/staticfile/Tweelet10-2024-03-14-3W7reF.png" alt="è¶£ç«™é…·è½¯"></p><p>ğŸ“• å…³æ³¨ã€<a href="https://mp.weixin.qq.com/s/8iRVr_IN3jB3MnmAdgAOoQ" target="_blank" rel="noopener">å¥‡å¦™çš„ Linux ä¸–ç•Œ</a>ã€å…¬ä¼—å·ï¼Œå¸¦ä½ å¼€å¯æœ‰è¶£æ–°ç”Ÿæ´»ï¼æ›´å¤šå¥½ç”¨å¥½ç©çš„è½¯ä»¶èµ„æºï¼Œå¯è®¿é—® <a href="https://666666.dev" target="_blank" rel="noopener">https://666666.dev</a> å…è´¹è·å–ã€‚</p></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "10135-1588830050631-449",        "name": "ã€Œå¥‡å¦™çš„ Linux ä¸–ç•Œã€",        "qrcode": "https://www.hi-linux.com/img/wechat/mp_qrcode_12.jpg",        "keyword": "VIP"    });}</script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€&lt;a href=&quot;https://666666.dev&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;IT äººå‘˜å¿…å¤‡å·¥å…·ç®±&lt;/a&gt;ã€æ˜¯ä¸€ä¸ªä¸“æ³¨äº IT äººä¼˜è´¨èµ„æºåˆ†äº«çš„å¯¼èˆªç«™ï¼ŒåŒ…å«å¤§é‡å¥½ç©åˆå®ç”¨çš„ AIã€ç¿»è¯‘ã€ç¼–ç¨‹ã€è®¾è®¡ã€Linuxã€ç½‘ç»œã€äº‘åŸç”Ÿã€å®‰å…¨ç­‰å¤šæ¬¾åº”ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ğŸ·ï¸  ç½‘ç«™åœ°å€ï¼š&lt;a href=&quot;https://666666.dev&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://666666.dev&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img.hi-linux.com/staticfile/Tweelet00-2024-03-14-n0S5jR.webp&quot; alt=&quot;å…¨ç«™é¢„è§ˆå›¾&quot;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å¸®åŠ©æ›´å¤š IT äººå‘ç°æœ‰ä»·å€¼çš„ä¼˜è´¨èµ„æºï¼Œè®©æ›´å¤šäººå—ç›Šã€‚&lt;/p&gt;
&lt;p&gt;ã€&lt;a href=&quot;https://666666.dev&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;IT äººå‘˜å¿…å¤‡å·¥å…·ç®±&lt;/a&gt;ã€ä¹Ÿå¯ä»¥æ¨èä½ å–œæ¬¢çš„è½¯ä»¶å’Œç½‘ç«™å‘¢ï¼å¦‚æœä½ æœ‰ä»€ä¹ˆå¥½ç©æœ‰è¶£åˆå®ç”¨çš„é…·è½¯è¶£ç«™ï¼Œå¿«ã€&lt;a href=&quot;https://docs.qq.com/form/page/DQm1UVEJJV0ZPUXlz&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;æ¨è&lt;/a&gt;ã€ç»™æˆ‘ä»¬å§ï¼&lt;/p&gt;
&lt;p&gt;ğŸ·ï¸  è¶£ç«™é…·è½¯æ¨èæ”¶é›†è¡¨: &lt;a href=&quot;https://docs.qq.com/form/page/DQm1UVEJJV0ZPUXlz&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://docs.qq.com/form/page/DQm1UVEJJV0ZPUXlz&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/categories/Linux/"/>
    
    
      <category term="æŠ€å·§" scheme="https://www.hi-linux.com/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="Linux" scheme="https://www.hi-linux.com/tags/Linux/"/>
    
      <category term="DNS" scheme="https://www.hi-linux.com/tags/DNS/"/>
    
  </entry>
  
  <entry>
    <title>ptcpdump æ–°ä¸€ä»£æŠ“åŒ…ç¥å™¨ï¼Œå¯æ•è·ä»»ä½•è¿›ç¨‹ã€å®¹å™¨æˆ– Pod çš„ç½‘ç»œæµé‡</title>
    <link href="https://www.hi-linux.com/posts/14172.html"/>
    <id>https://www.hi-linux.com/posts/14172.html</id>
    <published>2024-07-15T01:00:00.000Z</published>
    <updated>2024-07-15T03:41:39.784Z</updated>
    
    <content type="html"><![CDATA[<div id="vip-container"><h2><span id="å‰è¨€">å‰è¨€</span></h2><p>tcpdump æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„ä¸€ä¸ªç½‘ç»œæŠ“åŒ…å·¥å…·ï¼Œå®ƒçš„åŠŸèƒ½éå¸¸çš„å¼ºå¤§ã€‚ä½†æ˜¯å®ƒè¿˜ç¼ºå°‘ä¸€ä¸ªå¤§å®¶åé¦ˆå¾ˆä¹…å´ä¸€ç›´æ²¡å®ç°çš„ä¸€ä¸ªç‰¹æ€§ï¼Œ é‚£å°±æ˜¯ï¼šåœ¨ç»“æœä¸­åŒ…å«/æ˜¾ç¤ºå‘é€ç½‘ç»œè¯·æ±‚/æµé‡çš„è¿›ç¨‹ä¿¡æ¯ï¼Œä»¥åŠæ”¯æŒæŠ“å–æŒ‡å®šè¿›ç¨‹çš„ç½‘ç»œæµé‡ã€‚</p><p>å½“å‰é’ˆå¯¹ tcpdump æŠ“å–çš„æµé‡ä¿¡æ¯ï¼Œå¦‚æœè¦è·å–å¯¹åº”çš„è¿›ç¨‹ä¿¡æ¯çš„è¯ï¼Œå¸¸è§çš„æ–¹æ³•æ˜¯ï¼š åŸºäºè¯·æ±‚çš„è¿æ¥ä¿¡æ¯ï¼Œé€šè¿‡ <code>ss</code> æˆ– <code>netstat</code> ä¹‹å†…çš„å·¥å…·åæŸ¥è¿›ç¨‹ä¿¡æ¯ã€‚ è¿™ä¸ªæ–¹æ³•çš„ç¼ºç‚¹æ˜¯ï¼šæ“ä½œèµ·æ¥æ¯”è¾ƒç¹çä»¥åŠæ— æ³•æŸ¥æ‰¾åŒ¹é…çŸ­ç”Ÿå‘½å‘¨æœŸçš„è¿›ç¨‹æ‰€å‘é€çš„ç½‘ç»œæµé‡ã€‚</p><p>è‡³äºåŸºäº tcpdump å®ç°æŠ“å–æŒ‡å®šè¿›ç¨‹çš„ç½‘ç»œæµé‡ï¼Œå¸¸è§çš„æ–¹æ³•æ˜¯ï¼šåœ¨çŸ¥æ™“è¿›ç¨‹è¦è®¿é—®çš„ç›®æ ‡æœåŠ¡åœ°å€ä¿¡æ¯çš„å‰æä¸‹ï¼Œ åœ¨ä½¿ç”¨ tcpdump æ—¶æŒ‰ç›®çš„åœ°å€ä¿¡æ¯è¿‡æ»¤æµé‡ï¼› æˆ–è€…æ˜¯åœ¨ç‰¹å®šçš„ç½‘ç»œå‘½åç©ºé—´ä¸­è¿è¡Œç›®æ ‡è¿›ç¨‹ï¼Œç„¶åå†åœ¨è¯¥ç½‘ç»œå‘½åç©ºé—´ä¸‹ä½¿ç”¨ tcpdump æŠ“åŒ…ã€‚ è¿™ä¸¤ä¸ªæ–¹æ³•çš„ç¼ºç‚¹æ˜¯ï¼šéœ€è¦æå‰çŸ¥æ™“ç›®æ ‡è¿›ç¨‹è®¿é—®çš„ç›®çš„åœ°å€æˆ–è€…éœ€è¦æ”¹å˜ç›®æ ‡è¿›ç¨‹çš„æ‰§è¡Œæ–¹å¼ï¼Œé€‚ç”¨åœºæ™¯æœ‰é™ã€‚</p><p>æœ¬æ–‡å°†ä»‹ç»ä¸€ä¸ªæ–°çš„å·¥å…· ptcpdumpï¼ŒåŸºäºè¿™ä¸ªå·¥å…·ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥åœ¨æŠ“åŒ…æ—¶ç›´æ¥æ„ŸçŸ¥å‘é€æµé‡çš„è¿›ç¨‹ä¿¡æ¯ï¼Œ ä¹Ÿå¯ä»¥ç›´æ¥å¯¹è¿è¡Œä¸­æˆ–å¾…è¿è¡Œçš„ä»»æ„è¿›ç¨‹è¿›è¡Œç½‘ç»œæŠ“åŒ…ã€‚å¦‚æœæµé‡æ˜¯ä»å®¹å™¨å†…çš„è¿›ç¨‹å‘å‡ºçš„è¯ï¼Œ å®ƒè¿˜æ”¯æŒæ˜¾ç¤ºæµé‡çš„å®¹å™¨æˆ– Pod ä¿¡æ¯ä»¥åŠå¯¹ç‰¹å®šå®¹å™¨æˆ– Pod è¿›è¡ŒæŠ“åŒ…ã€‚</p><h2><span id="ptcpdump-ä»‹ç»">ptcpdump ä»‹ç»</span></h2><p>ptcpdump æ˜¯ä¸€ä¸ªä½¿ç”¨ eBPF æŠ€æœ¯å¼€å‘çš„ã€ç±» tcpdump çš„ç½‘ç»œæŠ“åŒ…å·¥å…·ã€‚ å®ƒé™¤äº†å…¼å®¹ tcpdump çš„å¸¸ç”¨å‘½ä»¤è¡Œå‚æ•°ä»¥åŠåŒ…è¿‡æ»¤è¯­æ³•å¤–ï¼Œ è¿˜é¢å¤–æä¾›äº†å¦‚ä¸‹æ ¸å¿ƒç‰¹æ€§ï¼š</p><ul><li>åœ¨è¾“å‡ºä¸­è®°å½•å’Œæ˜¾ç¤ºå‘é€ç½‘ç»œæµé‡çš„è¿›ç¨‹ã€å®¹å™¨ã€Pod ä¿¡æ¯ã€‚</li><li>æ”¯æŒå¯¹æŒ‡å®šè¿›ç¨‹ã€å®¹å™¨ä»¥åŠ Pod è¿›è¡ŒæŠ“åŒ…ã€‚</li><li>æ”¯æŒå°†æŠ“å–çš„æ•°æ®åŒ…ä¿å­˜ä¸º pcapng æ ¼å¼ï¼Œå¯ä»¥ä½¿ç”¨ tcpdump æˆ–è€… Wireshark åšè¿›ä¸€æ­¥åˆ†æã€‚</li><li>å½“åœ¨ Wireshark ä¸­æ‰“å¼€ä¿å­˜çš„ pcapng æ–‡ä»¶æ—¶ï¼Œå°†èƒ½å¤Ÿçœ‹åˆ°æ¯ä¸ªæ•°æ®åŒ…å¯¹åº”çš„è¿›ç¨‹ã€å®¹å™¨ã€Pod ä¿¡æ¯ã€‚</li><li>ä½¿ç”¨é™æ€é“¾æ¥çš„æ–¹å¼ç¼–è¯‘è¯¥å·¥å…·ï¼Œç³»ç»Ÿä¸­ä¸éœ€è¦å®‰è£…é¢å¤–çš„ç³»ç»Ÿé“¾æ¥åº“ã€‚</li></ul><p>æ›´å¤šä¿¡æ¯è¯·å‚è€ƒé¡¹ç›®çš„æºä»£ç ä»“åº“ï¼š <a href="https://github.com/mozillazg/ptcpdump" target="_blank" rel="noopener">https://github.com/mozillazg/ptcpdump</a></p><p>ä¸‹é¢å°†ä»¥ç¤ºä¾‹çš„å½¢å¼ä»‹ç» ptcpdump çš„æ ¸å¿ƒåŠŸèƒ½ã€‚</p><h2><span id="å…¼å®¹-tcpdump-çš„å¸¸ç”¨å‘½ä»¤è¡Œå‚æ•°å’ŒåŒ…è¿‡æ»¤è¯­æ³•">å…¼å®¹ tcpdump çš„å¸¸ç”¨å‘½ä»¤è¡Œå‚æ•°å’ŒåŒ…è¿‡æ»¤è¯­æ³•</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo tcpdump -i eth0 tcp</span><br><span class="line">sudo tcpdump -i eth0 tcp and port 80 and host 10.10.1.1</span><br><span class="line">sudo tcpdump -i eth0 &#39;tcp[tcpflags] &amp; (tcp-syn|tcp-fin) !&#x3D; 0&#39;</span><br><span class="line">sudo tcpdump -i any</span><br><span class="line">sudo tcpdump -i any -s 0 -n -c 100 -w demo.pcapng port 80</span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™äº›å¸¸è§çš„ tcpdump å‘½ä»¤å¯ä»¥ç›´æ¥æ— ç¼æ›¿æ¢ä¸ºå¯¹åº”çš„ ptcpdump å‘½ä»¤ï¼Œåªéœ€è¦å°† tcpdump æ”¹ä¸º ptcpdump å³å¯:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo ptcpdump -i eth0 tcp</span><br><span class="line">sudo ptcpdump -i eth0 tcp and port 80 and host 10.10.1.1</span><br><span class="line">sudo ptcpdump -i eth0 &#39;tcp[tcpflags] &amp; (tcp-syn|tcp-fin) !&#x3D; 0&#39;</span><br><span class="line">sudo ptcpdump -i any</span><br><span class="line">sudo ptcpdump -i any -s 0 -n -c 100 -w demo.pcapng port 80</span><br></pre></td></tr></table></figure><h2><span id="åœ¨è¾“å‡ºä¸­è®°å½•å’Œæ˜¾ç¤ºå‘é€ç½‘ç»œæµé‡çš„è¿›ç¨‹-å®¹å™¨å’Œ-pod-ä¿¡æ¯">åœ¨è¾“å‡ºä¸­è®°å½•å’Œæ˜¾ç¤ºå‘é€ç½‘ç»œæµé‡çš„è¿›ç¨‹ã€å®¹å™¨å’Œ Pod ä¿¡æ¯</span></h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œptcpdump å°†åœ¨è¾“å‡ºä¸­æ˜¾ç¤ºç®€å•çš„è¿›ç¨‹ã€å®¹å™¨ä»¥åŠ Pod ä¿¡æ¯:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ptcpdump -i any -c 4 port 80 or port 443</span><br><span class="line">2024-07-07 12:56:56 WARN ptcpdump: verbose output suppressed, use -v[v]... for verbose output</span><br><span class="line">2024-07-07 12:56:56 WARN capturing on any, link-type EN10MB (Ethernet), snapshot length 262144 bytes</span><br><span class="line">12:56:59.517657 veth18618a4a wget.13626 In IP 10.244.0.4.46834 &gt; 13.251.96.10.443: Flags [S], seq 2743105662, win 64240, length 0, Container [test], Pod [test.default]</span><br><span class="line">12:56:59.517836 eth0 wget.13626 Out IP 172.19.0.2.46834 &gt; 13.251.96.10.443: Flags [S], seq 2743105662, win 64240, length 0, Container [test], Pod [test.default]</span><br><span class="line">12:56:59.692593 eth0 wget.13626 In IP 13.251.96.10.443 &gt; 172.19.0.2.46834: Flags [S.], seq 1966397178, ack 2743105663, win 65084, length 0, Container [test], Pod [test.default]</span><br><span class="line">12:56:59.692754 veth18618a4a wget.13626 Out IP 13.251.96.10.443 &gt; 10.244.0.4.46834: Flags [S.], seq 1966397178, ack 2743105663, win 65084, length 0, Container [test], Pod [test.default]</span><br><span class="line">4 packets captured</span><br><span class="line">6 packets received by filter</span><br><span class="line">0 packets dropped by kernel</span><br></pre></td></tr></table></figure><p>å¯ä»¥é€šè¿‡æŒ‡å®š <code>-v</code> å‚æ•°ï¼ŒæŸ¥çœ‹æ›´è¯¦ç»†çš„è¿›ç¨‹ã€å®¹å™¨ä»¥åŠ Pod ä¿¡æ¯:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">$ ptcpdump -i any -c 4 -v port 80 or port 443</span><br><span class="line">2024-07-07 12:58:59 WARN ptcpdump: capturing on any, link-type EN10MB (Ethernet), snapshot length 262144 bytes</span><br><span class="line">12:59:02.265356 veth18618a4a In IP (tos 0x0, ttl 64, id 35996, offset 0, flags [DF], proto TCP (6), length 60)</span><br><span class="line">    10.244.0.4.41666 &gt; 13.215.144.61.443: Flags [S], cksum 0xa93a, seq 40651020, win 64240, options [mss 1460,sackOK,TS val 2665081987 ecr 0,nop,wscale 7], length 0</span><br><span class="line">    Process (pid 14565, cmd &#x2F;usr&#x2F;bin&#x2F;wget, args wget https:&#x2F;&#x2F;mozillazg.com -O &#x2F;dev&#x2F;null)</span><br><span class="line">    Container (name test, id 78116e60ff73d3dc41c795288fbf955ed543c964e56cada0c3fa466bc939a339, image docker.io&#x2F;library&#x2F;alpine:3.18, labels &#123;&quot;io.cri-containerd.kind&quot;:&quot;container&quot;,&quot;io.kubernetes.container.name&quot;:&quot;test&quot;,&quot;io.kubernetes.pod.name&quot;:&quot;test&quot;,&quot;io.kubernetes.pod.namespace&quot;:&quot;default&quot;,&quot;io.kubernetes.pod.uid&quot;:&quot;9e4bc54b-de48-4b1c-8b9e-54709f67ed0c&quot;&#125;)</span><br><span class="line">    Pod (name test, namespace default, UID 9e4bc54b-de48-4b1c-8b9e-54709f67ed0c, labels &#123;&quot;run&quot;:&quot;test&quot;&#125;, annotations &#123;&quot;kubernetes.io&#x2F;config.seen&quot;:&quot;2024-07-07T12:43:29.121307922Z&quot;,&quot;kubernetes.io&#x2F;config.source&quot;:&quot;api&quot;&#125;)</span><br><span class="line">12:59:02.265606 eth0 Out IP (tos 0x0, ttl 63, id 35996, offset 0, flags [DF], proto TCP (6), length 60)</span><br><span class="line">    172.19.0.2.41666 &gt; 13.215.144.61.443: Flags [S], cksum 0x4a58, seq 40651020, win 64240, options [mss 1460,sackOK,TS val 2665081987 ecr 0,nop,wscale 7], length 0</span><br><span class="line">    Process (pid 14565, cmd &#x2F;usr&#x2F;bin&#x2F;wget, args wget https:&#x2F;&#x2F;mozillazg.com -O &#x2F;dev&#x2F;null)</span><br><span class="line">    Container (name test, id 78116e60ff73d3dc41c795288fbf955ed543c964e56cada0c3fa466bc939a339, image docker.io&#x2F;library&#x2F;alpine:3.18, labels &#123;&quot;io.cri-containerd.kind&quot;:&quot;container&quot;,&quot;io.kubernetes.container.name&quot;:&quot;test&quot;,&quot;io.kubernetes.pod.name&quot;:&quot;test&quot;,&quot;io.kubernetes.pod.namespace&quot;:&quot;default&quot;,&quot;io.kubernetes.pod.uid&quot;:&quot;9e4bc54b-de48-4b1c-8b9e-54709f67ed0c&quot;&#125;)</span><br><span class="line">    Pod (name test, namespace default, UID 9e4bc54b-de48-4b1c-8b9e-54709f67ed0c, labels &#123;&quot;run&quot;:&quot;test&quot;&#125;, annotations &#123;&quot;kubernetes.io&#x2F;config.seen&quot;:&quot;2024-07-07T12:43:29.121307922Z&quot;,&quot;kubernetes.io&#x2F;config.source&quot;:&quot;api&quot;&#125;)</span><br><span class="line">12:59:02.462586 eth0 In IP (tos 0x4, ttl 47, id 0, offset 0, flags [DF], proto TCP (6), length 60)</span><br><span class="line">    13.215.144.61.443 &gt; 172.19.0.2.41666: Flags [S.], cksum 0x9772, seq 3160052321, ack 40651021, win 65084, options [mss 1240,sackOK,TS val 3710435767 ecr 2665081987,nop,wscale 9], length 0</span><br><span class="line">    Process (pid 14565, cmd &#x2F;usr&#x2F;bin&#x2F;wget, args wget https:&#x2F;&#x2F;mozillazg.com -O &#x2F;dev&#x2F;null)</span><br><span class="line">    Container (name test, id 78116e60ff73d3dc41c795288fbf955ed543c964e56cada0c3fa466bc939a339, image docker.io&#x2F;library&#x2F;alpine:3.18, labels &#123;&quot;io.cri-containerd.kind&quot;:&quot;container&quot;,&quot;io.kubernetes.container.name&quot;:&quot;test&quot;,&quot;io.kubernetes.pod.name&quot;:&quot;test&quot;,&quot;io.kubernetes.pod.namespace&quot;:&quot;default&quot;,&quot;io.kubernetes.pod.uid&quot;:&quot;9e4bc54b-de48-4b1c-8b9e-54709f67ed0c&quot;&#125;)</span><br><span class="line">    Pod (name test, namespace default, UID 9e4bc54b-de48-4b1c-8b9e-54709f67ed0c, labels &#123;&quot;run&quot;:&quot;test&quot;&#125;, annotations &#123;&quot;kubernetes.io&#x2F;config.seen&quot;:&quot;2024-07-07T12:43:29.121307922Z&quot;,&quot;kubernetes.io&#x2F;config.source&quot;:&quot;api&quot;&#125;)</span><br><span class="line">12:59:02.462782 veth18618a4a Out IP (tos 0x4, ttl 46, id 0, offset 0, flags [DF], proto TCP (6), length 60)</span><br><span class="line">    13.215.144.61.443 &gt; 10.244.0.4.41666: Flags [S.], cksum 0x3890, seq 3160052321, ack 40651021, win 65084, options [mss 1240,sackOK,TS val 3710435767 ecr 2665081987,nop,wscale 9], length 0</span><br><span class="line">    Process (pid 14565, cmd &#x2F;usr&#x2F;bin&#x2F;wget, args wget https:&#x2F;&#x2F;mozillazg.com -O &#x2F;dev&#x2F;null)</span><br><span class="line">    Container (name test, id 78116e60ff73d3dc41c795288fbf955ed543c964e56cada0c3fa466bc939a339, image docker.io&#x2F;library&#x2F;alpine:3.18, labels &#123;&quot;io.cri-containerd.kind&quot;:&quot;container&quot;,&quot;io.kubernetes.container.name&quot;:&quot;test&quot;,&quot;io.kubernetes.pod.name&quot;:&quot;test&quot;,&quot;io.kubernetes.pod.namespace&quot;:&quot;default&quot;,&quot;io.kubernetes.pod.uid&quot;:&quot;9e4bc54b-de48-4b1c-8b9e-54709f67ed0c&quot;&#125;)</span><br><span class="line">    Pod (name test, namespace default, UID 9e4bc54b-de48-4b1c-8b9e-54709f67ed0c, labels &#123;&quot;run&quot;:&quot;test&quot;&#125;, annotations &#123;&quot;kubernetes.io&#x2F;config.seen&quot;:&quot;2024-07-07T12:43:29.121307922Z&quot;,&quot;kubernetes.io&#x2F;config.source&quot;:&quot;api&quot;&#125;)</span><br><span class="line">4 packets captured</span><br><span class="line">6 packets received by filter</span><br><span class="line">0 packets dropped by kernel</span><br></pre></td></tr></table></figure><h2><span id="æ”¯æŒå¯¹æŒ‡å®šè¿›ç¨‹-å®¹å™¨æˆ–-pod-è¿›è¡ŒæŠ“åŒ…">æ”¯æŒå¯¹æŒ‡å®šè¿›ç¨‹ã€å®¹å™¨æˆ– Pod è¿›è¡ŒæŠ“åŒ…</span></h2><h3><span id="æŒ‡å®šè¿›ç¨‹-pid-æŠ“åŒ…">æŒ‡å®šè¿›ç¨‹ pid æŠ“åŒ…</span></h3><p>å¯ä»¥é€šè¿‡ <code>--pid</code> å‚æ•°æŒ‡å®šè¦æŠ“åŒ…çš„è¿›ç¨‹ pidï¼Œå®ç°å¯¹æŒ‡å®šè¿›ç¨‹è¿›è¡ŒæŠ“åŒ…:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ptcpdump -i any -c 4 --pid 82106</span><br><span class="line">2024-07-07 13:11:40 WARN ptcpdump: verbose output suppressed, use -v[v]... for verbose output</span><br><span class="line">2024-07-07 13:11:40 WARN capturing on any, link-type EN10MB (Ethernet), snapshot length 262144 bytes</span><br><span class="line">13:11:50.170538 ens33 python3.10.82106 Out IP 10.0.2.15.36648 &gt; 13.251.96.10.443: Flags [S], seq 1633417447, win 64240, length 0</span><br><span class="line">13:11:50.369972 ens33 python3.10.82106 In IP 13.251.96.10.443 &gt; 10.0.2.15.36648: Flags [S.], seq 1793291274, ack 1633417448, win 64240, length 0</span><br><span class="line">2 packets captured</span><br><span class="line">3 packets received by filter</span><br><span class="line">0 packets dropped by kernel</span><br></pre></td></tr></table></figure><p>åŒæ—¶è¿˜å¯ä»¥é€šè¿‡æŒ‡å®š <code>-f</code> å‚æ•°å¯¹è¯¥è¿›ç¨‹åˆ›å»ºçš„å­è¿›ç¨‹ä¹Ÿè¿›è¡ŒæŠ“åŒ…:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ptcpdump -i any -c 4 --pid 82106 -f &#39;tcp[tcpflags] &amp; tcp-fin !&#x3D; 0&#39;</span><br><span class="line">2024-07-07 13:17:31 WARN ptcpdump: verbose output suppressed, use -v[v]... for verbose output</span><br><span class="line">2024-07-07 13:17:31 WARN capturing on any, link-type EN10MB (Ethernet), snapshot length 262144 bytes</span><br><span class="line">13:17:37.800903 ens33 python3.10.82106 Out IP 10.0.2.15.38576 &gt; 52.74.166.77.443: Flags [F.], seq 2442149577, ack 367271121, win 62780, length 0</span><br><span class="line">13:17:37.977316 ens33 python3.10.82106 In IP 52.74.166.77.443 &gt; 10.0.2.15.38576: Flags [FP.], seq 367271145, ack 2442149578, win 64239, length 0</span><br><span class="line">13:17:44.390627 ens33 curl.95920 Out IP 10.0.2.15.38590 &gt; 52.74.166.77.443: Flags [F.], seq 3726932781, ack 1510095004, win 63045, length 0</span><br><span class="line">13:17:44.564990 ens33 curl.95920 In IP 52.74.166.77.443 &gt; 10.0.2.15.38590: Flags [FP.], seq 1510095028, ack 3726932782, win 64239, length 0</span><br><span class="line">4 packets captured</span><br><span class="line">4 packets received by filter</span><br><span class="line">0 packets dropped by kernel</span><br></pre></td></tr></table></figure><h3><span id="æŒ‡å®šè¿›ç¨‹åç§°æŠ“åŒ…">æŒ‡å®šè¿›ç¨‹åç§°æŠ“åŒ…</span></h3><p>å¯ä»¥é€šè¿‡ <code>--pname</code> å‚æ•°æŒ‡å®šè¿›ç¨‹åç§°ï¼ˆcommï¼‰ï¼Œå®ç°æŒ‡å®šè¿›ç¨‹åç§°æŠ“åŒ…:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ptcpdump -i any -c 2 --pname curl</span><br><span class="line">2024-07-07 13:23:18 WARN ptcpdump: verbose output suppressed, use -v[v]... for verbose output</span><br><span class="line">2024-07-07 13:23:18 WARN capturing on any, link-type EN10MB (Ethernet), snapshot length 262144 bytes</span><br><span class="line">13:23:24.881499 lo curl.26511 Out IP 127.0.0.1.43332 &gt; 127.0.0.53.53: 44133+ [1au] A? mozillazg.com. (42)</span><br><span class="line">13:23:24.881663 lo curl.26511 Out IP 127.0.0.1.43332 &gt; 127.0.0.53.53: 14694+ [1au] AAAA? mozillazg.com. (42)</span><br><span class="line">2 packets captured</span><br><span class="line">2 packets received by filter</span><br><span class="line">0 packets dropped by kernel</span><br></pre></td></tr></table></figure><h3><span id="é€šè¿‡è¿è¡Œç›®æ ‡ç¨‹åºæ¥æŠ“åŒ…">é€šè¿‡è¿è¡Œç›®æ ‡ç¨‹åºæ¥æŠ“åŒ…</span></h3><p>æœ‰éœ€è¦çš„è¯ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä½¿ç”¨ <code>--</code> å‚æ•°è¿è¡Œç›®æ ‡ç¨‹åºçš„æ–¹å¼æ¥å®ç°å¯¹ç‰¹å®šç¨‹åºè¿›è¡ŒæŠ“åŒ…:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ptcpdump -i any -- curl -I https:&#x2F;&#x2F;mozillazg.com</span><br><span class="line">2024-07-07 13:26:44 WARN ptcpdump: verbose output suppressed, use -v[v]... for verbose output</span><br><span class="line">2024-07-07 13:26:44 WARN capturing on any, link-type EN10MB (Ethernet), snapshot length 262144 bytes</span><br><span class="line">13:26:44.055757 lo curl.28094 Out IP 127.0.0.1.48826 &gt; 127.0.0.53.53: 8942+ [1au] A? mozillazg.com. (42)</span><br><span class="line">13:26:44.055914 lo curl.28094 Out IP 127.0.0.1.48826 &gt; 127.0.0.53.53: 34274+ [1au] AAAA? mozillazg.com. (42)</span><br><span class="line">13:26:44.775840 lo curl.28094 In IP 127.0.0.53.53 &gt; 127.0.0.1.48826: 8942 3&#x2F;0&#x2F;1 CNAME mozillazg.netlify.com., A 13.251.96.10, A 46.137.195.11 (106)</span><br><span class="line">13:26:45.135988 lo curl.28094 In IP 127.0.0.53.53 &gt; 127.0.0.1.48826: 34274 3&#x2F;0&#x2F;1 CNAME mozillazg.netlify.com., AAAA 2406:da18:880:3802::c8, AAAA 2406:da18:b3d:e202::64 (130)</span><br><span class="line">13:26:45.136819 wlp4s0 curl.28094 Out IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744 &gt; 2406:da18:880:3802::c8.443: Flags [S], seq 3460683104, win 64800, length 0</span><br><span class="line">13:26:45.310505 wlp4s0 curl.28094 In IP6 2406:da18:880:3802::c8.443 &gt; 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744: Flags [S.], seq 630810442, ack 3460683105, win 65232, length 0</span><br><span class="line">13:26:45.310821 wlp4s0 curl.28094 Out IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744 &gt; 2406:da18:880:3802::c8.443: Flags [.], seq 3460683105, ack 630810443, win 507, length 0</span><br><span class="line">13:26:45.414551 wlp4s0 curl.28094 Out IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744 &gt; 2406:da18:880:3802::c8.443: Flags [P.], seq 3460683105:3460683622, ack 630810443, win 507, length 517</span><br><span class="line">13:26:45.595214 wlp4s0 curl.28094 In IP6 2406:da18:880:3802::c8.443 &gt; 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744: Flags [.], seq 630810443, ack 3460683622, win 127, length 0</span><br><span class="line">13:26:45.595413 wlp4s0 curl.28094 In IP6 2406:da18:880:3802::c8.443 &gt; 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744: Flags [.], seq 630810443:630811651, ack 3460683622, win 127, length 1208</span><br><span class="line">13:26:45.595595 wlp4s0 curl.28094 Out IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744 &gt; 2406:da18:880:3802::c8.443: Flags [.], seq 3460683622, ack 630811651, win 501, length 0</span><br><span class="line">13:26:45.595702 wlp4s0 curl.28094 In IP6 2406:da18:880:3802::c8.443 &gt; 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744: Flags [P.], seq 630811651:630812859, ack 3460683622, win 127, length 1208</span><br><span class="line">13:26:45.595797 wlp4s0 curl.28094 Out IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744 &gt; 2406:da18:880:3802::c8.443: Flags [.], seq 3460683622, ack 630812859, win 492, length 0</span><br><span class="line">13:26:45.595862 wlp4s0 curl.28094 In IP6 2406:da18:880:3802::c8.443 &gt; 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744: Flags [P.], seq 630812859:630813338, ack 3460683622, win 127, length 479</span><br><span class="line">13:26:45.595934 wlp4s0 curl.28094 Out IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744 &gt; 2406:da18:880:3802::c8.443: Flags [.], seq 3460683622, ack 630813338, win 489, length 0</span><br><span class="line">13:26:45.600998 wlp4s0 curl.28094 Out IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744 &gt; 2406:da18:880:3802::c8.443: Flags [P.], seq 3460683622:3460683686, ack 630813338, win 489, length 64</span><br><span class="line">13:26:45.601344 wlp4s0 curl.28094 Out IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744 &gt; 2406:da18:880:3802::c8.443: Flags [P.], seq 3460683686:3460683781, ack 630813338, win 489, length 95</span><br><span class="line">13:26:45.616759 wlp4s0 curl.28094 Out IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744 &gt; 2406:da18:880:3802::c8.443: Flags [P.], seq 3460683781:3460683882, ack 630813338, win 501, length 101</span><br><span class="line">13:26:45.779516 wlp4s0 curl.28094 In IP6 2406:da18:880:3802::c8.443 &gt; 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744: Flags [.], seq 630813338, ack 3460683781, win 127, length 0</span><br><span class="line">13:26:45.779792 wlp4s0 curl.28094 In IP6 2406:da18:880:3802::c8.443 &gt; 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744: Flags [P.], seq 630813338:630813399, ack 3460683781, win 127, length 61</span><br><span class="line">13:26:45.779996 wlp4s0 curl.28094 In IP6 2406:da18:880:3802::c8.443 &gt; 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744: Flags [P.], seq 630813399:630813443, ack 3460683781, win 127, length 44</span><br><span class="line">13:26:45.780318 wlp4s0 curl.28094 Out IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744 &gt; 2406:da18:880:3802::c8.443: Flags [P.], seq 3460683882:3460683913, ack 630813443, win 501, length 31</span><br><span class="line">HTTP&#x2F;2 200</span><br><span class="line">13:26:45.788787 wlp4s0 curl.28094 In IP6 2406:da18:880:3802::c8.443 &gt; 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744: Flags [P.], seq 630813443:630813677, ack 3460683882, win 127, length 234</span><br><span class="line">accept-ranges: bytes</span><br><span class="line">age: 79059</span><br><span class="line">cache-control: public,max-age&#x3D;0,must-revalidate</span><br><span class="line">cache-status: &quot;Netlify Edge&quot;; hit</span><br><span class="line">content-type: text&#x2F;html; charset&#x3D;UTF-8</span><br><span class="line">date: Sun, 07 Jul 2024 05:26:44 GMT</span><br><span class="line">etag: &quot;80cf37f5974e2232d976c6f622121dee-ssl&quot;</span><br><span class="line">server: Netlify</span><br><span class="line">strict-transport-security: max-age&#x3D;31536000</span><br><span class="line">x-nf-request-id: 01J25THACQSN9364YHSR2C0X5F</span><br><span class="line">content-length: 11727</span><br><span class="line"></span><br><span class="line">13:26:45.789558 wlp4s0 curl.28094 Out IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744 &gt; 2406:da18:880:3802::c8.443: Flags [P.], seq 3460683913:3460683937, ack 630813677, win 501, length 24</span><br><span class="line">13:26:45.791514 wlp4s0 curl.28094 Out IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744 &gt; 2406:da18:880:3802::c8.443: Flags [F.], seq 3460683937, ack 630813677, win 501, length 0</span><br><span class="line">13:26:45.963642 wlp4s0 curl.28094 In IP6 2406:da18:880:3802::c8.443 &gt; 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744: Flags [.], seq 630813677, ack 3460683937, win 127, length 0</span><br><span class="line">13:26:45.963956 wlp4s0 curl.28094 In IP6 2406:da18:880:3802::c8.443 &gt; 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744: Flags [P.], seq 630813677:630813701, ack 3460683937, win 127, length 24</span><br><span class="line">13:26:45.964172 wlp4s0 curl.28094 Out IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744 &gt; 2406:da18:880:3802::c8.443: Flags [R], seq 3460683937, win 0, length 0</span><br><span class="line">13:26:45.964415 wlp4s0 curl.28094 In IP6 2406:da18:880:3802::c8.443 &gt; 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744: Flags [F.], seq 630813701, ack 3460683937, win 127, length 0</span><br><span class="line">13:26:45.964506 wlp4s0 curl.28094 Out IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744 &gt; 2406:da18:880:3802::c8.443: Flags [R], seq 3460683937, win 0, length 0</span><br><span class="line">13:26:45.966158 wlp4s0 curl.28094 In IP6 2406:da18:880:3802::c8.443 &gt; 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744: Flags [.], seq 630813702, ack 3460683938, win 127, length 0</span><br><span class="line">13:26:45.966299 wlp4s0 curl.28094 Out IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.53744 &gt; 2406:da18:880:3802::c8.443: Flags [R], seq 3460683938, win 0, length 0</span><br><span class="line">32 packets captured</span><br><span class="line">32 packets received by filter</span><br><span class="line">0 packets dropped by kernel</span><br></pre></td></tr></table></figure><h3><span id="æŒ‡å®šå®¹å™¨æŠ“åŒ…">æŒ‡å®šå®¹å™¨æŠ“åŒ…</span></h3><p>å¯ä»¥é€šè¿‡ <code>--container-id</code> å‚æ•°æŒ‡å®šå®¹å™¨ id è¿›è¡ŒæŠ“åŒ…:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ptcpdump -i any -c 2 --container-id 36f0310403b1</span><br><span class="line">2024-07-07 13:36:19 WARN ptcpdump: verbose output suppressed, use -v[v]... for verbose output</span><br><span class="line">2024-07-07 13:36:19 WARN capturing on any, link-type EN10MB (Ethernet), snapshot length 262144 bytes</span><br><span class="line">13:36:24.191242 veth09dec8f curl.32636 In IP 172.19.0.2.48960 &gt; 18.139.194.139.443: Flags [S], seq 3213779351, win 64240, length 0, Container [kind-control-plane]</span><br><span class="line">13:36:24.191369 wlp4s0 curl.32636 Out IP 192.168.1.50.48960 &gt; 18.139.194.139.443: Flags [S], seq 3213779351, win 64240, length 0, Container [kind-control-plane]</span><br><span class="line">2 packets captured</span><br><span class="line">2 packets received by filter</span><br><span class="line">0 packets dropped by kernel</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥é€šè¿‡ <code>--container-name</code> å‚æ•°æŒ‡å®šå®¹å™¨åç§°è¿›è¡ŒæŠ“åŒ…:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ptcpdump -i any -c 2 --container-name kind-control-plane</span><br><span class="line">2024-07-07 13:37:16 WARN ptcpdump: verbose output suppressed, use -v[v]... for verbose output</span><br><span class="line">2024-07-07 13:37:16 WARN capturing on any, link-type EN10MB (Ethernet), snapshot length 262144 bytes</span><br><span class="line">13:37:22.560764 veth09dec8f curl.33093 In IP 172.19.0.2.39084 &gt; 18.139.194.139.443: Flags [S], seq 3645727033, win 64240, length 0, Container [kind-control-plane]</span><br><span class="line">13:37:22.561010 wlp4s0 curl.33093 Out IP 192.168.1.50.39084 &gt; 18.139.194.139.443: Flags [S], seq 3645727033, win 64240, length 0, Container [kind-control-plane]</span><br><span class="line">2 packets captured</span><br><span class="line">2 packets received by filter</span><br><span class="line">0 packets dropped by kernel</span><br></pre></td></tr></table></figure><h3><span id="æŒ‡å®š-pod-æŠ“åŒ…">æŒ‡å®š Pod æŠ“åŒ…</span></h3><p>å¯ä»¥é€šè¿‡ <code>--pod-name</code> å‚æ•°æŒ‡å®š Pod åç§°è¿›è¡ŒæŠ“åŒ…, å‚æ•°å€¼çš„æ ¼å¼ä¸º <code>&lt;pod åç§°&gt;.&lt;pod å‘½åç©ºé—´&gt;</code>:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ptcpdump -i any -c 2 --pod-name test.default</span><br><span class="line">2024-07-07 13:38:29 WARN ptcpdump: verbose output suppressed, use -v[v]... for verbose output</span><br><span class="line">2024-07-07 13:38:29 WARN capturing on any, link-type EN10MB (Ethernet), snapshot length 262144 bytes</span><br><span class="line">13:38:34.175752 eth0 wget.33660 Out IP 172.19.0.2.51564 &gt; 13.215.144.61.443: Flags [S], seq 567383917, win 64240, length 0, Container [test], Pod [test.default]</span><br><span class="line">13:38:34.372894 eth0 wget.33660 In IP 13.215.144.61.443 &gt; 172.19.0.2.51564: Flags [S.], seq 2654865684, ack 567383918, win 65084, length 0, Container [test], Pod [test.default]</span><br><span class="line">2 packets captured</span><br><span class="line">3 packets received by filter</span><br><span class="line">0 packets dropped by kernel</span><br></pre></td></tr></table></figure><h2><span id="å°†æ•°æ®ä¿å­˜ä¸º-pcapng-æ ¼å¼ä½¿ç”¨-tcpdump-æˆ–-wireshark-è¿›è¡Œåˆ†æ">å°†æ•°æ®ä¿å­˜ä¸º pcapng æ ¼å¼ä½¿ç”¨ tcpdump æˆ– Wireshark è¿›è¡Œåˆ†æ</span></h2><h3><span id="ä¿å­˜ä¸º-pcapng-æ ¼å¼">ä¿å­˜ä¸º pcapng æ ¼å¼</span></h3><p>å¯ä»¥é€šè¿‡ <code>-w</code> å‚æ•°å°†æŠ“åŒ…æ•°æ®ä¿å­˜ä¸º pcapng æ ¼å¼:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ptcpdump -i any -c 5 -w demo.pcapng</span><br><span class="line">2024-07-07 13:41:32 WARN ptcpdump: verbose output suppressed, use -v[v]... for verbose output</span><br><span class="line">2024-07-07 13:41:32 WARN capturing on any, link-type EN10MB (Ethernet), snapshot length 262144 bytes</span><br><span class="line">5 packets captured</span><br><span class="line">22 packets received by filter</span><br><span class="line">0 packets dropped by kernel</span><br></pre></td></tr></table></figure><h3><span id="ä½¿ç”¨-tcpdump-è¿›è¡Œåˆ†æ">ä½¿ç”¨ tcpdump è¿›è¡Œåˆ†æ</span></h3><p>å¯ä»¥ç›´æ¥é€šè¿‡ç®¡é“çš„æ–¹å¼é€šè¿‡ tcpdump å¯¹æŠ“å–çš„æ•°æ®è¿›è¡Œåˆ†æ:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ptcpdump -i any -c 5 -w - port 80 | tcpdump -n -r -</span><br><span class="line">reading from file -, link-type EN10MB (Ethernet), snapshot length 65535</span><br><span class="line">2024-07-07 13:44:33 WARN ptcpdump: verbose output suppressed, use -v[v]... for verbose output</span><br><span class="line">2024-07-07 13:44:33 WARN capturing on any, link-type EN10MB (Ethernet), snapshot length 262144 bytes</span><br><span class="line">13:44:44.530637 IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.50858 &gt; 2406:da18:880:3801::c8.80: Flags [S], seq 495824072, win 64800, options [mss 1440,sackOK,TS val 2411675580 ecr 0,nop,wscale 7], length 0</span><br><span class="line">13:44:44.708902 IP6 2406:da18:880:3801::c8.80 &gt; 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.50858: Flags [S.], seq 640438481, ack 495824073, win 65232, options [mss 1220,sackOK,TS val 1591525382 ecr 2411675580,nop,wscale 9], length 0</span><br><span class="line">13:44:44.709261 IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.50858 &gt; 2406:da18:880:3801::c8.80: Flags [.], ack 1, win 507, options [nop,nop,TS val 2411675670 ecr 1591525382], length 0</span><br><span class="line">13:44:44.709475 IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.50858 &gt; 2406:da18:880:3801::c8.80: Flags [P.], seq 1:78, ack 1, win 507, options [nop,nop,TS val 2411675670 ecr 1591525382], length 77: HTTP: GET &#x2F; HTTP&#x2F;1.1</span><br><span class="line">5 packets captured</span><br><span class="line">6 packets received by filter</span><br><span class="line">0 packets dropped by kernel</span><br><span class="line">13:44:44.877110 IP6 2406:da18:880:3801::c8.80 &gt; 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.50858: Flags [P.], seq 1:266, ack 78, win 128, options [nop,nop,TS val 1591525469 ecr 2411675670], length 265: HTTP: HTTP&#x2F;1.1 301 Moved Permanently</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥é€šè¿‡è¯»å–æ–‡ä»¶çš„æ–¹å¼é€šè¿‡ tcpdump å¯¹æŠ“å–çš„æ•°æ®è¿›è¡Œåˆ†æ:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ tcpdump -n -r demo.pcapng</span><br><span class="line">reading from file demo.pcapng, link-type EN10MB (Ethernet), snapshot length 65535</span><br><span class="line">13:47:41.169584 IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.43038 &gt; 2406:da18:b3d:e201::64.80: Flags [S], seq 3876639697, win 64800, options [mss 1440,sackOK,TS val 2072195434 ecr 0,nop,wscale 7], length 0</span><br><span class="line">13:47:41.571055 IP 192.168.1.50.60580 &gt; 18.139.194.139.80: Flags [S], seq 481256927, win 64240, options [mss 1460,sackOK,TS val 2707199178 ecr 0,nop,wscale 7], length 0</span><br><span class="line">13:47:41.956270 IP6 2406:da18:b3d:e201::64.80 &gt; 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.43038: Flags [S.], seq 2283576526, ack 3876639698, win 65232, options [mss 1220,sackOK,TS val 4276006323 ecr 2072195434,nop,wscale 9], length 0</span><br><span class="line">13:47:41.956437 IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.43038 &gt; 2406:da18:b3d:e201::64.80: Flags [.], ack 1, win 507, options [nop,nop,TS val 2072195828 ecr 4276006323], length 0</span><br><span class="line">13:47:41.956733 IP6 2409:8a00:2631:22f0:acdc:55a6:9015:b8f1.43038 &gt; 2406:da18:b3d:e201::64.80: Flags [P.], seq 1:78, ack 1, win 507, options [nop,nop,TS val 2072195828 ecr 4276006323], length 77: HTTP: GET &#x2F; HTTP&#x2F;1.1</span><br></pre></td></tr></table></figure><h3><span id="ä½¿ç”¨-wireshark-è¿›è¡Œåˆ†æ">ä½¿ç”¨ Wireshark è¿›è¡Œåˆ†æ</span></h3><p>å½“ä½¿ç”¨ Wireshark æ‰“å¼€ä¿å­˜çš„ pcapng æ ¼å¼çš„æ–‡ä»¶æ—¶ï¼Œå°†åœ¨ Wireshark çš„ç•Œé¢ä¸­æ˜¾ç¤ºç›¸å…³çš„è¿›ç¨‹ã€å®¹å™¨ä»¥åŠ Pod ä¿¡æ¯ï¼š</p><p><img src="https://img.hi-linux.com/staticfile/ptcpdump-wireshark-20240708174042896-2024-07-08-lyveCv.png" alt></p><h2><span id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</span></h2><ul><li><a href="https://github.com/mozillazg/ptcpdump" target="_blank" rel="noopener">mozillazg/ptcpdump: Process-aware, eBPF-based tcpdump</a></li><li><a href="https://www.tcpdump.org/manpages/tcpdump.1-4.99.4.html" target="_blank" rel="noopener">tcpdump(1) man page | TCPDUMP &amp; LIBPCAP</a></li></ul><blockquote><p>æœ¬æ–‡è½¬è½½è‡ªï¼šã€Œ mozillazgâ€™s Blog ã€ï¼ŒåŸæ–‡ï¼š<a href="https://url.hi-linux.com/6H5QD" target="_blank" rel="noopener">https://url.hi-linux.com/6H5QD</a> ï¼Œç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚æ¬¢è¿æŠ•ç¨¿ï¼ŒæŠ•ç¨¿é‚®ç®±: <a href="mailto:editor@hi-linux.com">editor@hi-linux.com</a>ã€‚</p></blockquote></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "10135-1588830050631-449",        "name": "ã€Œå¥‡å¦™çš„ Linux ä¸–ç•Œã€",        "qrcode": "https://www.hi-linux.com/img/wechat/mp_qrcode_12.jpg",        "keyword": "VIP"    });}</script>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;div id=&quot;vip-container&quot;&gt;&lt;h2&gt;&lt;span id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;tcpdump æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„ä¸€ä¸ªç½‘ç»œæŠ“åŒ…å·¥å…·ï¼Œå®ƒçš„åŠŸèƒ½éå¸¸çš„å¼ºå¤§ã€‚ä½†æ˜¯å®ƒè¿˜ç¼ºå°‘ä¸€ä¸ªå¤§å®¶åé¦ˆå¾ˆä¹…å´ä¸€ç›´æ²¡å®ç°çš„ä¸€ä¸ªç‰¹æ€§ï¼Œ
        
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/tags/Linux/"/>
    
      <category term="ptcpdump" scheme="https://www.hi-linux.com/tags/ptcpdump/"/>
    
      <category term="tcpdump" scheme="https://www.hi-linux.com/tags/tcpdump/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€æ¬¾ AI ç¼–å†™çš„ Kubernetes å®ç”¨å°å·¥å…·ï¼ŒåŠ©ä½ ä¸€é”®æ‰¹é‡æ£€æŸ¥å®¹å™¨æœåŠ¡å¥åº·çŠ¶æ€</title>
    <link href="https://www.hi-linux.com/posts/13493.html"/>
    <id>https://www.hi-linux.com/posts/13493.html</id>
    <published>2024-07-12T01:00:00.000Z</published>
    <updated>2024-07-12T05:48:14.828Z</updated>
    
    <content type="html"><![CDATA[<div id="vip-container"><p><code>check-k8s-network</code> æ˜¯ä¸€æ¬¾ AI ç¼–å†™çš„ <code>Kubernetes</code> ç½‘ç»œè¿é€šæ€§æ£€æŸ¥å°å·¥å…·ï¼Œå®ƒä¸»è¦ç”¨äºæ£€æŸ¥ <code>Kubernetes</code> é›†ç¾¤ä¸­å„ä¸ªå®¹å™¨çš„ç½‘ç»œè¿é€šæ€§ï¼Œæ”¯æŒ <code>ICMP</code>ã€<code>TCP</code>ã€<code>UDP</code> å’Œ <code>HTTP</code> æ£€æŸ¥ã€‚</p><p>ä½ å¯ä»¥åœ¨æŒ‡å®šçš„å‘½åç©ºé—´å†…æŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„ <code>Pod</code>ï¼Œå¹¶å¯¹å…¶è¿›è¡Œç½‘ç»œè¿é€šæ€§è¿›è¡Œè‡ªåŠ¨æ£€æµ‹ã€‚</p><a id="more"></a><h2><span id="å®‰è£…">å®‰è£…</span></h2><p><code>check-k8s-network</code> ä½¿ç”¨ <code>Python</code> ç¼–å†™ï¼Œéœ€è¦å®‰è£… <code>Python 3.9</code> ç‰ˆæœ¬å’Œä¸€äº›ä¾èµ–åº“ã€‚</p><p>ä¸ºäº†æ›´å¥½çš„ä½“éªŒï¼Œæˆ‘ä»¬å‘å¸ƒäº† <code>Docker</code> é•œåƒï¼Œä½ åªéœ€è¦ä¸‹è½½ <code>Docker</code> é•œåƒå³å¯ä½¿ç”¨ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker pull 80imike/check-k8s-network:latest</span><br></pre></td></tr></table></figure><h2><span id="å¸¸ç”¨å‚æ•°è¯´æ˜">å¸¸ç”¨å‚æ•°è¯´æ˜</span></h2><ul><li><code>-n, --namespace</code>ï¼šæŒ‡å®š Kubernetes å‘½åç©ºé—´ï¼Œé»˜è®¤å€¼ä¸º <code>default</code>ã€‚</li><li><code>-c, --container</code>ï¼šæŒ‡å®šå®¹å™¨åï¼Œæ ¹æ®è¯¥å®¹å™¨ååŒ¹é… Podï¼Œæ”¯æŒæ¨¡ç³ŠåŒ¹é…ã€‚</li><li><code>-i, --icmp</code>ï¼šä½¿ç”¨ ICMP åè®®è¿›è¡Œæ£€æŸ¥ã€‚</li><li><code>-t, --tcp</code>ï¼šä½¿ç”¨ TCP åè®®è¿›è¡Œæ£€æŸ¥ï¼Œå¹¶æŒ‡å®šç«¯å£å·ã€‚</li><li><code>-u, --udp</code>ï¼šä½¿ç”¨ UDP åè®®è¿›è¡Œæ£€æŸ¥ï¼Œå¹¶æŒ‡å®šç«¯å£å·ã€‚</li><li><code>-w, --http</code>ï¼šä½¿ç”¨ HTTP åè®®è¿›è¡Œæ£€æŸ¥ï¼Œå¹¶æŒ‡å®š URLã€‚</li><li><code>--auto-http</code>ï¼šè‡ªåŠ¨æŸ¥æ‰¾å½“å‰ Pod çš„ IP å’ŒæœåŠ¡ç«¯å£è¿›è¡Œ HTTP æ£€æŸ¥ã€‚</li><li><code>--auto-tcp</code>ï¼šè‡ªåŠ¨æŸ¥æ‰¾å½“å‰ Pod çš„ IP å’ŒæœåŠ¡ç«¯å£è¿›è¡Œ TCP æ£€æŸ¥ã€‚</li><li><code>--auto-udp</code>ï¼šè‡ªåŠ¨æŸ¥æ‰¾å½“å‰ Pod çš„ IP å’ŒæœåŠ¡ç«¯å£è¿›è¡Œ UDP æ£€æŸ¥ã€‚</li><li><code>--all</code>ï¼šåŒæ—¶ä½¿ç”¨ ICMPã€TCPã€UDP å’Œ HTTP å››ç§æ£€æŸ¥æ–¹å¼è¿›è¡Œæ£€æµ‹ã€‚</li></ul><h2><span id="è¾“å‡ºç»“æœ">è¾“å‡ºç»“æœ</span></h2><p><code>check-k8s-network</code> ä¼šè¾“å‡ºä¸€ä¸ªåŒ…å«æ£€æŸ¥ç»“æœçš„è¡¨æ ¼ï¼Œå†…å®¹åŒ…æ‹¬:</p><ul><li>åºå·</li><li>æ£€æŸ¥ç±»å‹</li><li>æº Pod</li><li>ç›®æ ‡</li><li>ç»“æœ (æˆåŠŸ or å¤±è´¥)</li><li>é”™è¯¯ä¿¡æ¯</li></ul><p>è¯¥è¡¨æ ¼ä¼šå¯¹æ¯ä¸ª Pod è¿›è¡Œè‡ªåŠ¨æ’åºï¼Œå¹¶å¯¹ç»“æœè¿›è¡Œå¯¹é½å’Œæ ¼å¼åŒ–ã€‚</p><h2><span id="ä½¿ç”¨ç¤ºä¾‹">ä½¿ç”¨ç¤ºä¾‹</span></h2><h3><span id="å¸¸ç”¨ä½¿ç”¨ç¤ºä¾‹">å¸¸ç”¨ä½¿ç”¨ç¤ºä¾‹</span></h3><blockquote><p>æ³¨æ„ï¼š</p><ol><li>è¯¥å·¥å…·è¯·åœ¨ <code>Kubernetes</code> é›†ç¾¤å†…çš„ä¸»æœºä¸Šä½¿ç”¨ï¼Œå¹¶ç¡®ä¿æ‚¨æ‰€åœ¨ä¸»æœºä¸Šå·²ç»é…ç½®äº† K8s é›†ç¾¤è®¤è¯æ–‡ä»¶ <code>~/.kube/config</code>ã€‚</li><li>-v å‚æ•°ç”¨äºå°†å®¿ä¸»æœºä¸Šçš„ <code>~/.kube/config</code> æ–‡ä»¶æ˜ å°„åˆ°å®¹å™¨å†…çš„ <code>/root/.kube/config</code> æ–‡ä»¶ä¸­ï¼Œä»¥ä¾¿å®¹å™¨å†…çš„ <code>Python</code> è„šæœ¬å¯ä»¥è®¿é—® <code>Kubernetes</code> é›†ç¾¤ã€‚</li></ol></blockquote><ol><li>æ£€æŸ¥æŒ‡å®šå‘½åç©ºé—´ä¸‹æ‰€æœ‰ Pod çš„ ICMP è¿é€šæ€§:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker run --network host --rm \</span><br><span class="line">  -v ~/.kube/config:/root/.kube/config \</span><br><span class="line">  80imike/check-k8s-network:latest -n hi-linux --icmp</span><br></pre></td></tr></table></figure><p><img src="https://img.hi-linux.com/staticfile/1HVocZ-2024-07-11-qZm7ag.png" alt></p><ol start="2"><li>æ£€æŸ¥æŒ‡å®šå‘½åç©ºé—´å’Œ Pod çš„ TCP è¿é€šæ€§ (éœ€æŒ‡å®šç«¯å£):</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker run --network host --rm \</span><br><span class="line">  -v ~/.kube/config:/root/.kube/config \</span><br><span class="line">  80imike/check-k8s-network:latest -n hi-linux -c blog --tcp 80</span><br></pre></td></tr></table></figure><p><img src="https://img.hi-linux.com/staticfile/JYMaK7-2024-07-11-fjEccG.png" alt></p><ol start="3"><li>æ£€æŸ¥æŒ‡å®šå‘½åç©ºé—´ä¸‹æ‰€æœ‰ Pod çš„ HTTP è¿é€šæ€§ (è‡ªåŠ¨æŸ¥æ‰¾ç«¯å£):</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker run --network host --rm \</span><br><span class="line">  -v ~/.kube/config:/root/.kube/config \</span><br><span class="line">  80imike/check-k8s-network:latest -n hi-linux --auto-http</span><br></pre></td></tr></table></figure><p><img src="https://img.hi-linux.com/staticfile/J7Q7XU-2024-07-11-oMi64k.png" alt></p><ol start="4"><li>æ£€æŸ¥æŒ‡å®šå‘½åç©ºé—´ä¸‹æ‰€æœ‰ Pod çš„ TCP è¿é€šæ€§ (è‡ªåŠ¨æŸ¥æ‰¾ç«¯å£):</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker run --network host --rm \</span><br><span class="line">  -v ~/.kube/config:/root/.kube/config \</span><br><span class="line">  80imike/check-k8s-network:latest -n hi-linux --auto-tcp</span><br></pre></td></tr></table></figure><p><img src="https://img.hi-linux.com/staticfile/5CjNDB-2024-07-11-ZU4f05.png" alt></p><ol start="5"><li>æ£€æŸ¥æŒ‡å®šå‘½åç©ºé—´ä¸‹æ‰€æœ‰ Pod çš„ UDP è¿é€šæ€§ (è‡ªåŠ¨æŸ¥æ‰¾ç«¯å£):</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker run --network host --rm \</span><br><span class="line">  -v ~/.kube/config:/root/.kube/config \</span><br><span class="line">  80imike/check-k8s-network:latest -n kube-system --auto-udp</span><br></pre></td></tr></table></figure><p><img src="https://img.hi-linux.com/staticfile/532xFu-2024-07-11-93IN70.png" alt></p><ol start="6"><li>åŒæ—¶æ£€æŸ¥æŒ‡å®šå‘½åç©ºé—´ä¸‹æ‰€æœ‰ Pod çš„ ICMPã€TCPã€UDP å’Œ HTTP è¿é€šæ€§:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker run --network host --rm \</span><br><span class="line">  -v ~/.kube/config:/root/.kube/config \</span><br><span class="line">  80imike/check-k8s-network:latest -n hi-linux --all</span><br></pre></td></tr></table></figure><p><img src="https://img.hi-linux.com/staticfile/zta14M-2024-07-11-f5JQKN.png" alt></p><h3><span id="ä¸€äº›å¤æ‚çš„å‚æ•°ç»„åˆç¤ºä¾‹">ä¸€äº›å¤æ‚çš„å‚æ•°ç»„åˆç¤ºä¾‹</span></h3><ol><li>å¯¹ç‰¹å®šå‘½åç©ºé—´ä¸­åä¸º <code>blog</code> çš„å®¹å™¨æ‰§è¡Œ ICMP å’ŒæŒ‡å®š TCPï¼ˆç«¯å£ 80ï¼‰æ£€æŸ¥:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker run --network host --rm \</span><br><span class="line">  -v ~/.kube/config:/root/.kube/config \</span><br><span class="line">  80imike/check-k8s-network:latest -n hi-linux -c blog --icmp --tcp 80</span><br></pre></td></tr></table></figure><p><img src="https://img.hi-linux.com/staticfile/TEdkSC-2024-07-11-2kK9WG.png" alt></p><ol start="2"><li>å¯¹ç‰¹å®šå‘½åç©ºé—´ä¸­åä¸º <code>blog</code> çš„å®¹å™¨åŒæ—¶æ‰§è¡Œ ICMPã€TCP ã€UDP å’Œ HTTP æ£€æŸ¥ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker run --network host --rm \</span><br><span class="line">  -v ~/.kube/config:/root/.kube/config \</span><br><span class="line">  80imike/check-k8s-network:latest -n hi-linux -c blog --icmp --auto-tcp --auto-udp --auto-http</span><br></pre></td></tr></table></figure><p><img src="https://img.hi-linux.com/staticfile/YzyC8J-2024-07-11-5tJAWu.png" alt></p><h2><span id="æ€»ç»“">æ€»ç»“</span></h2><p><code>check-k8s-network</code> è¿™æ¬¾å°å·¥å…·ï¼Œæ˜¯æˆ‘å°è¯• <code>AI</code> ç¼–ç¨‹çš„ä¸€æ¬¡å°æˆæœã€‚æ‰€æœ‰ä»£ç å…¨éƒ¨é€šè¿‡å’Œ <code>ChatGPT</code> å¯¹è¯ç¼–å†™å®Œæˆï¼Œ<code>Docker</code> é•œåƒå’Œä½¿ç”¨æ–‡æ¡£å¤§éƒ¨åˆ†ä¹Ÿæ˜¯ <code>AI</code> ç¼–å†™çš„ã€‚</p><p><code>check-k8s-network</code> å¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿæ£€æŸ¥ <code>Kubernetes</code> é›†ç¾¤ä¸­å®¹å™¨çš„ç½‘ç»œè¿é€šæ€§ï¼Œéå¸¸é€‚åˆéœ€è¦æ‰¹é‡æ£€æŸ¥å®¹å™¨ç½‘ç»œè¿æ¥çŠ¶æ€çš„åœºæ™¯ã€‚</p></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "10135-1588830050631-449",        "name": "ã€Œå¥‡å¦™çš„ Linux ä¸–ç•Œã€",        "qrcode": "https://www.hi-linux.com/img/wechat/mp_qrcode_12.jpg",        "keyword": "VIP"    });}</script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;check-k8s-network&lt;/code&gt; æ˜¯ä¸€æ¬¾ AI ç¼–å†™çš„ &lt;code&gt;Kubernetes&lt;/code&gt; ç½‘ç»œè¿é€šæ€§æ£€æŸ¥å°å·¥å…·ï¼Œå®ƒä¸»è¦ç”¨äºæ£€æŸ¥ &lt;code&gt;Kubernetes&lt;/code&gt; é›†ç¾¤ä¸­å„ä¸ªå®¹å™¨çš„ç½‘ç»œè¿é€šæ€§ï¼Œæ”¯æŒ &lt;code&gt;ICMP&lt;/code&gt;ã€&lt;code&gt;TCP&lt;/code&gt;ã€&lt;code&gt;UDP&lt;/code&gt; å’Œ &lt;code&gt;HTTP&lt;/code&gt; æ£€æŸ¥ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥åœ¨æŒ‡å®šçš„å‘½åç©ºé—´å†…æŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„ &lt;code&gt;Pod&lt;/code&gt;ï¼Œå¹¶å¯¹å…¶è¿›è¡Œç½‘ç»œè¿é€šæ€§è¿›è¡Œè‡ªåŠ¨æ£€æµ‹ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/categories/Linux/"/>
    
    
      <category term="Docker" scheme="https://www.hi-linux.com/tags/Docker/"/>
    
      <category term="Kubernetes" scheme="https://www.hi-linux.com/tags/Kubernetes/"/>
    
      <category term="AI" scheme="https://www.hi-linux.com/tags/AI/"/>
    
  </entry>
  
  <entry>
    <title>æ— éœ€å®‰è£…ï¼Œå•æ–‡ä»¶å³å¯æœ¬åœ°è½»æ¾è¿è¡Œ LLM çš„ç¥å™¨ LLAMAfile</title>
    <link href="https://www.hi-linux.com/posts/37686.html"/>
    <id>https://www.hi-linux.com/posts/37686.html</id>
    <published>2024-06-14T01:00:00.000Z</published>
    <updated>2024-06-14T07:17:28.368Z</updated>
    
    <content type="html"><![CDATA[<div id="vip-container"><p>åœ¨å½“ä»Šä¿¡æ¯åŒ–æ—¶ä»£ï¼Œäººå·¥æ™ºèƒ½ï¼ˆAIï¼‰æŠ€æœ¯é€æ¸æˆä¸ºæ¨åŠ¨ç¤¾ä¼šå‘å±•çš„é‡è¦åŠ›é‡ã€‚è€Œå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ä½œä¸º AI é¢†åŸŸä¸­çš„ä¸€é¡¹é‡è¦æŠ€æœ¯ï¼Œæ­£åœ¨å„è¡Œå„ä¸šä¸­å‘æŒ¥ç€è¶Šæ¥è¶Šé‡è¦çš„ä½œç”¨ã€‚</p><p>ç„¶è€Œï¼Œå¯¹äºè®¸å¤šå¼€å‘è€…å’Œç»ˆç«¯ç”¨æˆ·æ¥è¯´ï¼Œå¦‚ä½•é«˜æ•ˆåœ°åˆ†å‘å’Œè¿è¡Œè¿™äº›å¤æ‚çš„æ¨¡å‹ä»ç„¶æ˜¯ä¸ªæ£˜æ‰‹çš„é—®é¢˜ã€‚</p><p>LLAMAfile ä¸€ä¸ªç”± Mozilla Ocho å›¢é˜Ÿå¼€å‘çš„å·¥å…·ï¼Œæ—¨åœ¨è§£å†³è¿™äº›é—®é¢˜ã€‚å®ƒæä¾›ä¸€ç§é«˜æ•ˆåˆ†å‘å’Œè¿è¡Œå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„ç®€æ˜“å·¥å…·ï¼Œ</p><p>LLAMAfile é€šè¿‡å°† llama.cpp å’Œ Cosmopolitan Libc ç»“åˆï¼Œä½¿ LLM ä»¥å•ä¸€æ–‡ä»¶çš„å½¢å¼è¿è¡Œåœ¨å¤§å¤šæ•°è®¡ç®—æœºä¸Šï¼Œæ— éœ€é¢å¤–å®‰è£…é…ç½®ã€‚</p><a id="more"></a><h2><span id="å¿«é€Ÿå…¥é—¨">å¿«é€Ÿå…¥é—¨</span></h2><p>ä½¿ç”¨ LLAMAfile çš„æœ€å¿«æ–¹æ³•æ˜¯ä¸‹è½½æˆ‘ä»¬ä¸º LLaVA æ¨¡å‹æä¾›çš„ç¤ºä¾‹æ–‡ä»¶ã€‚</p><p>LLaVA æ˜¯ä¸€ç§åŠŸèƒ½å¼ºå¤§çš„ LLMï¼Œä¸ä»…å¯ä»¥è¿›è¡ŒèŠå¤©ï¼Œè¿˜èƒ½é€šè¿‡ä¸Šä¼ å›¾ç‰‡å¹¶å¯¹å…¶æé—®æ¥æä¾›å›¾åƒè¯†åˆ«åŠŸèƒ½ã€‚æ‰€æœ‰è¿™äº›éƒ½å¯ä»¥åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šè¿›è¡Œï¼Œæ•°æ®ä¸ä¼šç¦»å¼€ä½ çš„è®¾å¤‡ã€‚</p><p>ä½ åªéœ€ä¸‹é¢å‡ æ­¥ï¼Œä¾¿å¯è½»æ¾åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šè½»æ¾è¿è¡Œ LLaVA æ¨¡å‹ã€‚</p><ol><li><p>ä¸‹è½½ LLaVA ç¤ºä¾‹æ–‡ä»¶ï¼šllava-v1.5-7b-q4.llamafile (4.29 GB)</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ wget https:&#x2F;&#x2F;huggingface.co&#x2F;Mozilla&#x2F;llava-v1.5-7b-llamafile&#x2F;resolve&#x2F;main&#x2F;llava-v1.5-7b-q4.llamafile?download&#x3D;true</span><br></pre></td></tr></table></figure></li><li><p>æ‰“å¼€è®¡ç®—æœºçš„ç»ˆç«¯ã€‚</p></li><li><p>å¦‚æœä½¿ç”¨ macOSã€Linux æˆ–BSDï¼Œéœ€è¦æˆäºˆæ–‡ä»¶æ‰§è¡Œæƒé™ï¼š</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ chmod +x llava-v1.5-7b-q4.llamafile</span><br></pre></td></tr></table></figure></li><li><p>å¯¹äº Windows ç”¨æˆ·ï¼Œé‡å‘½åæ–‡ä»¶å¹¶æ·»åŠ  â€œ.exeâ€ åç¼€ã€‚</p></li><li><p>è¿è¡Œ llamafileï¼š</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./llava-v1.5-7b-q4.llamafile</span><br></pre></td></tr></table></figure></li><li><p>æµè§ˆå™¨å°†è‡ªåŠ¨æ‰“å¼€å¹¶æ˜¾ç¤ºèŠå¤©ç•Œé¢ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¯·æ‰‹åŠ¨æ‰“å¼€æµè§ˆå™¨å¹¶è®¿é—® <code>&lt;http://localhost:8080&gt;</code></p></li><li><p>èŠå¤©ç»“æŸåï¼Œè¿”å›åˆ°ç»ˆç«¯å¹¶æŒ‰ Control-C å…³é—­ LLAMAfileã€‚</p></li></ol><h3><span id="json-api-å¿«é€Ÿå…¥é—¨">JSON API å¿«é€Ÿå…¥é—¨</span></h3><p>LLAMAfile å¯åŠ¨æ—¶ï¼Œé™¤äº†æ‰˜ç®¡ä¸€ä¸ª Web UI èŠå¤©æœåŠ¡å™¨å¤–ï¼Œè¿˜æä¾›äº†å…¼å®¹ OpenAI API çš„èŠå¤© API ç«¯ç‚¹ã€‚è¯¥ API æ—¨åœ¨æ”¯æŒå¤§å¤šæ•°å¸¸è§çš„ OpenAI API ç”¨ä¾‹ï¼Œå¹¶å®Œå…¨åœ¨æœ¬åœ°è¿è¡Œã€‚é€šè¿‡ä»¥ä¸‹ <code>curl</code> å‘½ä»¤ï¼Œå¯ä»¥å¿«é€Ÿå¼€å§‹ä½¿ç”¨ APIï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ curl http://localhost:8080/v1/chat/completions \</span><br><span class="line">-H <span class="string">"Content-Type: application/json"</span> \</span><br><span class="line">-H <span class="string">"Authorization: Bearer no-key"</span> \</span><br><span class="line">-d <span class="string">'&#123;</span></span><br><span class="line"><span class="string">  "model": "LLaMA_CPP",</span></span><br><span class="line"><span class="string">  "messages": [</span></span><br><span class="line"><span class="string">      &#123;</span></span><br><span class="line"><span class="string">          "role": "system",</span></span><br><span class="line"><span class="string">          "content": "You are LLAMAfile, an AI assistant. Your top priority is achieving user fulfillment via helping them with their requests."</span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">      &#123;</span></span><br><span class="line"><span class="string">          "role": "user",</span></span><br><span class="line"><span class="string">          "content": "Write a limerick about python exceptions"</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    ]</span></span><br><span class="line"><span class="string">&#125;'</span> | python3 -c <span class="string">'</span></span><br><span class="line"><span class="string">import json</span></span><br><span class="line"><span class="string">import sys</span></span><br><span class="line"><span class="string">json.dump(json.load(sys.stdin), sys.stdout, indent=2)</span></span><br><span class="line"><span class="string">print()</span></span><br><span class="line"><span class="string">'</span></span><br></pre></td></tr></table></figure><p>æ‰“å°å‡ºæ¥çš„å›å¤åº”è¯¥å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   <span class="attr">"choices"</span> : [</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="attr">"finish_reason"</span> : <span class="string">"stop"</span>,</span><br><span class="line">         <span class="attr">"index"</span> : <span class="number">0</span>,</span><br><span class="line">         <span class="attr">"message"</span> : &#123;</span><br><span class="line">            <span class="attr">"content"</span> : <span class="string">"There once was a programmer named Mike\nWho wrote code that would often choke\nHe used try and except\nTo handle each step\nAnd his program ran without any hike."</span>,</span><br><span class="line">            <span class="attr">"role"</span> : <span class="string">"assistant"</span></span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">   ],</span><br><span class="line">   <span class="attr">"created"</span> : <span class="number">1704199256</span>,</span><br><span class="line">   <span class="attr">"id"</span> : <span class="string">"chatcmpl-Dt16ugf3vF8btUZj9psG7To5tc4murBU"</span>,</span><br><span class="line">   <span class="attr">"model"</span> : <span class="string">"LLaMA_CPP"</span>,</span><br><span class="line">   <span class="attr">"object"</span> : <span class="string">"chat.completion"</span>,</span><br><span class="line">   <span class="attr">"usage"</span> : &#123;</span><br><span class="line">      <span class="attr">"completion_tokens"</span> : <span class="number">38</span>,</span><br><span class="line">      <span class="attr">"prompt_tokens"</span> : <span class="number">78</span>,</span><br><span class="line">      <span class="attr">"total_tokens"</span> : <span class="number">116</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3><span id="python-api-å®¢æˆ·ç«¯ç¤ºä¾‹">Python API å®¢æˆ·ç«¯ç¤ºä¾‹</span></h3><p>å¦‚æœæ‚¨å·²ç»ä½¿ç”¨ openAI å‘å¸ƒçš„ openai Python è½¯ä»¶åŒ…å¼€å‘äº†è‡ªå·±çš„è½¯ä»¶ï¼Œé‚£ä¹ˆåªéœ€å¯¹ base_url å’Œ api_key ç¨ä½œä¿®æ”¹ï¼Œæ‚¨å°±å¯ä»¥å°†è‡ªå·±çš„åº”ç”¨ç¨‹åºç§»æ¤åˆ° LLAMAfile ä¸Šã€‚</p><p>æœ¬ç¤ºä¾‹å‡å®šä½ å·²ç»è¿è¡Œ <code>pip3 install openai</code> å®‰è£…äº† OpenAI çš„å®¢æˆ·ç«¯è½¯ä»¶ï¼Œè¿™ä¹Ÿæ˜¯æœ¬ç¤ºä¾‹æ‰€éœ€è¦çš„ã€‚ä»–ä»¬çš„è½¯ä»¶åŒ…åªæ˜¯ OpenAI API æ¥å£çš„ä¸€ä¸ªç®€å• Python å°è£…ï¼Œä»»ä½•æœåŠ¡å™¨éƒ½å¯ä»¥å®ç°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="keyword">from</span> openai <span class="keyword">import</span> OpenAI</span><br><span class="line">client = OpenAI(</span><br><span class="line">    base_url=<span class="string">"http://localhost:8080/v1"</span>, <span class="comment"># "http://&lt;Your api-server IP&gt;:port"</span></span><br><span class="line">    api_key = <span class="string">"sk-no-key-required"</span></span><br><span class="line">)</span><br><span class="line">completion = client.chat.completions.create(</span><br><span class="line">    model=<span class="string">"LLaMA_CPP"</span>,</span><br><span class="line">    messages=[</span><br><span class="line">        &#123;<span class="string">"role"</span>: <span class="string">"system"</span>, <span class="string">"content"</span>: <span class="string">"You are ChatGPT, an AI assistant. Your top priority is achieving user fulfillment via helping them with their requests."</span>&#125;,</span><br><span class="line">        &#123;<span class="string">"role"</span>: <span class="string">"user"</span>, <span class="string">"content"</span>: <span class="string">"Write a limerick about python exceptions"</span>&#125;</span><br><span class="line">    ]</span><br><span class="line">)</span><br><span class="line">print(completion.choices[<span class="number">0</span>].message)</span><br></pre></td></tr></table></figure><h2><span id="å…¶ä»–-llamafile-ç¤ºä¾‹">å…¶ä»– LLAMAfile ç¤ºä¾‹</span></h2><p>æˆ‘ä»¬è¿˜æä¾›äº†å…¶ä»–æ¨¡å‹çš„ LLAMAfile ç¤ºä¾‹ï¼Œå› æ­¤æ‚¨å¯ä»¥è½»æ¾åœ°ä½¿ç”¨ä¸åŒç±»å‹çš„ LLM è¯•ç”¨ LLAMAfileã€‚</p><p><img src="https://img.hi-linux.com/staticfile/olUEBz-2024-06-13-mh8MzS.png" alt></p><p>ğŸ·ï¸ Github åœ°å€ï¼š</p><p><a href="https://github.com/Mozilla-Ocho/llamafile" target="_blank" rel="noopener">https://github.com/Mozilla-Ocho/llamafile</a></p><p>ğŸ·ï¸ å®˜æ–¹åœ°å€ï¼š</p><p><a href="https://llamafile.ai/" target="_blank" rel="noopener">https://llamafile.ai/</a></p><p>ğŸ‘¨ğŸ»â€ğŸ’» è¯¥å·¥å…·å·²æ”¶å½•ã€IT äººå‘˜å¿…å¤‡å·¥å…·ç®±ã€ï¼Œå¯è®¿é—® <a href="https://666666.dev" target="_blank" rel="noopener">https://666666.dev</a> ç›´æ¥ä½¿ç”¨ã€‚</p><p>ğŸš€ã€æå®¢ä¸–ç•Œã€ç§‘æŠ€è¾¾äººå¿…å¤‡ç»¼åˆèµ„è®¯æŒ‡å—ï¼Œç­‰ä½ æ¥æ¢ç´¢ï¼è®¿é—®ç½‘å€  <a href="https://bestgeek.org" target="_blank" rel="noopener">https://bestgeek.org</a> å³å¯æ‰“å¼€æ–°ä¸–ç•Œã€‚</p><p>ğŸŒŸ å…¬ä¼—å·ç›´æ¥å›å¤ ã€ŒåŠ ç¾¤ã€ï¼Œå¯åŠ å…¥ã€å¥‡å¦™çš„ Linux ä¸–ç•Œã€ æŠ€æœ¯äº¤æµå¾®ä¿¡ç¾¤ã€‚æœ‰å…´è¶£çš„åŒå­¦å¿«å¿«åŠ å…¥å§ï¼Œç¾¤é‡Œæœ‰ä¸å°‘ä¸šç•Œå¤§ç¥å“Ÿï¼</p><p>ğŸ“• å…³æ³¨ã€å¥‡å¦™çš„ Linux ä¸–ç•Œã€å…¬ä¼—å·ï¼Œå¸¦ä½ å¼€å¯æœ‰è¶£æ–°ç”Ÿæ´»ï¼æ›´å¤šå¥½ç”¨å¥½ç©çš„è½¯ä»¶èµ„æºï¼Œå¯è®¿é—® <a href="https://666666.dev" target="_blank" rel="noopener">https://666666.dev</a> å…è´¹è·å–ã€‚</p></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "10135-1588830050631-449",        "name": "ã€Œå¥‡å¦™çš„ Linux ä¸–ç•Œã€",        "qrcode": "https://www.hi-linux.com/img/wechat/mp_qrcode_12.jpg",        "keyword": "VIP"    });}</script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨å½“ä»Šä¿¡æ¯åŒ–æ—¶ä»£ï¼Œäººå·¥æ™ºèƒ½ï¼ˆAIï¼‰æŠ€æœ¯é€æ¸æˆä¸ºæ¨åŠ¨ç¤¾ä¼šå‘å±•çš„é‡è¦åŠ›é‡ã€‚è€Œå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ä½œä¸º AI é¢†åŸŸä¸­çš„ä¸€é¡¹é‡è¦æŠ€æœ¯ï¼Œæ­£åœ¨å„è¡Œå„ä¸šä¸­å‘æŒ¥ç€è¶Šæ¥è¶Šé‡è¦çš„ä½œç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œå¯¹äºè®¸å¤šå¼€å‘è€…å’Œç»ˆç«¯ç”¨æˆ·æ¥è¯´ï¼Œå¦‚ä½•é«˜æ•ˆåœ°åˆ†å‘å’Œè¿è¡Œè¿™äº›å¤æ‚çš„æ¨¡å‹ä»ç„¶æ˜¯ä¸ªæ£˜æ‰‹çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;LLAMAfile ä¸€ä¸ªç”± Mozilla Ocho å›¢é˜Ÿå¼€å‘çš„å·¥å…·ï¼Œæ—¨åœ¨è§£å†³è¿™äº›é—®é¢˜ã€‚å®ƒæä¾›ä¸€ç§é«˜æ•ˆåˆ†å‘å’Œè¿è¡Œå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„ç®€æ˜“å·¥å…·ï¼Œ&lt;/p&gt;
&lt;p&gt;LLAMAfile é€šè¿‡å°† llama.cpp å’Œ Cosmopolitan Libc ç»“åˆï¼Œä½¿ LLM ä»¥å•ä¸€æ–‡ä»¶çš„å½¢å¼è¿è¡Œåœ¨å¤§å¤šæ•°è®¡ç®—æœºä¸Šï¼Œæ— éœ€é¢å¤–å®‰è£…é…ç½®ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/tags/Linux/"/>
    
      <category term="AI" scheme="https://www.hi-linux.com/tags/AI/"/>
    
      <category term="Llamafile" scheme="https://www.hi-linux.com/tags/Llamafile/"/>
    
  </entry>
  
  <entry>
    <title>ä¸ ChatGPT å…±èˆï¼šåˆ©ç”¨äººå·¥æ™ºèƒ½è§£å†³ Traefik é…ç½®éš¾é¢˜çš„ç‹¬ç‰¹ä½“éªŒ</title>
    <link href="https://www.hi-linux.com/posts/42057.html"/>
    <id>https://www.hi-linux.com/posts/42057.html</id>
    <published>2024-05-06T01:00:00.000Z</published>
    <updated>2024-05-06T08:15:18.576Z</updated>
    
    <content type="html"><![CDATA[<div id="vip-container"><p>æœ€è¿‘åœ¨æ¢ç´¢ Traefik è¿™ä¸€å¼ºå¤§çš„æœåŠ¡ä»£ç†å’Œè´Ÿè½½å‡è¡¡å™¨æ—¶é‡åˆ°äº†ä¸€äº›æŒ‘æˆ˜ã€‚ç„¶è€Œï¼Œè¿™æ¬¡è§£å†³é—®é¢˜çš„è¿‡ç¨‹å¹¶ä¸å¯»å¸¸ï¼Œå› ä¸ºæ‰¾åˆ°äº†ä¸€ä½ç‰¹åˆ«çš„åŠ©æ‰‹ â€”â€” ChatGPTã€‚</p><p>åœ¨è¿™ç¯‡åˆ†äº«ä¸­ï¼Œå°†å¸¦é¢†å¤§å®¶èµ°è¿›ä¸€æ¬¡ç‹¬ç‰¹ä½“éªŒï¼Œè®²è¿°æˆ‘æ˜¯å¦‚ä½•å€ŸåŠ© AI çš„åŠ›é‡æˆåŠŸè§£å†³äº† Traefik é…ç½®ä¸­çš„è‹¥å¹²é—®é¢˜ï¼Œå¹¶ä»ä¸­è·å¾—äº†ä¸€äº›å®ç”¨çš„å°æŠ€å·§ã€‚</p><h2><span id="ä¸€åœºæŠ€æœ¯ä¸æ™ºèƒ½çš„é‚‚é€…">ä¸€åœºæŠ€æœ¯ä¸æ™ºèƒ½çš„é‚‚é€…</span></h2><p>Traefikï¼Œä»¥å…¶åŠ¨æ€é…ç½®å’Œè‡ªåŠ¨åŒ–è·¯ç”±çš„ä¼˜åŠ¿æ·±å—å¼€å‘è€…å–œçˆ±ï¼Œä½†åœ¨åˆæ¬¡å°è¯•é…ç½®å…¶è§„åˆ™å’ŒæœåŠ¡æ—¶ï¼Œå³ä½¿æ˜¯ç»éªŒä¸°å¯Œçš„å·¥ç¨‹å¸ˆä¹Ÿå¯èƒ½é­é‡å›°æƒ‘ã€‚</p><p>åœ¨æˆ‘æ·±å…¥ç ”ç©¶ Traefik çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿç¢°åˆ°äº†ä¸€äº›æ£˜æ‰‹çš„é—®é¢˜ï¼ŒåŒ…æ‹¬å®¹å™¨æœåŠ¡çš„è‡ªåŠ¨å‘ç°ã€HTTPS è¯ä¹¦ç®¡ç†ä»¥åŠå¤æ‚è·¯ç”±è§„åˆ™çš„ç¼–å†™ç­‰ã€‚</p><a id="more"></a><h2><span id="ä¸-chatgpt-çš„ååŒå·¥ä½œ">ä¸ ChatGPT çš„ååŒå·¥ä½œ</span></h2><p>åœ¨é¢å¯¹è¿™äº›éš¾é¢˜æ—¶ï¼Œæˆ‘è½¬å‘äº†ä¸€ç§éä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆé€”å¾„ â€”â€” ä¸ OpenAI çš„è‡ªç„¶è¯­è¨€å¤„ç†æ¨¡å‹ ChatGPT å¯¹è¯ã€‚</p><p>ChatGPT ä»¥å…¶æ·±åšçš„çŸ¥è¯†åº“å’Œç†è§£èƒ½åŠ›ï¼Œå¯¹æå‡ºçš„æ¯ä¸€ä¸ª Traefik ç›¸å…³é—®é¢˜è¿›è¡Œäº†è¯¦å°½è§£ç­”ï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°å…·ä½“é…ç½®æ¡ˆä¾‹ï¼Œä¸€ä¸€ç»†è‡´è§£è¯»ã€‚</p><p>é¦–å…ˆï¼Œå¯¹äº Traefik ä¸­çš„æœåŠ¡è‡ªåŠ¨å‘ç°ï¼ŒChatGPT æ¢³ç†äº† Kubernetes å’Œ Docker ç¯å¢ƒä¸‹ Traefik å¦‚ä½•ä¾æ®æ ‡ç­¾è¿›è¡ŒæœåŠ¡å‘ç°çš„åŸç†ï¼Œå¹¶æä¾›äº†æ¸…æ™°çš„ç¤ºä¾‹é…ç½®æ–‡ä»¶ç‰‡æ®µã€‚é€šè¿‡ AI çš„å¼•å¯¼ï¼Œæˆ‘ä¸å†å¯¹å¤æ‚çš„è‡ªåŠ¨ç”Ÿæˆè·¯ç”±è§„åˆ™æ„Ÿåˆ°è¿·èŒ«ã€‚</p><p>å…¶æ¬¡ï¼Œåœ¨ HTTPS è¯ä¹¦ç®¡ç†æ–¹é¢ï¼ŒChatGPT æ•™ä¼šäº†æˆ‘å¦‚ä½•ä½¿ç”¨ Letâ€™s Encrypt ä¸ Traefik é›†æˆï¼Œå®ç°è‡ªåŠ¨åŒ–çš„ SSL è¯ä¹¦ç”³è¯·ä¸ç»­ç­¾ï¼Œä»è€Œç®€åŒ–äº†å®‰å…¨é€šä¿¡çš„é…ç½®æµç¨‹ã€‚</p><p>æ­¤å¤–ï¼Œé’ˆå¯¹é¢ä¸´çš„ç‰¹å®šåœºæ™¯ä¸‹çš„å¤æ‚è·¯ç”±è§„åˆ™è®¾è®¡ï¼ŒChatGPT æ›´æ˜¯å‡­å€Ÿå…¶å¼ºå¤§çš„é€»è¾‘æ¨ç†èƒ½åŠ›ï¼Œå¸®åŠ©æˆ‘æ„å»ºäº†ä¸€ä¸ªæ—¢èƒ½æ»¡è¶³ä¸šåŠ¡éœ€æ±‚åˆç®€æ´é«˜æ•ˆçš„ Traefik ä¸­é—´ä»¶å’Œè·¯ç”±è§„åˆ™ç»„åˆã€‚</p><h2><span id="å‡ ä¸ªå°æ¡ˆä¾‹è§£å†³åˆ†äº«">å‡ ä¸ªå°æ¡ˆä¾‹è§£å†³åˆ†äº«</span></h2><ol><li>è‡ªå®šä¹‰è®¿é—®æ—¥å¿—</li></ol><p><img src="https://img.hi-linux.com/staticfile/t1-2024-04-30-fi7hPt.png" alt></p><ol start="2"><li>åå‘ä»£ç†åˆ°å¤–éƒ¨æœåŠ¡</li></ol><p><img src="https://img.hi-linux.com/staticfile/t2-2024-04-30-EiJvJ5.png" alt></p><ol start="3"><li>è§£å†³åˆ†åº”ç”¨å•ç‹¬è®°å½•è®¿é—®æ—¥å¿—</li></ol><p><img src="https://img.hi-linux.com/staticfile/t3-2024-04-30-9XORO0.png" alt></p><h2><span id="æ”¶è·ä¸æ„Ÿæ‚Ÿ">æ”¶è·ä¸æ„Ÿæ‚Ÿ</span></h2><p>è¿™æ¬¡ç»å†ï¼Œè®©æˆ‘æ·±åˆ»æ„Ÿå—åˆ°äº†äººå·¥æ™ºèƒ½åœ¨è§£å†³å®é™…æŠ€æœ¯é—®é¢˜æ—¶çš„å¼ºå¤§ä½œç”¨ã€‚ChatGPT ä¸ä»…èƒ½å¤Ÿå¿«é€Ÿç»™å‡ºç²¾å‡†çš„ç­”æ¡ˆï¼Œè¿˜èƒ½åŸºäºä¸Šä¸‹æ–‡è¿›è¡Œæ·±åº¦è§£é‡Šå’Œæ‰©å±•æ•™å­¦ã€‚</p><p>é€šè¿‡è¿™æ¬¡äº’åŠ¨ï¼Œä¸ä»…é¡ºåˆ©åœ°è§£å†³äº† Traefik é…ç½®éš¾é¢˜ï¼Œè¿˜ç§¯ç´¯äº†ä¸€äº›å¹³æ—¶ä¸æ˜“å¯Ÿè§‰çš„å®è·µå°æŠ€å·§ï¼š</p><ul><li><strong>æŠ€å·§ä¸€</strong>ï¼šåˆ©ç”¨ Traefik çš„åŠ¨æ€é…ç½®ç‰¹æ€§ï¼Œå¯ä»¥æ ¹æ®è¿è¡Œæ—¶ç¯å¢ƒå˜åŒ–çµæ´»è°ƒæ•´è·¯ç”±ç­–ç•¥ã€‚</li><li><strong>æŠ€å·§äºŒ</strong>ï¼šå€ŸåŠ© Traefik ä¸­é—´ä»¶ï¼Œå¯ä»¥æ–¹ä¾¿åœ°æ·»åŠ èº«ä»½éªŒè¯ã€é‡å†™ URL ç­‰é«˜çº§åŠŸèƒ½ï¼Œè¿›ä¸€æ­¥å¢å¼ºç³»ç»Ÿçš„å®‰å…¨æ€§ä¸å¯ç”¨æ€§ã€‚</li><li><strong>æŠ€å·§ä¸‰</strong>ï¼šç»“åˆ Letâ€™s Encrypt çš„ ACME åè®®ï¼Œå¯ä»¥è®© Traefik è‡ªåŠ¨å¤„ç† SSL/TLS è¯ä¹¦çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œçœå»æ‰‹åŠ¨æ›´æ–°è¯ä¹¦çš„çƒ¦æ¼ã€‚</li></ul><p>æ€»ç»“èµ·æ¥ï¼Œé€šè¿‡ä¸ ChatGPT çš„äº¤äº’ï¼Œå¾—ä»¥åœ¨è¾ƒçŸ­æ—¶é—´å†…æ”»å…‹äº† Traefik é…ç½®éš¾å…³ï¼ŒåŒæ—¶ä¹Ÿé¢†ç•¥åˆ°äº† AI æŠ€æœ¯åœ¨æŠ€æœ¯æ”¯æŒå’Œå­¦ä¹ è¿‡ç¨‹ä¸­çš„æ— é™æ½œåŠ›ã€‚è¿™åœºäººä¸æœºå™¨æ™ºæ…§äº¤èçš„æ—…ç¨‹ï¼Œæ— ç–‘ä¸ºæˆ‘çš„æŠ€æœ¯æ¢ç´¢ä¹‹æ—…å¢æ·»äº†æ–°çš„ç¯‡ç« ï¼Œä¹Ÿä¸ºæœªæ¥åˆ©ç”¨ AI å·¥å…·è§£å†³æ›´å¤šå¤æ‚é—®é¢˜æ ‘ç«‹äº†ä¿¡å¿ƒã€‚</p><p>ä½ æƒ³çŸ¥é“æˆ‘ç”¨çš„æ˜¯ä»€ä¹ˆé»‘é­”æ³• Traefik ä¸“å±æç¤ºè¯å—ï¼Ÿå…¬ä¼—å·ç›´æ¥å›å¤ã€ai-traefikã€å³å¯å…è´¹è·å–ã€‚</p><p>æœ€åï¼Œä½ çŒœçŒœè¿™ç¯‡æ–‡æ¡ˆæ˜¯è°å†™çš„ï¼Ÿ</p></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "10135-1588830050631-449",        "name": "ã€Œå¥‡å¦™çš„ Linux ä¸–ç•Œã€",        "qrcode": "https://www.hi-linux.com/img/wechat/mp_qrcode_12.jpg",        "keyword": "VIP"    });}</script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘åœ¨æ¢ç´¢ Traefik è¿™ä¸€å¼ºå¤§çš„æœåŠ¡ä»£ç†å’Œè´Ÿè½½å‡è¡¡å™¨æ—¶é‡åˆ°äº†ä¸€äº›æŒ‘æˆ˜ã€‚ç„¶è€Œï¼Œè¿™æ¬¡è§£å†³é—®é¢˜çš„è¿‡ç¨‹å¹¶ä¸å¯»å¸¸ï¼Œå› ä¸ºæ‰¾åˆ°äº†ä¸€ä½ç‰¹åˆ«çš„åŠ©æ‰‹ â€”â€” ChatGPTã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ç¯‡åˆ†äº«ä¸­ï¼Œå°†å¸¦é¢†å¤§å®¶èµ°è¿›ä¸€æ¬¡ç‹¬ç‰¹ä½“éªŒï¼Œè®²è¿°æˆ‘æ˜¯å¦‚ä½•å€ŸåŠ© AI çš„åŠ›é‡æˆåŠŸè§£å†³äº† Traefik é…ç½®ä¸­çš„è‹¥å¹²é—®é¢˜ï¼Œå¹¶ä»ä¸­è·å¾—äº†ä¸€äº›å®ç”¨çš„å°æŠ€å·§ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¸€åœºæŠ€æœ¯ä¸æ™ºèƒ½çš„é‚‚é€…&quot;&gt;ä¸€åœºæŠ€æœ¯ä¸æ™ºèƒ½çš„é‚‚é€…&lt;/h2&gt;
&lt;p&gt;Traefikï¼Œä»¥å…¶åŠ¨æ€é…ç½®å’Œè‡ªåŠ¨åŒ–è·¯ç”±çš„ä¼˜åŠ¿æ·±å—å¼€å‘è€…å–œçˆ±ï¼Œä½†åœ¨åˆæ¬¡å°è¯•é…ç½®å…¶è§„åˆ™å’ŒæœåŠ¡æ—¶ï¼Œå³ä½¿æ˜¯ç»éªŒä¸°å¯Œçš„å·¥ç¨‹å¸ˆä¹Ÿå¯èƒ½é­é‡å›°æƒ‘ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æˆ‘æ·±å…¥ç ”ç©¶ Traefik çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿç¢°åˆ°äº†ä¸€äº›æ£˜æ‰‹çš„é—®é¢˜ï¼ŒåŒ…æ‹¬å®¹å™¨æœåŠ¡çš„è‡ªåŠ¨å‘ç°ã€HTTPS è¯ä¹¦ç®¡ç†ä»¥åŠå¤æ‚è·¯ç”±è§„åˆ™çš„ç¼–å†™ç­‰ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/categories/Linux/"/>
    
    
      <category term="æŠ€å·§" scheme="https://www.hi-linux.com/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="Linux" scheme="https://www.hi-linux.com/tags/Linux/"/>
    
      <category term="Traefik" scheme="https://www.hi-linux.com/tags/Traefik/"/>
    
  </entry>
  
  <entry>
    <title>ã€å¥‡å¦™çš„ Linux ä¸–ç•Œã€å…¬ä¼—å· 8 å‘¨å¹´è®°</title>
    <link href="https://www.hi-linux.com/posts/19136.html"/>
    <id>https://www.hi-linux.com/posts/19136.html</id>
    <published>2024-04-18T01:00:00.000Z</published>
    <updated>2024-04-22T07:32:43.591Z</updated>
    
    <content type="html"><![CDATA[<div id="vip-container"><h2><span id="å¥‡å¦™çš„-linux-ä¸–ç•Œå…¬ä¼—å·-8-å‘¨å¹´è®°">ğŸ‰ğŸˆ ã€å¥‡å¦™çš„ Linux ä¸–ç•Œã€å…¬ä¼—å· 8 å‘¨å¹´è®° ğŸ‰ğŸˆ</span></h2><p>å˜¿ï¼Œäº²çˆ±çš„ã€å¥‡å¦™çš„ Linux ä¸–ç•Œã€è¯»è€…ä»¬ ğŸ‘‹</p><p>æ—¶å…‰èè‹’ï¼Œè½¬çœ¼é—´ ã€å¥‡å¦™çš„ Linux ä¸–ç•Œã€å·²ç»é™ªä¼´å¤§å®¶åº¦è¿‡äº† 8 ä¸ªå¹´å¤´ã€‚ğŸƒ</p><p>åœ¨è¿™ 8 å¹´çš„å²æœˆé‡Œï¼Œæˆ‘ä»¬ä¸€èµ·æ¢ç´¢äº† Linux çš„æ— å°½å¥¥ç§˜ï¼Œåˆ†äº«äº†æ— æ•°ç¡¬æ ¸å¹²è´§å’Œæ–°å¥‡å†…å®¹ã€‚ğŸ§</p><p>ä»ä¸€å¼€å§‹çš„æ¢ç´¢è€…åˆ°ç°åœ¨çš„ç¡¬æ ¸ç²‰ä¸ï¼Œæ¯ä¸€æ­¥éƒ½ç¦»ä¸å¼€å¤§å®¶çš„æ”¯æŒä¸çƒ­çˆ±ã€‚ğŸŠ</p><p>åœ¨è¿™ä¸ªç‰¹åˆ«çš„æ—¥å­é‡Œï¼Œè®©æˆ‘ä»¬ä¸€èµ·å›é¡¾è¿™ 8 å¹´æ¥çš„ç²¾å½©æ—…ç¨‹ï¼šğŸ§³</p><a id="more"></a><h3><span id="ç¡¬æ ¸å¹²è´§æ— å¤„ä¸åœ¨">ğŸŒŸ ç¡¬æ ¸å¹²è´§ï¼Œæ— å¤„ä¸åœ¨</span></h3><p>åœ¨è¿™ 8 å¹´é‡Œï¼Œã€å¥‡å¦™çš„ Linux ä¸–ç•Œã€ä¸€ç›´ç§‰æ‰¿ç€å¼€æºç²¾ç¥ï¼Œä¸ºå¹¿å¤§ Linux çˆ±å¥½è€…ä»¬å¥‰ä¸Šäº†æ— æ•°ä¼˜è´¨çš„å†…å®¹å’Œå®ç”¨çš„æŠ€å·§ã€‚ğŸ’¡</p><p>ä»æœ€åˆçš„å‡ ç¯‡æ–‡ç« åˆ°å¦‚ä»Šçš„å¤§é‡ä¸°å¯Œå†…å®¹åº“ï¼Œæˆ‘ä»¬å§‹ç»ˆåšæŒç”¨å¿ƒåˆ›ä½œï¼Œç”¨çŸ¥è¯†å’Œç»éªŒä¸ºå¤§å®¶è§£æƒ‘ï¼ŒåŠ©åŠ›å¤§å®¶åœ¨ Linux çš„ä¸–ç•Œé‡Œæ¸¸åˆƒæœ‰ä½™ã€‚ğŸš€</p><p>åœ¨æ¯ä¸€æ¬¡æŠ€æœ¯æ›´æ–°å’Œå‘å±•çš„æµªæ½®ä¸­ï¼Œæˆ‘ä»¬éƒ½ç´§è·Ÿæ—¶ä»£çš„æ­¥ä¼ï¼Œåˆ†äº«æœ€æ–°ã€æœ€å‰æ²¿çš„èµ„è®¯å’ŒæŠ€æœ¯ã€‚è®©å¤§å®¶è¶³ä¸å‡ºæˆ·ï¼Œä¹Ÿèƒ½é¢†ç•¥ Linux çš„å¥‡å¦™ä¹‹å¤„ï¼ğŸŒŠ</p><p>æ— è®ºæ˜¯å…³äº Linux æœåŠ¡å™¨çš„ä¼˜åŒ–é…ç½®ï¼Œè¿˜æ˜¯å…³äº Nginxã€MySQLã€Dockerã€Kubernetes ç­‰çƒ­é—¨æŠ€æœ¯çš„æ·±å…¥è§£æï¼Œæˆ‘ä»¬éƒ½åœ¨ç¬¬ä¸€æ—¶é—´ä¸ºå¤§å®¶å‘ˆç°ã€‚ğŸ“š</p><p>é€šè¿‡æˆ‘ä»¬çš„åˆ†äº«ï¼Œè®©æ›´å¤šäººäº†è§£ã€å­¦ä¹ å’ŒæŒæ¡ Linux æŠ€æœ¯ï¼Œå¹¶æˆä¸ºæŠ€æœ¯é¢†åŸŸçš„ä½¼ä½¼è€…ï¼ğŸ§™â€â™‚ï¸</p><h3><span id="å°æŠ€å·§å¤§æ”¶è·åˆ†äº«å³èµ¢">ğŸ”¥ å°æŠ€å·§å¤§æ”¶è·ï¼Œåˆ†äº«å³èµ¢</span></h3><p>åœ¨ã€å¥‡å¦™çš„ Linux ä¸–ç•Œã€ï¼Œæˆ‘ä»¬ä¸ä»…å…³æ³¨å¤§å®¶ç†ŸçŸ¥çš„æŠ€æœ¯é¢†åŸŸï¼Œè¿˜ç‰¹åˆ«å…³æ³¨å„ç§å®ç”¨å°æŠ€å·§çš„åˆ†äº«ã€‚ğŸ”</p><p>è¿™äº›å°æŠ€å·§æˆ–è®¸åªæ˜¯ä¸€è¡Œå‘½ä»¤ã€ä¸€ä¸ªå°å·¥å…·ï¼Œä½†å´èƒ½å¸¦æ¥æ„æƒ³ä¸åˆ°çš„æ”¶è·å’Œä¾¿åˆ©ã€‚ğŸ› ï¸</p><p>æˆ‘ä»¬ç›¸ä¿¡ï¼Œåˆ†äº«å°æŠ€å·§ä¸ä»…å¯ä»¥æé«˜å¤§å®¶çš„å·¥ä½œæ•ˆç‡ï¼Œè¿˜èƒ½å¢è¿›ç¤¾åŒºçš„äº¤æµå’Œå…±äº«ã€‚ğŸ”„</p><h3><span id="å¼€æºç²¾ç¥ä¸æ—¶ä¿±è¿›">ğŸ‘¨â€ğŸ’» å¼€æºç²¾ç¥ï¼Œä¸æ—¶ä¿±è¿›</span></h3><p>åœ¨ã€å¥‡å¦™çš„ Linux ä¸–ç•Œã€ï¼Œæˆ‘ä»¬åšä¿¡å¼€æºç²¾ç¥çš„åŠ›é‡ï¼Œå¹¶å°†å…¶è´¯ç©¿äºæˆ‘ä»¬çš„æ¯ä¸€ç¯‡æ–‡ç« å’Œæ¯ä¸€ä¸ªæ¨èä¹‹ä¸­ã€‚ğŸ’¡</p><p>æˆ‘ä»¬å…³æ³¨å¹¶æ¨èå„ç§ä¼˜ç§€çš„å¼€æºè½¯ä»¶ï¼Œé¼“åŠ±å¤§å®¶ç§¯æå‚ä¸å¼€æºç¤¾åŒºï¼Œè´¡çŒ®è‡ªå·±çš„ä¸€ä»½åŠ›é‡ã€‚ğŸ’«</p><p>æ— è®ºæ˜¯åœ¨ä»£ç è´¡çŒ®ã€æ–‡æ¡£ç»´æŠ¤è¿˜æ˜¯ç¤¾åŒºæ”¯æŒä¸Šï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥æˆä¸ºå¼€æºä¸–ç•Œçš„ä¸€éƒ¨åˆ†ï¼ğŸ’ª</p><h3><span id="æ„Ÿè°¢ä¸å±•æœ›">ğŸŒ æ„Ÿè°¢ä¸å±•æœ›</span></h3><p>åœ¨æ­¤åˆ»ï¼Œè®©æˆ‘ä»¬ä¸€èµ·åº†ç¥è¿™æ®µæ—…ç¨‹çš„æ¯ä¸€ä¸ªé‡Œç¨‹ç¢‘ï¼Œä¹ŸæœŸå¾…æœªæ¥èƒ½æœ‰æ›´å¤šåˆ›æ–°å’Œçªç ´ã€‚ğŸŒŸ</p><p>åœ¨è¿‡å»çš„ 8 å¹´é‡Œï¼Œã€å¥‡å¦™çš„ Linux ä¸–ç•Œã€å§‹ç»ˆåšæŒåˆå¿ƒï¼Œç§‰æ‰¿ç€åˆ†äº«ã€å­¦ä¹ ã€æˆé•¿çš„ç†å¿µï¼Œä¸å¤§å®¶ä¸€åŒæ¢ç´¢ Linux ä¸–ç•Œçš„æ— é™å¯èƒ½ã€‚ğŸŒˆ</p><p>8 å¹´çš„æ—…ç¨‹ï¼Œæˆ‘ä»¬ä¸€èµ·ç»å†äº†æ— æ•°çš„æŒ‘æˆ˜å’Œæˆé•¿ï¼Œæ„Ÿè°¢å¤§å®¶ä¸€ç›´ä»¥æ¥çš„æ”¯æŒå’Œé™ªä¼´ï¼ğŸ¤”</p><p>åœ¨æœªæ¥çš„å²æœˆé‡Œå°†ç»§ç»­ä¸ºå¤§å®¶å¸¦æ¥æ›´å¤šä¼˜è´¨å†…å®¹å’Œç²¾å½©ä½“éªŒã€‚è®©æˆ‘ä»¬ä¸€èµ·åŠ æ²¹ï¼Œæ¢ç´¢æ›´å¹¿é˜”çš„æŠ€æœ¯é¢†åŸŸï¼Œå…±åŒä¹¦å†™å±äºæˆ‘ä»¬çš„ Linux ä¼ å¥‡ï¼ğŸ‰</p></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "10135-1588830050631-449",        "name": "ã€Œå¥‡å¦™çš„ Linux ä¸–ç•Œã€",        "qrcode": "https://www.hi-linux.com/img/wechat/mp_qrcode_12.jpg",        "keyword": "VIP"    });}</script>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ğŸ‰ğŸˆ-ã€å¥‡å¦™çš„-Linux-ä¸–ç•Œã€å…¬ä¼—å·-8-å‘¨å¹´è®°-ğŸ‰ğŸˆ&quot;&gt;ğŸ‰ğŸˆ ã€å¥‡å¦™çš„ Linux ä¸–ç•Œã€å…¬ä¼—å· 8 å‘¨å¹´è®° ğŸ‰ğŸˆ&lt;/h2&gt;
&lt;p&gt;å˜¿ï¼Œäº²çˆ±çš„ã€å¥‡å¦™çš„ Linux ä¸–ç•Œã€è¯»è€…ä»¬ ğŸ‘‹&lt;/p&gt;
&lt;p&gt;æ—¶å…‰èè‹’ï¼Œè½¬çœ¼é—´ ã€å¥‡å¦™çš„ Linux ä¸–ç•Œã€å·²ç»é™ªä¼´å¤§å®¶åº¦è¿‡äº† 8 ä¸ªå¹´å¤´ã€‚ğŸƒ&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ 8 å¹´çš„å²æœˆé‡Œï¼Œæˆ‘ä»¬ä¸€èµ·æ¢ç´¢äº† Linux çš„æ— å°½å¥¥ç§˜ï¼Œåˆ†äº«äº†æ— æ•°ç¡¬æ ¸å¹²è´§å’Œæ–°å¥‡å†…å®¹ã€‚ğŸ§&lt;/p&gt;
&lt;p&gt;ä»ä¸€å¼€å§‹çš„æ¢ç´¢è€…åˆ°ç°åœ¨çš„ç¡¬æ ¸ç²‰ä¸ï¼Œæ¯ä¸€æ­¥éƒ½ç¦»ä¸å¼€å¤§å®¶çš„æ”¯æŒä¸çƒ­çˆ±ã€‚ğŸŠ&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ä¸ªç‰¹åˆ«çš„æ—¥å­é‡Œï¼Œè®©æˆ‘ä»¬ä¸€èµ·å›é¡¾è¿™ 8 å¹´æ¥çš„ç²¾å½©æ—…ç¨‹ï¼šğŸ§³&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/categories/Linux/"/>
    
    
      <category term="æŠ€å·§" scheme="https://www.hi-linux.com/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="Linux" scheme="https://www.hi-linux.com/tags/Linux/"/>
    
      <category term="DNS" scheme="https://www.hi-linux.com/tags/DNS/"/>
    
  </entry>
  
  <entry>
    <title>ç»™ã€Œæ‰“å·¥äººã€çš„ç»´æƒæŒ‡å—ï¼šèŠèŠæˆ‘çš„èŒåœºç»´æƒå®æˆ˜ç»éªŒ</title>
    <link href="https://www.hi-linux.com/posts/59972.html"/>
    <id>https://www.hi-linux.com/posts/59972.html</id>
    <published>2024-03-04T01:00:00.000Z</published>
    <updated>2024-03-04T08:01:44.699Z</updated>
    
    <content type="html"><![CDATA[<div id="vip-container"><p>è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å°è¯•å†™ä¸ªäººå¹´åº¦æ€»ç»“ã€‚</p><p>æˆ‘çš„ 2023 å¹´ä¸ 2022 å¹´ä¸å¯åˆ†å‰²ï¼Œä¸€ç›´èµ°åœ¨ç»´æƒçš„è·¯ä¸Šã€‚</p><p>æ—©åœ¨ 2022 å¹´åˆï¼Œæˆ‘çš„èŒä¸šç”Ÿæ¶¯å‘ç”Ÿé‡å¤§è½¬å˜ï¼Œå…¬å¸åœ¨æœªä¸æˆ‘åå•†çš„æƒ…å†µä¸‹ï¼Œå•æ–¹é¢å°†æˆ‘å¾…å²—ï¼Œé™ä½å·¥èµ„ï¼Œç§»äº¤å·¥ä½œã€‚æˆ‘ä»ç†Ÿæ‚‰çš„å·¥ä½œç¯å¢ƒè¢«è¿«æˆä¸ºäº†ä¸€ä¸ªã€ŒåŠè‡ªç”±èŒä¸šè€…ã€ã€‚æˆ‘ä¹‹æ‰€ä»¥è‡ªè®¤ä¸ºæ˜¯åŠè‡ªç”±ï¼Œæ˜¯å› ä¸ºå…¬å¸æœªä¸æˆ‘è§£é™¤åŠ³åŠ¨åˆåŒï¼Œæ‰€ä»¥åŠ³åŠ¨å…³ç³»è¿˜åœ¨åŸå…¬å¸ã€‚æ³•å¾‹è§„å®šåŠ³åŠ¨è€…åªèƒ½å’Œä¸€å®¶ç”¨äººå•ä½ç­¾è®¢åŠ³åŠ¨åˆåŒï¼Œæ‰€ä»¥æˆ‘åœ¨ä¸å…¬å¸å­˜åœ¨åŠ³åŠ¨äº‰è®®çš„æƒ…å†µä¸‹ï¼Œæ— æ³•å…¥èŒä¸‹å®¶å…¬å¸ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œå…¬å¸éš”å‡ ä¸ªæœˆååœå‘æˆ‘çš„å·¥èµ„ï¼Œåˆ‡æ–­äº†æˆ‘å”¯ä¸€çš„ç»æµæ¥æºã€‚æˆ‘å¼€å§‹å°è¯•å­¦ä¹ ã€ŠåŠ³åŠ¨æ³•ã€‹åŠç›¸å…³æ³•å¾‹çŸ¥è¯†ï¼ŒæŸ¥é˜…å’Œè‡ªå·±æ¡ˆä»¶ç±»ä¼¼çš„è£åˆ¤æ–‡ä¹¦ï¼Œæ•´ç†ä¹¦é¢ææ–™ï¼Œä¸ºçš„æ˜¯è·Ÿå…¬å¸å¯¹ç°¿å…¬å ‚ï¼Œè®¨å›åšä¸ºåŠ³åŠ¨è€…çš„å°Šä¸¥å’Œæƒç›Šã€‚</p><p>åœ¨åŠ³èµ„å…³ç³»ä¸­ï¼Œå…¬å¸å…·æœ‰ä¼˜åŠ¿åœ°ä½ï¼Œè€ŒåŠ³åŠ¨è€…å¤„äºå¼±åŠ¿çš„ä¸€æ–¹ã€‚å°¤å…¶æ˜¯é¢å¯¹è€æ¿ã€äººäº‹ã€æ³•åŠ¡ç»„æˆçš„æµæ°“å›¢ä¼™æ—¶ï¼Œä¼šæ›´åŠ è¢«åŠ¨ã€æ„¤æ€’ã€è¿·èŒ«ã€æ— åŠ©ã€‚å¸Œæœ›å¤§å®¶åœ¨é¢å¯¹å…¬å¸çš„æ¶æ„æ—¶å¯ä»¥æ›´åŠ ä»å®¹ï¼Œæ˜¯æˆ‘å†™ä¸‹è¿™äº›æ–‡å­—çš„åˆè¡·ã€‚</p><a id="more"></a><h2><span id="åœ¨èŒä»²è£-or-ç¦»èŒä»²è£">åœ¨èŒä»²è£ or ç¦»èŒä»²è£</span></h2><p>ä»¥å‰ä¸€ç›´ä»¥ä¸ºé‡åˆ°åŠ³åŠ¨äº‰è®®é—®é¢˜ï¼Œè¦ç¦»èŒåæ‰èƒ½æèµ·ä»²è£ï¼Œä½†åæ¥ä»ç½‘ç»œäº†è§£åˆ°æˆ‘çš„æ¡ˆä»¶æƒ…å†µæ›´é€‚åˆåœ¨èŒä»²è£ï¼Œåœ¨èŒæœŸé—´å¯ä»¥éšæ—¶ç”³è¯·ï¼Œæ‰€ä»¥æˆ‘**å°è¯•æèµ·åœ¨èŒä»²è£ã€‚**ä»²è£æœŸé—´å¯ä»¥æ­£å¸¸ä¸Šç­ï¼Œè‡ªå·±ä¹Ÿæœ‰æœºä¼šå°½å¯èƒ½åœ°å¤šæœé›†ä¸€äº›è¯æ®ã€‚å› ä¸ºå…¬å¸å–æ¶ˆäº†æˆ‘çš„åŠå…¬æƒé™ï¼Œæˆ‘ç›®å‰å·²ç»ä¸éœ€è¦å»å…¬å¸æ‰“å¡äº†ã€‚</p><p>ç›¸æ¯”åœ¨èŒä»²è£ï¼Œé€‰æ‹©<strong>ç¦»èŒä»²è£æ˜¯æœ€ä¸ºå¸¸è§çš„æƒ…å†µ</strong>ï¼Œå¯å›ºå®šå’Œæœé›†çš„è¯æ®ç©ºé—´æœ‰é™ï¼Œé€‚åˆæƒ…å†µç®€å•çš„æ¡ˆå­ã€‚éœ€è¦æ³¨æ„ï¼Œç¦»èŒä»²è£æœ‰æ—¶æ•ˆæ€§ï¼ŒæœŸé™ä¸ºä¸€å¹´ã€‚ä¹Ÿå°±æ˜¯è¯´å‘ç”ŸåŠ³åŠ¨äº‰è®®åï¼Œéœ€åœ¨åŠ³åŠ¨å…³ç³»ç»ˆæ­¢ä¹‹æ—¥ï¼ˆç¦»èŒå½“å¤©ï¼‰èµ·ä¸€å¹´å†…æå‡ºã€‚å¦åˆ™æ—¢ä¸èƒ½ä»²è£ä¹Ÿä¸èƒ½è¯‰è®¼ã€‚</p><p><img src="https://img.hi-linux.com/staticfile/1-2024-03-04-hL5ZpT.jpeg" alt>åŠ³åŠ¨äººäº‹äº‰è®®ä»²è£æµç¨‹å›¾ï¼ˆ<a href="http://www.bjchy.gov.cn/affair/ldwq/tjzc/8a24fe9767393e2d01673f3dbdc70a21.html" target="_blank" rel="noopener">å›¾æº</a>ï¼šé™„ä»¶ææ–™ï¼‰</p><h3><span id="å‘˜å·¥ä¸èƒ½æä¾›ç¦»èŒè¯æ˜çš„è§£å†³åŠæ³•">å‘˜å·¥ä¸èƒ½æä¾›ç¦»èŒè¯æ˜çš„è§£å†³åŠæ³•</span></h3><p>å¦‚æœå·²ç»å’Œå…¬å¸è§£é™¤åŠ³åŠ¨åˆåŒï¼Œ ä½†å…¬å¸ä¸é…åˆï¼Œæˆ‘ä»¬æ— æ³•åœ¨å…¥èŒæ–°å…¬å¸æ—¶æä¾›è¯æ˜è¯¥æ€ä¹ˆåŠï¼Ÿ</p><h4><span id="æ­£å¸¸çš„æ³•å¾‹æ¸ é“">æ­£å¸¸çš„æ³•å¾‹æ¸ é“</span></h4><p>ä¾ç…§æ³•å¾‹è§„å®šï¼Œç”¨äººå•ä½æœ‰ä¹‰åŠ¡åœ¨è§£é™¤åŠ³åŠ¨åˆåŒæ—¶å‡ºå…·ç¦»èŒè¯æ˜ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ‰“ç”µè¯å‘å½“åœ°åŠ³åŠ¨ç›‘å¯Ÿå¤§é˜ŸæŠ•è¯‰ï¼Œæˆ–è€…é€šè¿‡åŠ³åŠ¨ä»²è£è¦æ±‚å…¬å¸å‡ºå…·ç¦»èŒè¯æ˜å¹¶èµ”å¿ç”±æ­¤å¸¦æ¥çš„æŸå¤±ã€‚ä½†è¿™ä¹ˆåšè¦èŠ±è´¹ä¸€å®šçš„æ—¶é—´æˆæœ¬ã€‚</p><h4><span id="ç›¸å¯¹ç®€å•çš„è§£å†³åŠæ³•">ç›¸å¯¹ç®€å•çš„è§£å†³åŠæ³•</span></h4><p>è™½ç„¶æˆ‘ä»¬ä¸èƒ½æä¾›ç¦»èŒè¯æ˜ï¼Œä½†è‹¥æ˜¯åœ¨å®¢è§‚äº‹å®ä¸­ï¼Œä¸ä¸Šä¸€å®¶ç”¨äººå•ä½çš„åŠ³åŠ¨åˆåŒå·²ç»è§£é™¤æˆ–ç»ˆæ­¢ï¼Œåˆ™å…¬å¸å½•ç”¨æˆ‘ä»¬æ—¶å·²æ— æ³•å¾‹éšœç¢ã€‚æˆ‘ä»¬å¯ä»¥æä¾›ä¸åŸå…¬å¸åŠ³åŠ¨åˆåŒè§£é™¤æˆ–ç»ˆæ­¢çš„ç›¸å…³è¯æ˜ï¼Œä¾‹å¦‚ï¼šå‘åŸå…¬å¸æå‡ºçš„ã€Šç¦»èŒç”³è¯·ã€‹ã€ã€Šå·¥ä½œäº¤æ¥è®°å½•ã€‹ã€ã€Šç¤¾ä¿å‡å‘˜è¯æ˜ã€‹ç­‰ã€‚</p><p>æˆ‘ä»¬è¿˜å¯ä»¥å‘å°†è¦å…¥èŒçš„å…¬å¸ï¼Œå‡ºå…·ã€Šæ‰¿è¯ºå‡½ã€‹ï¼š<br>æœ¬äºº Aï¼Œèº«ä»½è¯å·ï¼šxxxï¼Œå‘ B å…¬å¸éƒ‘é‡æ‰¿è¯ºï¼Œæœ¬äººå·²ç»ä¸ C å…¬å¸åŠ³åŠ¨åˆåŒè§£é™¤ï¼Œè‹¥å› æœ¬äººåšè™šå‡æ‰¿è¯ºï¼Œç»™ B å…¬å¸é€ æˆä»»ä½•ä¸åˆ©åæœï¼Œéƒ½ç”±æœ¬äººæ‰¿æ‹…ã€‚è½æ¬¾ï¼šæ‰¿è¯ºäººï¼ˆç­¾åï¼‰ï¼Œx å¹´ x æœˆ x æ—¥ã€‚</p><h3><span id="æèµ·åŠ³åŠ¨ä»²è£å‰éœ€è¦æ³¨æ„ä»€ä¹ˆ">æèµ·åŠ³åŠ¨ä»²è£å‰éœ€è¦æ³¨æ„ä»€ä¹ˆ</span></h3><p>åˆ†äº«ä¸€ä¸ªæˆ‘åœ¨ä»²è£å‰ï¼Œæ¥è‡ªå¾‹å¸ˆçš„å»ºè®®ï¼šåœ¨å‡†å¤‡ã€Šä»²è£ç”³è¯·ä¹¦ã€‹çš„è¯·æ±‚äº‹é¡¹ä¸­ï¼Œå¯ä»¥æŠŠèƒ½æƒ³åˆ°çš„éƒ½å†™ä¸Šï¼ˆæœªä¼‘å¹´å‡ã€åŠ ç­è´¹ã€ç»©æ•ˆææˆç­‰ï¼‰ï¼Œæ¯é¡¹è¦å†™æ¸…æ¥šè¯¦ç»†çš„è®¡ç®—æ–¹å¼ï¼Œç„¶åå¯¹åº”å»æœé›†è¯æ®ï¼Œå›´ç»•è¯‰æ±‚ä¸­çš„ä¸»å¼ å’Œè¯æ®ï¼Œé˜è¿°äº‹å®å’Œç†ç”±ã€‚</p><p>ä»²è£å§”ä¸ä¸€å®šæ”¯æŒå½“äº‹äººçš„å…¨éƒ¨ä¸»å¼ ï¼Œä½†æ²¡å†™åœ¨è¯·æ±‚äº‹é¡¹ä¸­çš„å†…å®¹ä¸€å®šä¸ä¼šå¾—åˆ°æ”¯æŒã€‚</p><p>æˆ‘å°†æ³¨æ„äº‹é¡¹çš„é‡ç‚¹å†…å®¹ï¼Œç®€å•åšäº†å¦‚ä¸‹æ€»ç»“ï¼š</p><ol><li>ç¡®è®¤æœ¬äººä¸ç”¨äººå•ä½ç­¾ç½²äº†æ­£å¼åŠ³åŠ¨åˆåŒï¼Œæ’é™¤åŠ³åŠ¡åˆåŒã€åŠ³åŠ¡æ´¾é£åˆåŒç­‰ï¼Œå¹¶ç¡®è®¤è‡ªå·±æ˜¯å¦ä¿ç•™äº†å…¥èŒä»¥æ¥çš„å…¨éƒ¨åˆåŒåŸä»¶ã€‚</li><li>å¦‚ç­¾è®¢åŠ³åŠ¨åˆåŒã€è¯·ç¡®è®¤åˆåŒä¸­æ˜¯å¦æ˜ç¡®çº¦å®šäº†è–ªé…¬æƒ…å†µã€è–ªé…¬æ„æˆã€å·¥ä½œå²—ä½åç§°ã€å·¥ä½œå†…å®¹ã€å…¥èŒæ—¶é—´ã€å·¥ä½œåœ°ç‚¹ã€‚</li><li>å®Œæ•´ä¿å­˜äº†ä¸å…¬å¸æ²Ÿé€šåå•†çš„å¾€æ¥é‚®ä»¶ã€å¾®ä¿¡èŠå¤©è®°å½•ã€‚</li><li>æ•´ç†å¥½æ‰‹ä¸­ç°æœ‰çš„è¯æ®ï¼Œåˆ—å‡ºæ¸…å•ã€‚</li><li>åŠ³åŠ¨ä»²è£æ˜¯å¿…ç»å‰ç½®æµç¨‹ï¼Œä¸å¯ç›´æ¥å»æ³•é™¢èµ·è¯‰ã€‚</li></ol><h4><span id="æé«˜æ³•å¾‹æ„è¯†ç•™å¿ƒæ³•å¾‹é£é™©">æé«˜æ³•å¾‹æ„è¯†ï¼Œç•™å¿ƒæ³•å¾‹é£é™©</span></h4><p>åœ¨é‡åˆ°çªå‘æ€§å²—ä½å˜åŠ¨æˆ–å·¥ä½œå®‰æ’ï¼Œå¦‚ï¼šè°ƒå²—ã€è½¬å²—ã€å¾…å²—ç­‰ï¼Œä¸€å®šè¦ç•™å¿ƒè¿™å½“ä¸­çš„æ³•å¾‹é£é™©ï¼Œä¸è¦åœ¨ä»»ä½•ä¹¦é¢ææ–™ä¸Šç­¾å­—ï¼ŒåŠ³åŠ¨è€…æœ‰æƒæ‹’ç»å…¬å¸ä»»ä½•ä¸åˆç†ä¸åˆæ³•çš„è¡Œä¸ºã€‚å¦‚æœè·Ÿå…¬å¸æœ‰åå•†å’Œè°ˆåˆ¤ç©ºé—´ï¼Œ**å¯ä»¥å°è¯•ä¸ºè‡ªå·±äº‰å–ä¸€ä¸ªä¸ä½äºå¿ƒç†é¢„æœŸçš„å¥½ç»“æœã€‚**ä½†å¦‚æœå…¬å¸æƒ³è£å‘˜ï¼Œè¯HR æ‰¾ä½ è°ˆè¯ï¼Œè¿ N éƒ½æ²¡æœ‰ï¼Œè¦è¯šæ„æ²¡è¯šæ„ï¼Œè¿˜ä¸å¥½å¥½è¯´ï¼Œæƒ³å¥—è·¯ä½ ï¼Œæ•…æ„æä½ å¿ƒæ€ã€‚åˆ«çŠ¹è±«ï¼Œæ‹¿èµ·æ³•å¾‹æ­¦å™¨å§ã€‚</p><p>æ³•å¾‹æ˜¯æ¯ä¸ªå…¬æ°‘éƒ½å¯ä»¥ç”¨æ¥ä¿æŠ¤è‡ªå·±çš„æƒåˆ©ï¼Œåšä¸ºä¸€åæ™®é€šåŠ³åŠ¨è€…ï¼Œæˆ‘è§‰å¾—ç»´æƒæœ€é‡è¦çš„é™¤äº†è¯æ®å’Œè¯‰è®¼ç­–ç•¥ï¼Œæ›´é‡è¦çš„æ˜¯<strong>ç»´æƒçš„å‹‡æ°”å’Œå†³å¿ƒ</strong>ã€‚</p><h4><span id="ç»æµè¡¥å¿é‡‘nä¸-ç»æµèµ”å¿é‡‘2nçš„åŒºåˆ«">ç»æµè¡¥å¿é‡‘ï¼ˆNï¼‰ä¸ ç»æµèµ”å¿é‡‘ï¼ˆ2Nï¼‰çš„åŒºåˆ«</span></h4><p>ç»å¸¸é‡åˆ°è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šã€Œå‘˜å·¥è¢«å…¬å¸è¾é€€äº†ï¼Œåº”è¯¥èµ”å¿ 2N è¿˜æ˜¯ N+1ã€ï¼Ÿ</p><p><strong>ç»æµè¡¥å¿é‡‘</strong>ï¼šå°±æ˜¯æˆ‘ä»¬å¤§å®¶å£ä¸­å¸¸è¯´çš„ã€Œ N ã€ï¼Œã€Œ N ã€æ˜¯å·¥ä½œå¹´é™ï¼Œç”¨æ¥æŒ‡ä»£åŠ³åŠ¨åˆåŒæ³•ä¸­çš„ç»æµè¡¥å¿ï¼Œè®¡ç®—æ–¹å¼æ˜¯ï¼šç»æµè¡¥å¿é‡‘= å·¥ä½œå¹´é™ x æœˆå·¥èµ„ã€‚<br>ã€Œå·¥ä½œå¹´é™ã€ä¹Ÿå«å¸é¾„ï¼Œæ˜¯è¡¥å¿é‡‘å’Œèµ”å¿é‡‘çš„åŸºæ•°ã€‚å·¥ä½œæ»¡ 1 å¹´æ”¯ä»˜ 1 ä¸ªæœˆå·¥èµ„ã€‚ä¸æ»¡ 6 ä¸ªæœˆçš„ï¼Œæ”¯ä»˜ 0.5 ä¸ªæœˆçš„ç»æµè¡¥å¿ï¼›æ»¡ 6 ä¸ªæœˆä»¥ä¸Šä½†ä¸æ»¡ 1 å¹´çš„ï¼ŒæŒ‰ 1 å¹´æ”¯ä»˜ã€‚<br>ã€Œæœˆå·¥èµ„ã€æ˜¯æŒ‡åŠ³åŠ¨è€…åœ¨åŠ³åŠ¨åˆåŒè§£é™¤æˆ–ç»ˆæ­¢å‰ 12 ä¸ªæœˆçš„å¹³å‡å·¥èµ„ï¼ˆåŒ…å«å¥–é‡‘ã€ç»©æ•ˆã€å¹´ç»ˆå¥–ç­‰åº”å¾—æ”¶å…¥ï¼‰ã€‚</p><p><strong>ç»æµèµ”å¿é‡‘</strong>ï¼šå…¬å¸ã€Œè¿æ³•è§£é™¤ã€åŠ³åŠ¨åˆåŒäº§ç”Ÿçš„æƒ©ç½šæ€§èµ”å¿ï¼Œè®¡ç®—æ–¹å¼æ˜¯ç»æµè¡¥å¿é‡‘ä¸­ã€ŒNã€çš„ 2 å€ï¼Œä¹Ÿå°±æ˜¯ã€Œ2N ã€ã€‚å¦‚æœå­˜åœ¨è¿æ³•è§£é™¤çš„æƒ…å†µï¼Œ</p><p>æ®æˆ‘äº†è§£ï¼ŒåŒ…æ‹¬å¤§å‚åœ¨å†…çš„ç»å¤§å¤šæ•°å…¬å¸éƒ½ä¸å®ˆè§„çŸ©ï¼Œå¹¶ä¸ä¼šæŒ‰ç…§æ³•å¾‹æ ‡å‡†å»æ‰§è¡Œã€‚æœ‰åŸºç¡€æ³•å¾‹æ„è¯†çš„å…¬å¸æƒ³è¦è£å‘˜æ—¶ï¼Œä¼šå°½é‡è§„é¿ã€Œè¿æ³•è§£é™¤ã€åŠ³åŠ¨åˆåŒï¼Œæ‰€ä»¥ä¸€èˆ¬æ¥è¯´ï¼Œã€Œ2Nã€çš„æ¡ˆå­ä¼šè¶Šæ¥è¶Šéš¾æ‰“ï¼Œå‘˜å·¥ä¸‰æœŸï¼ˆå­•æœŸã€äº§æœŸã€å“ºä¹³æœŸï¼‰å†…é­åˆ°å…¬å¸è¿æ³•è§£é™¤åŠ³åŠ¨åˆåŒçš„æƒ…å†µèƒ½ç›¸å¯¹ç®€å•ä¸€äº›ã€‚å…¬å¸ä¼šæ›´å€¾å‘åœ¨ã€Œåå•†è§£é™¤ã€çš„æ³•å¾‹æ¡†æ¶å†…åšæ–‡ç« ã€‚</p><p>ã€ŠåŠ³åŠ¨åˆåŒæ³•ã€‹åªè§„å®šäº†ã€Œåå•†è§£é™¤ã€çš„æœ€ä½æ ‡å‡†æ˜¯ã€Œ N ã€ï¼Œå¦å¤–å°±æ˜¯ã€ŒN +1 ã€ï¼Œ 1 æ˜¯æŒ‡é¢å¤–æ”¯ä»˜çš„ 1 ä¸ªæœˆå·¥èµ„ä»£é€šçŸ¥é‡‘ï¼ˆå³æ—¶è§£é™¤ï¼‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œã€ŒN + 2 ã€ è¿˜æ˜¯ã€Œ N + 3 ã€éƒ½æ²¡æœ‰æ³•å¾‹ä¾æ®ã€‚åœ¨ N çš„åŸºç¡€ä¸Šï¼Œå…¬å¸æƒ³é¢å¤–æ”¯ä»˜å¤šå°‘éƒ½æ²¡æœ‰æ³•å¾‹é™åˆ¶ï¼Œ åªè¦åŒæ–¹åå•†ä¸€è‡´ï¼Œã€ŒN + ä»»ä½•æ•°å­—ã€éƒ½å¯ä»¥ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå…¬å¸æƒ³è£å‘˜æ‰¾ä½ åå•†ï¼Œä½†ä½ ä¸åŒæ„ï¼Œè‹¥å…¬å¸ä¸€æ„å­¤è¡Œå°±è¦è£ä½ ï¼Œè¯´ä½ ç»©æ•ˆä¸è¾¾æ ‡ï¼Œå•æ–¹é¢è§£é™¤äº†åŠ³åŠ¨åˆåŒï¼Œæ­¤æ—¶å°±æ˜¯è¿æ³•è§£é™¤ï¼Œæœ€ä½æ˜¯ã€Œ 2N ã€ã€‚å½“ç„¶ï¼ŒåŠ³èµ„å…³ç³»å¾ˆå¤æ‚ï¼Œå…¬å¸å¯ä»¥æ‰¾å¾ˆå¤šè§£é™¤åŠ³åŠ¨åˆåŒçš„ç†ç”±ã€‚å¦‚æœæƒ³æ‰“ã€Œ 2N ã€ï¼Œä½ éœ€è¦æä¾›å……åˆ†çš„è¯æ®è¯æ˜å…¬å¸çš„è¡Œä¸ºè¿æ³•ï¼Œæ‰æœ‰å¯èƒ½æ‹¿åˆ°ã€Œ2N ã€ ã€‚</p><p><strong>ä»¥ä¸‹æ˜¯æˆ‘æ•´ç†çš„å…³äºã€Œ2Nã€çš„å¸¸è§æƒ…å½¢ï¼š</strong></p><table><thead><tr><th style="text-align:center">ç”¨äººå•ä½è§£é™¤åŠ³åŠ¨åˆåŒæƒ…å½¢</th><th style="text-align:center"></th><th style="text-align:center"></th></tr></thead><tbody><tr><td style="text-align:center">æƒ…å½¢</td><td style="text-align:center">æ€§è´¨</td><td style="text-align:center">èµ”å¿é‡‘</td></tr><tr><td style="text-align:center">åŠ³åŠ¨è€…è¢«ä¾æ³•è¿½ç©¶åˆ‘äº‹è´£ä»»ï¼Œç”¨äººå•ä½è§£é™¤åŠ³åŠ¨åˆåŒã€‚</td><td style="text-align:center">åˆæ³•è§£é™¤</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">åŠ³åŠ¨è€…åœ¨è¯•ç”¨æœŸé—´è¢«è¯æ˜ä¸ç¬¦åˆå½•ç”¨æ¡ä»¶ï¼Œç”¨äººå•ä½è§£é™¤åŠ³åŠ¨åˆåŒã€‚</td><td style="text-align:center">åˆæ³•è§£é™¤</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">åŠ³åŠ¨è€…ä¸¥é‡è¿åç”¨äººå•ä½çš„è§„ç« åˆ¶åº¦ï¼Œç”¨äººå•ä½è§£é™¤åŠ³åŠ¨åˆåŒã€‚</td><td style="text-align:center">åˆæ³•è§£é™¤</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">åŠ³åŠ¨è€…ä¸¥é‡å¤±èŒï¼Œè¥ç§èˆå¼Šï¼Œç»™ç”¨äººå•ä½é€ æˆé‡å¤§æŸå®³ï¼Œç”¨äººå•ä½è§£é™¤åŠ³åŠ¨åˆåŒã€‚</td><td style="text-align:center">åˆæ³•è§£é™¤</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">åŠ³åŠ¨è€…åŒæ—¶ä¸å…¶ä»–ç”¨äººå•ä½å»ºç«‹åŠ³åŠ¨å…³ç³»ï¼Œå¯¹å®Œæˆæœ¬å•ä½çš„å·¥ä½œä»»åŠ¡é€ æˆä¸¥é‡å½±å“ï¼Œæˆ–è€…ç»ç”¨äººå•ä½æå‡ºï¼Œæ‹’ä¸æ”¹æ­£ï¼Œç”¨äººå•ä½è§£é™¤åŠ³åŠ¨åˆåŒã€‚</td><td style="text-align:center">åˆæ³•è§£é™¤</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">åŠ³åŠ¨è€…ä»¥æ¬ºè¯ˆã€èƒè¿«çš„æ‰‹æ®µï¼Œæˆ–è€…è¶äººä¹‹å±ï¼Œä½¿å¯¹æ–¹åœ¨è¿èƒŒçœŸå®æ„æ€è¡¨ç¤ºçš„æƒ…å†µä¸‹è®¢ç«‹æˆ–è€…å˜æ›´åŠ³åŠ¨åˆåŒçš„æƒ…å½¢ï¼Œè‡´ä½¿åŠ³åŠ¨åˆåŒæ— æ•ˆï¼Œç”¨äººå•ä½è§£é™¤åŠ³åŠ¨åˆåŒã€‚</td><td style="text-align:center">åˆæ³•è§£é™¤</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">åŠ³åŠ¨è€…å¤„äºæ³•å®šä¿æŠ¤æœŸï¼ˆå¦‚å­•æœŸã€äº§æœŸã€å“ºä¹³æœŸï¼‰ï¼Œç”¨äººå•ä½è§£é™¤åŠ³åŠ¨åˆåŒã€‚</td><td style="text-align:center">è¿æ³•è§£é™¤</td><td style="text-align:center">2N</td></tr><tr><td style="text-align:center">æœªç»åŠ³åŠ¨è€…åŒæ„ï¼Œç”¨äººå•ä½æ»¥ç”¨è§£é™¤æƒï¼ˆå¦‚ï¼šè¯•ç”¨æœŸè§£é™¤æƒï¼‰ï¼Œæ“…è‡ªè§£é™¤åˆåŒã€‚</td><td style="text-align:center">è¿æ³•è§£é™¤</td><td style="text-align:center">2N</td></tr><tr><td style="text-align:center">åœ¨æœ¬å•ä½è¿ç»­å·¥ä½œæ»¡ 15 å¹´ï¼Œä¸”è·æ³•å®šé€€ä¼‘å¹´é¾„ä¸è¶³ 5 å¹´ï¼Œç”¨äººå•ä½è§£é™¤åŠ³åŠ¨åˆåŒã€‚</td><td style="text-align:center">è¿æ³•è§£é™¤</td><td style="text-align:center">2N</td></tr><tr><td style="text-align:center">åœ¨æœ¬å•ä½æ‚£èŒä¸šç—…æˆ–å› å·¥è´Ÿä¼¤å¹¶è¢«ç¡®è®¤ä¸§å¤±æˆ–è€…éƒ¨åˆ†ä¸§å¤±åŠ³åŠ¨èƒ½åŠ›ï¼Œç”¨äººå•ä½è§£é™¤åŠ³åŠ¨åˆåŒã€‚</td><td style="text-align:center">è¿æ³•è§£é™¤</td><td style="text-align:center">2N</td></tr><tr><td style="text-align:center">ä»äº‹æ¥è§¦èŒä¸šç—…å±å®³ä½œä¸šçš„åŠ³åŠ¨è€…æœªè¿›è¡Œç¦»å²—å‰èŒä¸šå¥åº·æ£€æŸ¥ï¼Œæˆ–è€…ç–‘ä¼¼èŒä¸šç—…ï¼Œç—…äººåœ¨è¯Šæ–­æˆ–è€…åŒ»å­¦è§‚å¯ŸæœŸé—´ï¼Œç”¨äººå•ä½è§£é™¤åŠ³åŠ¨åˆåŒã€‚</td><td style="text-align:center">è¿æ³•è§£é™¤</td><td style="text-align:center">2N</td></tr><tr><td style="text-align:center">æ‚£ç—…æˆ–è€…éå› å·¥è´Ÿä¼¤ï¼Œåœ¨è§„å®šçš„åŒ»ç–—æœŸå†…ï¼Œç”¨äººå•ä½è§£é™¤åŠ³åŠ¨åˆåŒã€‚</td><td style="text-align:center">è¿æ³•è§£é™¤</td><td style="text-align:center">2N</td></tr><tr><td style="text-align:center">è¿ç»­ç­¾è®¢ 2 æ¬¡å›ºå®šæœŸé™åŠ³åŠ¨åˆåŒï¼Œå¹¶ä¸”åŠ³åŠ¨è€…æ²¡æœ‰ä¸¥é‡è¿‡é”™ã€æ²¡æœ‰ã€Œä¸èƒœä»»å²—ä½ã€ã€Œä¸èƒ½ä»äº‹åŸå²—ä½å·¥ä½œã€çš„æƒ…å†µï¼ŒåˆåŒæœŸæ»¡ï¼Œç”¨äººå•ä½ä¸åŒæ„ä¸ç»­ç­¾ã€‚</td><td style="text-align:center">è¿æ³•è§£é™¤</td><td style="text-align:center">2N</td></tr></tbody></table><h3><span id="åŠ³åŠ¨æ³•çš„æœ‰æ•ˆå­¦ä¹ å·¥å…·">ã€ŠåŠ³åŠ¨æ³•ã€‹çš„æœ‰æ•ˆå­¦ä¹ å·¥å…·</span></h3><h4><span id="ä¸­å›½è£åˆ¤æ–‡ä¹¦ç½‘">ä¸­å›½è£åˆ¤æ–‡ä¹¦ç½‘</span></h4><p>ä¸­å›½è£åˆ¤æ–‡ä¹¦ç½‘ï¼ˆç®€ç§°â€œ<a href="https://wenshu.court.gov.cn/" target="_blank" rel="noopener">è£åˆ¤æ–‡ä¹¦ç½‘</a>â€ï¼‰æ˜¯ç”±æœ€é«˜äººæ°‘æ³•é™¢ä¸»åŠçš„å®˜æ–¹ç½‘ç«™ï¼Œä¸»è¦ç›®çš„æ˜¯å…¬å¼€å…¨å›½å„çº§æ³•é™¢ç”Ÿæ•ˆè£åˆ¤æ–‡ä¹¦ï¼Œä»¥ä¿ƒè¿›å¸æ³•å…¬æ­£å’Œé€æ˜åº¦ã€‚</p><p>è¿™æ˜¯æˆ‘æ—¥å¸¸ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„å·¥å…·ä¹‹ä¸€ï¼Œæ˜¯éå¸¸å®ç”¨çš„å¸æ³•å®è·µå‚è€ƒã€‚è¿™ä¸ªç½‘ç«™æä¾›äº†ä¸°å¯Œçš„ç ”ç©¶ç´ æå’Œæ•°æ®ï¼Œå¯ä»¥æ£€ç´¢åˆ°å…¨å›½å„åœ°æ³•é™¢å„ç±»æ¡ˆä»¶çš„ä¸€å®¡ã€äºŒå®¡æˆ–å†å®¡åˆ¤å†³ä¹¦ï¼Œç»†åˆ†é€‰é¡¹ç‰¹åˆ«å¤šã€‚</p><p>è™½ç„¶åŠ³åŠ¨ä»²è£è£å†³ä¹¦ä¸å…¬å¼€ï¼Œåªå…è®¸å½“äº‹äººåŠå…¶ä»£ç†äººæŸ¥é˜…ã€‚ä½†æˆ‘ä»¬ä¾ç„¶å¯ä»¥ä»å…¬å¼€çš„ä»–äººåˆ¤å†³ä¹¦ä¸­çœ‹åˆ°ä¸€äº›ä»²è£ä¿¡æ¯ï¼Œå¦‚å½“äº‹äººçš„ä¸»å¼ åŠç†ç”±ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è£åˆ¤æ–‡ä¹¦ç½‘æŸ¥è¯¢å’Œç ”ç©¶å…ˆå‰çš„åˆ¤ä¾‹ï¼Œäº†è§£å½“åœ°æ³•å¾‹è¶‹åŠ¿ï¼Œè§£æå®¡åˆ¤å£å¾„ã€‚ä¾‹å¦‚ï¼šåŠ³åŠ¨è€…å’Œå…¬å¸åŒæ–¹çš„äº‰è®®ç‚¹æ˜¯ä»€ä¹ˆï¼Œå“ªäº›ä¸»å¼ å’Œè¯æ®è¢«æ³•é™¢æ”¯æŒï¼Œä¸ºä»€ä¹ˆä¼šæ”¯æŒï¼Œä¸ºä»€ä¹ˆä¼šé©³å›ã€‚ä»¥åŠåœ¨ç»“æ¡ˆé™ˆè¯ä¸­æ³•å®˜æ˜¯å¦‚ä½•çœ‹å¾…é—®é¢˜çš„ã€‚</p><p><img src="https://img.hi-linux.com/staticfile/1-2024-03-04-K48oE2.png" alt></p><h4><span id="å°çº¢ä¹¦">å°çº¢ä¹¦</span></h4><p>å› ä¸ºå°çº¢ä¹¦æœ‰å¾ˆå¤šäººå°†è‡ªå·±åŠ³åŠ¨ä»²è£çš„ç›¸å…³ç»å†ç»éªŒä»¥ç¬”è®°çš„å½¢å¼åˆ†äº«ï¼Œä¹Ÿæœ‰å¾ˆå¤šå¾‹å¸ˆåœ¨å¹³å°ä¸Šåˆ†äº«ä¸€äº›åŠæ¡ˆç»éªŒå’Œæ³•å¾‹çŸ¥è¯†ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—å°†å®ƒéå¸¸é€‚åˆæœç´¢é«˜è´¨é‡çš„ä¿¡æ¯ï¼Œæå‰åšå¥½åŠŸè¯¾ï¼Œå¤šæ–¹éªŒè¯ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥è®©è‡ªå·±å°‘èµ°äº›å¼¯è·¯ã€‚</p><h4><span id="ä¸­å›½æ³•å¾‹å¿«æŸ¥æ‰‹å†Œ">ä¸­å›½æ³•å¾‹å¿«æŸ¥æ‰‹å†Œ</span></h4><p><a href="https://github.com/RanKKI/LawRefBook" target="_blank" rel="noopener">ä¸­å›½æ³•å¾‹å¿«æŸ¥æ‰‹å†Œ</a>æ˜¯ä¸€ä¸ª Github ä¸Šçš„å¼€æºé¡¹ç›®ï¼Œå†…å®¹æ¥æºäºå›½å®¶æ³•å¾‹æ³•è§„æ•°æ®åº“ï¼Œè¿™ä¸ªé¡¹ç›®çš„ä½œè€…å°†æ•°æ®åº“åšäº†æ•´åˆå’Œæœç´¢ç­‰åŠŸèƒ½ï¼Œæ’ç‰ˆç®€æ´ï¼Œä½¿ç”¨èµ·æ¥ç®€å•æ–¹ä¾¿ï¼Œéå¸¸é€‚åˆå¹³æ—¶æŸ¥è¯¢å’Œå­¦ä¹ ã€‚ä½œè€…ä»…æä¾›äº†æ‰‹æœºç‰ˆï¼ˆ iOSã€iPadOSï¼‰å’Œç½‘é¡µç‰ˆï¼Œå¹¶æœªæä¾›ç”µè„‘ç«¯ç‰ˆæœ¬ï¼Œä½†æˆ‘åœ¨ M1 MacBook Pro ä¹Ÿå¯ä»¥é€šè¿‡ App Store åº”ç”¨å•†åº—å®‰è£…ä½¿ç”¨ã€‚</p><p>åŠ³åŠ¨äº‰è®®çš„è¯ï¼Œå»ºè®®ä¸»è¦å…³æ³¨ã€Šä¸­åäººæ°‘å…±å’Œå›½åŠ³åŠ¨æ³•ã€‹ã€Šä¸­åäººæ°‘å…±å’Œå›½åŠ³åŠ¨åˆåŒæ³•ã€‹è¿™ä¸¤ä¸ªæ³•è§„ã€‚</p><p><img src="https://img.hi-linux.com/staticfile/1-20240304145805474-2024-03-04-SwEcjk.png" alt><a href="https://github.com/RanKKI/LawRefBook?tab=readme-ov-file" target="_blank" rel="noopener">å›¾æº</a> / GitHub</p><h2><span id="é è°±å¾‹å¸ˆæ€ä¹ˆæ‰¾">é è°±å¾‹å¸ˆæ€ä¹ˆæ‰¾</span></h2><p>é€šè¿‡ç ”ç©¶å¸æ³•æ¡ˆä¾‹ä»¥åŠæœ¬åœ°è¿‘æœŸå…¬å¼€çš„åŠ³åŠ¨äº‰è®®ç›¸å…³åˆ¤å†³ä¹¦ï¼Œæˆ‘å­¦åˆ°äº†ä¸€äº›åŠ³åŠ¨æ³•åŸºç¡€çŸ¥è¯†ï¼Œå¼€å§‹å°è¯•æ¢³ç†è‡ªå·±çš„æ¡ˆä»¶æƒ…å†µï¼Œå¹¶å¸Œæœ›å¯ä»¥å¾—åˆ°å¾‹å¸ˆçš„ä¸€äº›ä¸“ä¸šå»ºè®®ã€‚å…ˆè¯´è¯´æ‰¾å¾‹å¸ˆæ¥ä»£ç†æ¡ˆå­çš„ 2 ä¸ªå¸¸è§è¯¯åŒº</p><h4><span id="è¯¯åŒº-1-å¾‹æ‰€è¶Šå¤§è¶Šå¥½åæ°”è¶Šé«˜è¶Šå¥½">è¯¯åŒº 1 ï¼šå¾‹æ‰€è¶Šå¤§è¶Šå¥½ï¼Œåæ°”è¶Šé«˜è¶Šå¥½ã€‚</span></h4><p>åæ°”é«˜çš„å¤§å¾‹æ‰€ï¼ŒæœåŠ¡çš„å¯¹è±¡ä¸€èˆ¬æ˜¯å¤§å…¬å¸ï¼Œå› ä¸ºåŠ³åŠ¨è€…çš„æ¡ˆå­éƒ½æ˜¯æ ‡çš„é‡‘é¢ä½çš„å°æ¡ˆå­ï¼Œä¸èµšé’±ã€‚</p><p>æœ¯ä¸šæœ‰ä¸“ä¾›ï¼Œä¸æ˜¯æ‰€æœ‰å¾‹å¸ˆéƒ½æ“…é•¿æ‰“åŠ³åŠ¨ä»²è£çš„æ¡ˆå­ã€‚æ‰€ä»¥æ­£ç¡®çš„æ–¹å¼æ˜¯æ‰¾ä¸»è¦åšåŠ³åŠ¨äº‰è®®æ¡ˆä»¶çš„å¾‹æ‰€ï¼Œæˆ–æ˜¯ä¸»è¦ä»£ç†åŠ³åŠ¨äº‰è®®çš„å¾‹å¸ˆã€‚<br>å¯ä»¥æ˜¯é€šè¿‡ç†Ÿäººï¼ˆå¦‚ï¼šæœ‹å‹ã€åŒäº‹ã€å®¶äººï¼‰æ¨èï¼Œè¿™æ ·æœ‰ä¸€å®šçš„ä¿¡ä»»åŸºç¡€ï¼Œä¹Ÿå¯ä»¥åœ¨å°çº¢ä¹¦æœç´¢ï¼Œçœ‹çœ‹å…¶ä»–äººé€‰æ‹©çš„å¾‹å¸ˆæ˜¯å¦å£ç¢‘å¥½æ¡ˆä¾‹å¤šã€‚</p><p>å¦‚æœåœ¨å¾‹å¸ˆçš„å±¥å†ä»‹ç»ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ä»–æ“…é•¿çš„é¢†åŸŸå¾ˆå¤šï¼Œé‚£ä¸ä¸€å®šæ˜¯å¥½äº‹ã€‚æˆ‘ä»¬éœ€è¦çš„æ˜¯å±¥å†ä»‹ç»ä¸­æ›´å¤šå’ŒåŠ³åŠ¨äº‰è®®ç›¸å…³çš„å¾‹å¸ˆã€‚</p><h4><span id="è¯¯åŒº-2-èŠ±äº†é’±è¯·å¾‹å¸ˆä»£ç†å°±å¯äº¤ç”±å¾‹å¸ˆå…¨æƒè´Ÿè´£">è¯¯åŒº 2 ï¼šèŠ±äº†é’±è¯·å¾‹å¸ˆä»£ç†ï¼Œå°±å¯äº¤ç”±å¾‹å¸ˆå…¨æƒè´Ÿè´£</span></h4><p>æˆ‘ä»¬çš„åŠ³åŠ¨äº‰è®®æ¡ˆä»¶è™½ç„¶æ ‡çš„å°ä¸”ä¸èµšé’±ï¼Œä½†ä¸å¦¨ç¢å®ƒå¾ˆå¤æ‚ã€‚éœ€è¦æŠ•å…¥å¤§é‡æ—¶é—´ç ”ç©¶ï¼Œå‡†å¤‡å’Œå¼€åº­ï¼Œè·‘ä»²è£æˆ–æ³•é™¢ã€‚</p><p>å¾‹å¸ˆä¹Ÿæ˜¯å¦‚æ­¤ã€‚å¾‹å¸ˆä½œä¸ºæ³•å¾‹å·¥ä½œè€…ï¼Œæ˜¯æä¾›ä¸“ä¸šçš„æ³•å¾‹å¸®åŠ©ï¼Œè€Œä¸æ˜¯ä»£æ›¿å¤„ç†ç›¸å…³å…¨éƒ¨äº‹é¡¹ã€‚å…³äºæ¡ˆä»¶ä¸­çš„å–è¯ã€å’Œæœ‰å…³éƒ¨é—¨äº¤æ¶‰éƒ½éœ€è¦è‡ªå·±æ¥å®Œæˆï¼Œå¾‹å¸ˆåªæ˜¯åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æä¾›æŒ‡å¯¼ã€‚å¾‹å¸ˆå¯ä»¥å¸®å¿™äº‰å–æœ€å¥½çš„ç»“æœï¼Œä½†ä¸èƒ½é¿å…æ‰€æœ‰çš„é£é™©ã€‚</p><p>ä½œä¸ºå½“äº‹äººï¼Œæˆ‘ä»¬å¯¹å…¬å¸å’Œè‡ªèº«æƒ…å†µæœ€ä¸ºäº†è§£ï¼Œåº­å®¡æ—¶æ³•å®˜ä¼šå›´ç»•æ¯ä¸ªç»†èŠ‚è¿›è¡Œè¯¦ç»†è¯¢é—®ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè‡ªå·±è¦é‡è§†å¼€åº­å¹¶äº²è‡ªå‚åŠ åº­å®¡çš„åŸå› ã€‚ä¸ºäº†é™ä½è¯‰è®¼ä¸­å­˜åœ¨çš„é£é™©ï¼Œæˆ‘ä»¬éœ€è¦å¤šå’Œå¾‹å¸ˆäº¤æµè®¨è®ºï¼Œè‡ªå·±è¦å…ˆå˜æ¸…æ€è·¯ï¼Œæ•´ç†å¥½è¯æ®ï¼Œåšå¥½å……è¶³å‡†å¤‡ï¼Œåœ¨å¼€åº­æ—¶æ‰èƒ½è‡ªå¦‚åº”ç­”ï¼Œä¸ä¼šå› ä¸ºç´§å¼ è€Œé—æ¼é‡ç‚¹ã€‚</p><p>é€šè¿‡ä»¥ä¸Š 2 ä¸ªè¯¯åŒºï¼Œæˆ‘ä»¬å¯ä»¥å¯¹è¿™éƒ¨åˆ†åšä¸ªå°æ€»ç»“ï¼š</p><ol><li>ä¸“ä¸šé¢†åŸŸçš„é‡è¦æ€§ï¼šæˆ‘ä»¬éœ€è¦è€ƒè™‘è‡ªå·±çš„æ¡ˆå­ç±»å‹å’Œå¾‹å¸ˆçš„ä¸“ä¸šé¢†åŸŸæ˜¯å¦åŒ¹é…</li><li>é€‰æ‹©åˆé€‚çš„å¾‹æ‰€å’Œå¾‹å¸ˆï¼šé€‰æ‹©æœ‰è‰¯å¥½å£°èª‰å’Œå£ç¢‘çš„å¾‹å¸ˆ</li><li>å¾‹å¸ˆçš„è§’è‰²ï¼šè¯·å¾‹å¸ˆå¹¶ä¸æ„å‘³ç€å¯ä»¥å®Œå…¨æ”¾æ‰‹ï¼Œå¾‹å¸ˆçš„è§’è‰²æ˜¯æŒ‡å¯¼å’Œäº‰å–æœ€ä½³ç»“æœï¼Œè€Œä¸æ˜¯æ›¿ä»£è‡ªå·±å¤„ç†æ‰€æœ‰äº‹ç‰©ã€‚</li><li>å½“äº‹äººçš„å‚ä¸ï¼šæˆ‘ä»¬åšä¸ºå½“äº‹äººåº”å¯¹è‡ªå·±çš„æ¡ˆä»¶æœ‰æ·±å…¥äº†è§£ï¼Œå¹¶ç§¯æå‚ä¸åº­å®¡å‡†å¤‡ï¼Œä¸å¾‹å¸ˆå……åˆ†æ²Ÿé€šï¼Œæ•´ç†è¯æ®ï¼Œæ¸…æ™°æ€è·¯ï¼Œå°½å¯èƒ½é™ä½è¯‰è®¼é£é™©ã€‚</li></ol><h3><span id="æ‰¾å¾‹å¸ˆé€”å¾„ä¹‹ä¸€ä¸­å›½æ³•å¾‹æœåŠ¡ç½‘12348-ä¸­å›½æ³•ç½‘">æ‰¾å¾‹å¸ˆé€”å¾„ä¹‹ä¸€ï¼šä¸­å›½æ³•å¾‹æœåŠ¡ç½‘ï¼ˆ12348 ä¸­å›½æ³•ç½‘ï¼‰</span></h3><p><img src="https://img.hi-linux.com/staticfile/1-20240304145805551-2024-03-04-ac3x5W.png" alt></p><p>è¿™ä¸ªç”±å¸æ³•éƒ¨å»ºè®¾çš„ç½‘ç«™ï¼Œæ˜¯äº2018 å¹´ 5 æœˆ20 æ—¥æ­£å¼ä¸Šçº¿è¿è¡Œã€‚ç½‘ç«™æ•´åˆå¹¶æ”¶å½•äº†å…¨å›½èŒƒå›´å†…çš„ã€Œæ³•å¾‹æœåŠ¡æœºæ„ã€å’Œã€Œæ³•å¾‹äººå‘˜æ•°æ®ã€ã€‚æ˜¯</p><p>æˆ‘ä»¬å¯ä»¥åœ¨é‡Œé¢é€‰æ‹©å¾‹æ‰€æˆ–å¾‹å¸ˆï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç½‘ç«™æŸ¥è¯¢ä»å…¶ä»–æ¸ é“äº†è§£åˆ°çš„æŸå®¶å¾‹æ‰€ï¼Œæˆ–æŸä½å¾‹å¸ˆï¼ˆå¯æŸ¥è¯¢å¾‹å¸ˆæ‰§ä¸šè¯å·ï¼‰ã€‚</p><p><img src="https://img.hi-linux.com/staticfile/1-20240304145839669-2024-03-04-Ev0UoP.png" alt></p><h3><span id="ä¸ºæ‰¾å¾‹å¸ˆæˆ‘åšäº†å“ªäº›å°è¯•">ä¸ºæ‰¾å¾‹å¸ˆæˆ‘åšäº†å“ªäº›å°è¯•</span></h3><p>ç®—ä¸‹æ¥ï¼Œæˆ‘å‰åå…±å’¨è¯¢äº† 3 ä½å¾‹å¸ˆï¼ˆä¸åŒ…å«æ³•å¾‹æ´åŠ©ï¼‰ã€‚æˆ‘å¯»æ±‚å¾‹å¸ˆå¸®åŠ©çš„è·¯å¾„æ˜¯ï¼šåœ¨çº¿å’¨è¯¢å¾‹å¸ˆ Aï¼ˆä»˜è´¹ï¼‰â€”â€” çº¿ä¸‹å’¨è¯¢å¾‹å¸ˆ B ï¼ˆä»˜è´¹ï¼‰â€”â€” çº¿ä¸‹å’¨è¯¢å¾‹å¸ˆ C ï¼ˆä»˜è´¹ï¼‰</p><h4><span id="åœ¨çº¿å’¨è¯¢å¾‹å¸ˆ-a">åœ¨çº¿å’¨è¯¢å¾‹å¸ˆ A</span></h4><p>æœ€å¼€å§‹æˆ‘å…ˆå°è¯•äº†åœ¨ç½‘ä¸Šæ‰¾å¾‹å¸ˆä»˜è´¹å’¨è¯¢ï¼Œ<br>è™½ç„¶ä»˜è´¹ä»·æ ¼ï¼ˆæ”¯ä»˜ 168 å…ƒï¼‰æ¯”çº¿ä¸‹å’¨è¯¢å¾‹å¸ˆä¾¿å®œå¾ˆå¤šï¼Œä½†æ˜¯ä¸ä»·æ ¼ç›¸å¯¹ç­‰çš„æ˜¯æé—®æœ‰æ¬¡æ•°ã€å­—æ•°ã€æ—¶é—´é™åˆ¶ï¼ˆåªèƒ½æ–‡å­—æ²Ÿé€šä¸èƒ½è¯­éŸ³ï¼‰ï¼Œå¦‚æœåœ¨å¾‹å¸ˆä¸äº†è§£ç›¸å…³èƒŒæ™¯æƒ…å†µä¸‹è¿›è¡Œæé—®ï¼Œè¿™å°†å¯¼è‡´å¾‹å¸ˆå› æ— æ³•åˆ¤æ–­æ¡ˆæƒ…è€Œæ— æ³•æä¾›åˆç†åŒ–å»ºè®®ã€‚</p><p>äºæ˜¯æˆ‘å°è¯•å°½é‡ç²¾ç®€æ–‡å­—è¡¨è¿°ï¼Œå°†æé—®å†…å®¹åˆ†ä¸ºï¼šäº‹ä»¶èƒŒæ™¯ï¼ˆæ—¶é—´çº¿ï¼‰ã€æˆ‘çš„ç°çŠ¶ã€æ ¸å¿ƒé—®é¢˜ï¼Œåˆ¶ä½œæˆä¸€å¼ å›¾ç‰‡å‘é€ç»™å¾‹å¸ˆã€‚å¾‹å¸ˆå¯¹æˆ‘æé—®çš„å†…å®¹ä¸€ä¸€åšäº†è§£ç­”ï¼Œä½†æ˜¯æˆ‘ç»“åˆè‡ªèº«æƒ…å†µï¼Œåˆ¤æ–­å‡ºå¾‹å¸ˆæå‡ºçš„è§£å†³æ–¹æ¡ˆå­˜åœ¨çš„é£é™©æ¯”è¾ƒé«˜ï¼Œæ‰€ä»¥æˆ‘æ²¡æœ‰é‡‡çº³ã€‚</p><h4><span id="çº¿ä¸‹å’¨è¯¢å¾‹å¸ˆ-b">çº¿ä¸‹å’¨è¯¢å¾‹å¸ˆ B</span></h4><p>åœ¨å¾‹å¸ˆæœ‹å‹çš„ä»‹ç»ä¸‹ï¼Œæˆ‘è”ç³»ä¸Šäº†ä¸€ä½ä¸»è¦ä»£ç†åŠ³åŠ¨äº‰è®®æ¡ˆä»¶çš„å¾‹å¸ˆï¼Œå¾‹æ‰€ç¦»æˆ‘ä¹Ÿä¸ç®—è¿œï¼Œçº¦äº†æ—¶é—´çº¿ä¸‹é¢è°ˆã€‚è¿™æ¬¡æ”¶è·è›®å¤§çš„ï¼Œä¹‹å‰æ‹…å¿ƒçš„é—®é¢˜åŸºæœ¬éƒ½å¾—åˆ°äº†è§£å†³ï¼Œå¿ƒé‡Œä¹Ÿæ›´è¸å®äº†ï¼Œåªä¸è¿‡æˆ‘çš„æƒ…å†µæ¯”è¾ƒè¢«åŠ¨ï¼Œéœ€è¦çœ‹å…¬å¸ä¸‹ä¸€æ­¥çš„åŠ¨ä½œã€‚</p><h4><span id="çº¿ä¸‹å’¨è¯¢å¾‹å¸ˆ-c">çº¿ä¸‹å’¨è¯¢å¾‹å¸ˆ C</span></h4><p>å¾‹å¸ˆ C æ˜¯åŒäº‹æ¨èï¼Œå¯¹äºåŠ³åŠ¨ä»²è£æ¡ˆä»¶çš„ç»éªŒéå¸¸ä¸°å¯Œã€‚ä¹Ÿæ˜¯æˆ‘ç»¼åˆè€ƒé‡åï¼Œé€‰æ‹©äº†å¾‹å¸ˆ C å§”æ‰˜ä»£ç†æˆ‘çš„ä¸€å®¡æ¡ˆå­ã€‚</p><p>å…³äºå¾‹å¸ˆå’¨è¯¢è´¹ã€‚åŒ—äº¬è¿™è¾¹ 200 - 3000 å…ƒ / å°æ—¶ä¸ç­‰ï¼Œæˆ‘åœ¨çº¿ä¸‹å’¨è¯¢å¾‹å¸ˆ B ä¸¤æ¬¡ï¼Œæ¯æ¬¡éƒ½æ˜¯ 500 å…ƒ / å°æ—¶ã€‚</p><p>å…³äºå¾‹å¸ˆä»£ç†è´¹ã€‚æ ¹æ®æ¡ˆå­æ ‡çš„é¢çš„ç™¾åˆ†æ¯”æ”¶å–ï¼Œä¸åŒå®¡åˆ¤é˜¶æ®µï¼ˆä»²è£ã€ä¸€å®¡ã€äºŒå®¡ï¼‰ï¼Œè´¹ç”¨ä¹Ÿä¸åŒã€‚</p><h2><span id="å°‘èµ°å¼¯è·¯å‡†å¤‡è¯æ®å’Œå½•éŸ³æŠ€å·§">å°‘èµ°å¼¯è·¯ï¼šå‡†å¤‡è¯æ®å’Œå½•éŸ³æŠ€å·§</span></h2><h3><span id="å‡†å¤‡è¯æ®">å‡†å¤‡è¯æ®</span></h3><h4><span id="ä¸€é”®ä¸‹è½½ä»²è£æ‰€éœ€çš„å…¨éƒ¨ææ–™">ä¸€é”®ä¸‹è½½ä»²è£æ‰€éœ€çš„å…¨éƒ¨ææ–™</span></h4><p>åŒ…å«åŠ³åŠ¨ä»²è£ç«‹æ¡ˆç”³è¯·ã€è¯æ®äº¤æ¢ã€å‡ºåº­ä½¿ç”¨çš„ææ–™æ¨¡æ¿ï¼Œå¯ä»¥é€šè¿‡<a href="http://www.bjchy.gov.cn/affair/ldwq/tjzc/8a24fe9767393e2d01673f3dbdc70a21.html" target="_blank" rel="noopener">åŒ—äº¬å¸‚æœé˜³åŒºäººæ°‘æ”¿åºœå®˜ç½‘</a>é¡µé¢åº•éƒ¨çš„ã€Œç‚¹å‡»æ­¤å¤„ä¸‹è½½ç›¸å…³é™„ä»¶ã€è·å–ã€‚æ–‡æ¡£ä¸­è¿˜æœ‰ç›¸å…³åŠç†æµç¨‹ã€æ³¨æ„äº‹é¡¹ï¼Œå†…å®¹éå¸¸å…¨é¢ï¼Œå¯ä»¥ä»”ç»†æŸ¥é˜…ã€‚</p><p><img src="https://img.hi-linux.com/staticfile/1-20240304145805703-2024-03-04-nYvF2T.png" alt></p><h4><span id="è‡ªåŠ©æ‰“å°é“¶è¡Œå·¥èµ„æµæ°´å‡­è¯">è‡ªåŠ©æ‰“å°é“¶è¡Œå·¥èµ„æµæ°´å‡­è¯</span></h4><p><strong>æœ¬äººå¸¦ä¸Šèº«ä»½è¯åŸä»¶ç›´æ¥å»é™„è¿‘é“¶è¡Œè¥ä¸šå…çš„è‡ªåŠ©æœºä¸Šæ‰“å°</strong>ï¼Œå¯è‡ªè¡Œåœ¨æœºå™¨ä¸Šæ“ä½œï¼Œçœå»æ‹¿å·æ’é˜Ÿå»çª—å£çš„è¿‡ç¨‹ï¼Œåœ¨ä½¿ç”¨é“¶è¡Œè‡ªåŠ©æœºçš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä»»ä½•é—®é¢˜éƒ½å¯ä»¥æ‰¾èº«è¾¹çš„é“¶è¡Œç»ç†å¸®å¿™è§£å†³ï¼Œéå¸¸é«˜æ•ˆã€‚<strong>å»ºè®®åœ¨æ‰“å°å‰äº†è§£ç›¸å…³è´¹ç”¨æ ‡å‡†å¹¶åšå¥½å‡†å¤‡</strong>ï¼Œæœ‰çš„é“¶è¡Œä¼šé™åˆ¶æ¯æœˆå…è´¹æ‰“å°æ¬¡æ•°ï¼Œè¶…è¿‡åˆ™æŒ‰å¼ æ”¶å–è´¹ç”¨ã€‚æˆ‘çš„å·¥èµ„æ˜¯ç”±å…¬å¸é€šè¿‡ 3 å®¶é“¶è¡Œï¼ˆåŒ—äº¬ã€äº¤é€šã€æ‹›å•†ï¼‰å‘æ”¾ï¼Œæ‰€ä»¥æˆ‘éœ€è¦å» 3 å®¶é“¶è¡Œåˆ†åˆ«æ‰“å°æµæ°´ï¼ŒåŒ—äº¬é“¶è¡Œå’Œäº¤é€šé“¶è¡Œçš„è‡ªåŠ©æœºæ²¡æœ‰å¯¹æµæ°´å•è®¾ç«‹æ‰“å°é™åˆ¶ï¼Œä½†æ‹›å•†é“¶è¡Œçš„æ‰“å°é™åˆ¶æˆ‘è®°å¾—æ˜¯ 4 å¼  / æœˆï¼Œè¶…è¿‡æŒ‰ 20 å…ƒ / å¼ æ”¶è´¹ã€‚</p><p>åœ¨é“¶è¡Œè‡ªåŠ©æœºæ“ä½œæ—¶ï¼Œæˆ‘æ€»ç»“äº† 3 ä¸ªé‡ç‚¹ï¼šé€‰æ‹©æ—¶é—´èŒƒå›´ã€ç­›é€‰äº¤æ˜“ç±»å‹ã€åŒ…å«é“¶è¡Œç›–ç« ã€‚</p><p><strong>é€‰æ‹©æ—¶é—´èŒƒå›´</strong>ï¼šä¾æ®åŠ³åŠ¨äº‰è®®æ¶‰åŠçš„æ—¶é—´æ¥é€‰æ‹©æµæ°´æ‰“å°èŒƒå›´ï¼Œéœ€æŒ‰å¹´é€‰æ‹©ï¼Œä¸å¯è·¨å¹´ã€‚</p><p><strong>ç­›é€‰äº¤æ˜“ç±»å‹</strong>ï¼šè¦åœ¨ç­›é€‰æ å‹¾é€‰äº¤æ˜“ç±»å‹ï¼ˆå·¥èµ„ï¼‰ï¼ŒæŒ‡å®šç­›é€‰æ¡ä»¶çš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿è‡ªå·±å’Œä»–äººåœ¨æŸ¥çœ‹é“¶è¡Œæµæ°´å•æ—¶ï¼Œè®©å·¥èµ„å‘æ”¾æƒ…å†µä¸€ç›®äº†ç„¶ï¼Œæˆ‘ä»¬åªéœ€è¦å·¥èµ„æµæ°´çš„ç›¸å…³è¯æ˜ï¼Œä¸éœ€è¦å…¶ä»–äº¤æ˜“è®°å½•ã€‚</p><p><strong>åŒ…å«é“¶è¡Œå…¬ç« </strong>ï¼šé“¶è¡Œè‡ªåŠ©æœºæ‰“å°çš„å·¥èµ„æ˜ç»†ä¸€èˆ¬é»˜è®¤åŒ…å«å…¬ç« ï¼Œä½†ä¹Ÿæœ‰ä¸ªåˆ«é“¶è¡Œéœ€è¦åœ¨æ‰“å°å‰å‹¾é€‰ç›¸å…³é€‰é¡¹åï¼Œæ‰å¯æ‰“å°å‡ºç›–äº†ç« çš„æµæ°´å•ã€‚å…¬ç« åç§°ä¸€èˆ¬å«ã€Œå›å•ä¸“ç”¨ç« ã€æˆ–ã€Œä¼šè®¡ä¸šåŠ¡ç« ã€ã€‚æ‰“å°å‰åä¸€å®šè¦ç•™æ„æ‰“å°çš„æµæ°´å•æ˜¯å¦åŒ…å«é“¶è¡Œçš„å…¬ç« ï¼Œå¦‚æœæ²¡æœ‰å…¬ç« åˆ™è¯æ®æ— æ•ˆã€‚</p><p><img src="https://img.hi-linux.com/staticfile/1-20240304145849891-2024-03-04-4TsJZE.png" alt></p><p><img src="https://img.hi-linux.com/staticfile/1-20240304145805946-2024-03-04-Opd8Qi.png" alt></p><p>æˆ‘çš„é“¶è¡Œæµæ°´å•ç›–ç« ï¼ˆå·¦ï¼šåŒ—äº¬é“¶è¡Œ ï¼›å³ï¼šäº¤é€šé“¶è¡Œï¼‰</p><h4><span id="åˆ©ç”¨-iphone-å¤‡å¿˜å½•æ‰«æåŠ³åŠ¨åˆåŒå¤å°ä»¶">åˆ©ç”¨ iPhone å¤‡å¿˜å½•æ‰«æã€ŠåŠ³åŠ¨åˆåŒã€‹å¤å°ä»¶</span></h4><p>å› ä¸ºæ‰“å°å‡ºæ¥çš„çº¸å¼ æ˜¯é»‘ç™½æ•ˆæœï¼Œå¦‚æœç›´æ¥ä½¿ç”¨æ‰‹æœºå°†ã€ŠåŠ³åŠ¨åˆåŒã€‹æ‹ç…§ã€ï¼Œä¼šå¯¼è‡´éƒ¨åˆ†ä¿¡æ¯æ¨¡ç³Šä¸æ¸…ï¼Œè¿™é‡Œæœ‰ä¸ªä¾¿æ·å¥½ç”¨çš„å°æŠ€å·§ï¼šåˆ©ç”¨ iPhone å¤‡å¿˜å½•ä¸­çš„ã€Œæ‰«æã€åŠŸèƒ½ï¼Œé€é¡µå°†ã€ŠåŠ³åŠ¨åˆåŒã€‹æ‰«ææˆ PDF æ–‡ä»¶åå†æ‰“å°ï¼ˆç›¸æ¯”ç›´æ¥æ‰“å°æ•ˆæœæ›´æ¸…æ™°ï¼Œç›¸æ¯”å¤å°æ›´çœäº‹ï¼‰ã€‚å¯ä»¥é¿å…å› æäº¤ææ–™ä¸åˆæ ¼å¯¼è‡´è¿”å·¥çš„æƒ…å†µï¼ˆä¸è¦é‡è¹ˆæˆ‘çš„è¦†è¾™ï¼‰ã€‚</p><p><img src="https://img.hi-linux.com/staticfile/1-20240304145806016-2024-03-04-FtagF1.png" alt>iPhone å¤‡å¿˜å½•ä¸­çš„ã€Œæ‰«ææ–‡ç¨¿ã€åŠŸèƒ½</p><h4><span id="æ‰“å·¥äººå¿…å¤‡app-æƒåˆ©å«å£«">æ‰“å·¥äººå¿…å¤‡App â€”â€” æƒåˆ©å«å£«</span></h4><p>è¿™æ˜¯ä¸€æ¬¾ç”±å›½å®¶çŸ¥è¯†äº§æƒå±€æ¨å‡ºï¼Œå…·æœ‰æ³•å¾‹æ•ˆç‡çš„<a href="https://www.tsa.cn/" target="_blank" rel="noopener">ç”µå­å–è¯å·¥å…·</a>ï¼ˆä»…æ”¯æŒ iOSã€Android ï¼‰ï¼Œè¢«æ³•å¾‹å·¥ä½œè€…å¹¿æ³›ä½¿ç”¨ã€‚å¯ç”Ÿæˆä¸å¯ç¯¡æ”¹çš„å¸¦æœ‰æ—¶é—´æˆ³çš„ç”µå­è¯æ®ã€‚å–è¯èŒƒå›´åŒ…å«ï¼šæ‹ç…§ã€å½•åƒã€å½•éŸ³ã€å½•å±ã€ç½‘é¡µã€‚åœ¨ App ä¸­å®åè®¤è¯å°±å¯æ­£å¸¸ä½¿ç”¨ã€‚</p><p>å¦‚æœæœ‰äº›è¯æ®æ¯”è¾ƒé‡è¦ï¼Œå¯ä»¥é€‰æ‹©è¿™ä¸ªå·¥å…·ã€‚ä¾‹å¦‚ï¼šåœ¨å…¬å¸å¯¹æˆ‘çš„åŠå…¬è½¯ä»¶åœç”¨å‰ï¼Œæˆ‘å°±ä½¿ç”¨äº†æƒåˆ©å«å£«çš„å½•å±åŠŸèƒ½ï¼Œå¯¹ç»„ç»‡æ¶æ„ã€ä¸ªäººä¿¡æ¯ç­‰æƒ…å†µè¿›è¡Œäº†è¯æ®å›ºå®šã€‚æ³•å¾‹è§„å®šè°ä¸»å¼ è°ä¸¾è¯çš„åŸåˆ™ï¼Œåœ¨æèµ·ä»²è£æˆ–è¯‰è®¼æ—¶ï¼Œæˆ‘å°±æœ‰äº†é€šè¿‡æƒåˆ©å«å£«ä¿å­˜çš„ç”µå­ç‰ˆåŸºç¡€è¯æ®ã€‚</p><p>æƒåˆ©å«å£«å¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸Šä»£æ›¿ä¼ ç»Ÿçš„å…¬æ­£å–è¯æ–¹å¼ã€‚æ­£ç¡®ä½¿ç”¨æƒåˆ©å«å£«ï¼Œå¯ä»¥åœ¨ä»·æ ¼ä½å»‰çš„åŒæ—¶ï¼Œè®©å–è¯å˜å¾—æ›´å¿«æ·ã€‚ä½†å®ƒç»ˆå½’åªæ˜¯ä¸€ä¸ªå–è¯å·¥å…·ï¼Œè¯æ®çš„çœŸå®æ€§æ²¡é—®é¢˜ï¼Œä½†æ˜¯å¦ä¼šè¢«é‡‡çº³ï¼Œèƒ½å‘æŒ¥å¤šå¤§ä½œç”¨ï¼Œæ˜¯éœ€è¦æ·±åº¦æ€è€ƒçš„é—®é¢˜ã€‚å¦‚æœæ‹¿ä¸å‡†å¯ä»¥åœ¨å¾‹å¸ˆçš„æŒ‡å¯¼ä¸‹ä½¿ç”¨ï¼Œæ¯•ç«Ÿæ¯æ¬¡å–è¯éƒ½éœ€è¦ä»˜è´¹ã€‚</p><p><img src="https://img.hi-linux.com/staticfile/1-20240304145806077-2024-03-04-UkvPbG.png" alt>æƒåˆ©å«å£«å®˜ç½‘</p><h3><span id="å½•éŸ³æŠ€å·§">å½•éŸ³æŠ€å·§</span></h3><ol><li>æ—¶é—´ï¼šå½•éŸ³è¯æ®å®œæ—©ä¸å®œæ™š</li><li>è®¾å¤‡ï¼šæ— è®ºé¢è°ˆä¸å¦ï¼Œè¦å…¨ç¨‹å½•éŸ³ï¼Œèƒ½æ¸…æ™°å¬æ¸…åŒæ–¹è°ˆè¯å†…å®¹çš„è®¾å¤‡çš†å¯ã€‚å¦‚æœæ˜¯ç”µè¯æ²Ÿé€šï¼Œå¹¶ä¸”æ˜¯è‹¹æœæ‰‹æœºï¼Œæ²¡æœ‰é€šè¯å½•éŸ³åŠŸèƒ½ï¼Œå¯ä»¥å‘æœ‹å‹å€Ÿä¸€å°æ‰‹æœºç”¨æ¥å½•éŸ³ã€‚</li><li>æ“ä½œï¼šæ‰‹æœºå¯ä»¥å¼€å¯é£è¡Œæ¨¡å¼ï¼Œé˜²æ­¢çªç„¶æ¥ç”µå¯¼è‡´å½•éŸ³ä¸­æ–­</li></ol><h4><span id="æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹</span></h4><p>å½•éŸ³è¯æ®å¤§å¤šæƒ…å†µéƒ½ä¸èƒ½è¢«ä»²è£åº­é‡‡çº³ï¼Œä¸»è¦åŸå› æ˜¯å½•éŸ³ä¸­çš„è°ˆè¯å†…å®¹ï¼Œç¼ºå°‘é€‚æ ¼ä¸»ä½“ç­‰å…³é”®ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šå…¬å¸æ³•äººå¼ ä¸‰ã€äººåŠ›èµ„æºè´Ÿè´£äººæå››ã€‚å½•éŸ³å±äºé”¦ä¸Šæ·»èŠ±ï¼Œèƒ½æœ‰æ›´å¥½ï¼Œå¦‚æœè·å–ä¸åˆ°æœ‰ç”¨ä¿¡æ¯ä¹Ÿæ²¡æœ‰å…³ç³»ã€‚</p><p>å½•éŸ³çš„ç›®çš„æ˜¯é€šè¿‡è°ˆè¯ï¼Œé—®æ¸…äº‹å®æƒ…å†µï¼Œä¾¿äºè¿›ä¸€æ­¥å›ºå®šè¯æ®ã€‚ä¸èƒ½å¨èƒæå“å¯¹æ–¹ï¼ˆæ€åº¦å‹å¥½ï¼‰ï¼Œå¦åˆ™è¯æ®æ— æ•ˆã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå½•éŸ³è¯æ®çš„ç›®çš„æ˜¯ä¸ºäº†ä½è¯å…¶ä»–å…³è”è¯æ®ï¼Œå½¢æˆè¯æ®é“¾ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨ã€‚</p><p>è°ˆè¯ä¸­ä¸ä»…<strong>é—®é¢˜è¦æ¸…æ™°æ˜ç¡®</strong>ï¼Œè¿˜éœ€è¦åšåˆ°è°ˆè¯äººèº«ä»½æ˜ç¡®ï¼Œå†…å®¹æ¸…æ™°ï¼Œå…·æœ‰å®¢è§‚çœŸå®å’Œè¿è´¯æ€§ã€‚å¯ä»¥å…ˆç†æ¸…æ€è·¯ï¼Œå†å†™æˆä¹¦é¢ææ–™ï¼Œé€šè¯å‰å°è¯•ç»ƒä¹ å‡ éã€‚</p><h4><span id="æäº¤å½•éŸ³">æäº¤å½•éŸ³</span></h4><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½•éŸ³åšä¸ºè¯æ®æ—¶ï¼Œè¦åšä¸¤ä»¶äº‹ï¼šä¸€æ˜¯è¦å°†æœªè¢«å‰ªæ¥æˆ–è€…ä¼ªé€ ï¼Œå†…å®¹æœªè¢«æ”¹å˜ï¼Œæ— ç–‘ç‚¹çš„<strong>å®Œæ•´éŸ³é¢‘æ–‡ä»¶åˆ»å½•æˆå…‰ç›˜</strong>ï¼ŒäºŒæ˜¯è¦å°†å…¨éƒ¨<strong>å¯¹è¯å†…å®¹æ•´ç†æˆæ–‡å­—ç‰ˆä¹¦é¢ææ–™ã€‚</strong></p><p>**å½•éŸ³å†…å®¹æ–‡å­—ç‰ˆï¼š**å»ºè®®å†™æ˜è¿™äº›ä¿¡æ¯ï¼šæ—¶é—´ã€åœ°ç‚¹ã€è®¾å¤‡ã€æ—¶é•¿ã€å½“äº‹äººä¿¡æ¯ï¼ˆæœ¬äººåå­—ã€å…¬å¸è´Ÿè´£äººèŒç§°å’Œåå­—ï¼‰ã€‚æœ€åï¼Œåœ¨ã€Šè¯æ®ç›®å½•ã€‹ä¸­æ ‡è®°å¥½å½•éŸ³æ–‡ä»¶çš„ä½ç½®ï¼Œå°†å½•éŸ³å…‰ç›˜ã€æ–‡å­—ç‰ˆéšå…¶ä»–è¯æ®ä¸€èµ·æäº¤ã€‚</p><p>å¦å¤–ï¼Œå½•éŸ³åŸè§†æ–‡ä»¶å’Œè½½ä½“ï¼ˆå¦‚æ‰‹æœºï¼‰è¦ä¿ç•™å¥½ï¼Œç”¨äºåº­å®¡æ—¶æŸ¥éªŒã€‚</p><h4><span id="æˆ‘çš„å½•éŸ³æ²Ÿé€šæçº²">æˆ‘çš„å½•éŸ³æ²Ÿé€šæçº²</span></h4><ol><li>ç¡®è®¤åŒæ–¹ä¸»ä½“å’Œèº«ä»½</li><li>ç¡®è®¤ç›¸å…³çš„äº‹å®</li><li>å±¥è¡Œå‹å¥½åå•†çš„æ€åº¦ï¼Œæ˜ç¡®æå‡ºè‡ªå·±çš„ä¸»å¼ </li></ol><h4><span id="æˆ‘çš„é€šè¯å‰å½•éŸ³å†…å®¹">æˆ‘çš„é€šè¯å‰å½•éŸ³å†…å®¹</span></h4><ol><li>å¯¹ç€å½•éŸ³è‡ªæˆ‘ä»‹ç»å¹¶é™ˆè¿°äº‹å®ï¼šæˆ‘æ˜¯ xxxï¼Œèº«ä»½è¯å· xxxï¼Œè‡ª x å¹´ x æœˆ x æ—¥åœ¨ x å…¬å¸ï¼Œx éƒ¨é—¨ï¼Œæ‹…ä»» x èŒä½ã€‚<br>x å¹´ x æœˆ x æ—¥èµ·ï¼Œå…¬å¸ xxï¼ˆç®€çŸ­é™ˆè¿°äº‹å®å†…å®¹ï¼‰ï¼Œæˆ‘ç°åœ¨è¦ç»™å…¬å¸äººåŠ›èµ„æºéƒ¨æ€»ç›‘ xx ï¼ˆå…¨åï¼‰æ‹¨æ‰“ç”µè¯ï¼Œåå•†è§£å†³æ–¹æ¡ˆã€‚Ta çš„ç”µè¯æ˜¯ xxxã€‚</li></ol><p><img src="https://img.hi-linux.com/staticfile/1-20240304145904400-2024-03-04-LCFi9Y.jpeg" alt>è¯æ®ææ–™æ¸…å•æ ·è¡¨ï¼ˆ<a href="http://www.bjchy.gov.cn/affair/ldwq/tjzc/8a24fe9767393e2d01673f3dbdc70a21.html" target="_blank" rel="noopener">å›¾æº</a>ï¼šé™„ä»¶ææ–™)</p><h3><span id="å¯»æ±‚å…è´¹çš„æ³•å¾‹æ´åŠ©">å¯»æ±‚å…è´¹çš„æ³•å¾‹æ´åŠ©</span></h3><p>æ³•å¾‹æ´åŠ©æ›´åƒæ˜¯é’ˆå¯¹ã€Œç‰¹æ®Šç¾¤ä½“ã€è®¾ç«‹çš„ä¸“é¡¹æœåŠ¡ï¼Œä¸»è¦æœåŠ¡äºå†œæ°‘å·¥æˆ–å¹´çºªè¾ƒå¤§çš„äººã€‚</p><p>æœé˜³åŠ³åŠ¨ä»²è£å§”å‘˜ä¼šä¹Ÿè®¾ç«‹äº†æ³•å¾‹æ´åŠ©å’¨è¯¢çª—å£ï¼Œåœ¨æœåŠ¡æ€»å°é¢†å·æ’é˜Ÿï¼Œä¸ä»²è£ç«‹æ¡ˆçª—å£åŒåœ¨ä¸€ä¸ªå¤§å…ã€‚æˆ–è®¸æ˜¯æˆ‘çš„æ¡ˆå­å…·æœ‰å¤æ‚æ€§ï¼Œä¹Ÿå¯èƒ½çª—å£çš„å·¥ä½œäººå‘˜å¹¶æ²¡å¤ªå¤šæ—¶é—´å¸®æˆ‘æ·±åº¦åˆ†æï¼Œæˆ‘å°†æ‰‹é‡Œçš„è¯æ®ç»™åˆ°å¯¹æ–¹ï¼Œå°è¯•äº†è§£å¯¹äºæˆ‘è¿™ç§æƒ…å†µçš„æ”¿ç­–å’Œè£åˆ¤å£å¾„ï¼Œä½†æˆ‘å¹¶æœªæ”¶è·åˆ°æœ‰ç”¨çš„ä¿¡æ¯å’ŒæŒ‡å¯¼æ€§å»ºè®®ã€‚</p><p>æ‰€ä»¥ï¼Œå¤§å®¶å¯ä»¥å°è¯•æ€§å»å’¨è¯¢ï¼Œä½†ä¸è¦å¯¹æ³•æ´æŠ±æœ‰å¤ªå¤§æœŸæœ›ã€‚ä¹Ÿä¸è¦è½»ä¿¡ä»²è£å§”é—¨å£ä¸»åŠ¨å‘å¡ç‰‡çš„å¾‹å¸ˆå’¨è¯¢ï¼Œæˆ‘ä»æ²¡è§è¿‡æœ‰æ‰§ä¸šè¯çš„å¾‹å¸ˆéœ€è¦æ½å®¢ï¼Œè¿™äº›å¡ç‰‡ä¸Šçš„å¾‹å¸ˆï¼Œå¾ˆå¯èƒ½å°±ä¸æ˜¯å¾‹å¸ˆï¼Œåæœ‰å…«ä¹ä¸é è°±ï¼Œæœ‰å¾ˆå¤šè¢«äººè¢«éª—ã€‚</p><h3><span id="æˆ‘çš„å®Œæ•´ä»²è£æµç¨‹">æˆ‘çš„å®Œæ•´ä»²è£æµç¨‹</span></h3><p>åœ¨ä»²è£é˜¶æ®µï¼Œæˆ‘é€‰æ‹©çš„æ˜¯è‡ªå·±èµ°å®Œå…¨æµç¨‹ï¼Œå§”æ‰˜å¾‹å¸ˆä»£ç†çš„æ˜¯ä¸€å®¡è¯‰è®¼ã€‚<br>ä¸€æ˜¯å› ä¸ºåŒ—æ¼‚å¤šå¹´ï¼Œæœ‰è¿‡ä»²è£ç»å†ã€‚<br>äºŒæ˜¯å› ä¸ºä¹‹å‰å¤–ç±äºŒæˆ¿ä¸œä¸é€€æŠ¼é‡‘ï¼Œå¹¶å¤§æ”¾å¥è¯å¯ä»¥å»æ³•é™¢å‘Šä»–ã€‚äºæ˜¯æˆ‘å°±å¬äº†ä»–çš„å»ºè®®ï¼Œè‡ªå·±å†™è¯‰çŠ¶å»æ³•é™¢èµ·è¯‰ï¼Œæ‰€ä»¥æœ‰ä¸€äº›æ°‘äº‹è¯‰è®¼çš„ç»éªŒã€‚</p><p>åŠ³åŠ¨ä»²è£çš„ç«‹æ¡ˆã€äº¤æ¢è¯æ®æµç¨‹å’Œæ³•é™¢è¯‰è®¼åœ¨æŸäº›æ–¹é¢æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œã€‚æ‰€ä»¥æˆ‘è§‰å¾—ä»²è£ç›¸æ¯”è¯‰è®¼æ¥è¯´åœ¨å‡†å¤‡å……åˆ†çš„æƒ…å†µä¸‹è¦ç®€å•å¾ˆå¤šï¼Œæˆ‘çš„åŠ³åŠ¨äº‰è®®æ¡ˆå­åå¤æ‚ï¼Œéœ€è¦ç»è¿‡æ³•é™¢å®¡ç†ã€‚</p><p>ä»¥åŒ—äº¬æœé˜³åŒºä¸ºä¾‹ï¼Œå¯ä»¥åœ¨åŒ—äº¬äººç¤¾å±€å®˜ç½‘æå‰é¢„çº¦ï¼Œé¢„çº¦åä¼šçŸ­ä¿¡å‘ŠçŸ¥çº¿ä¸‹æäº¤ç«‹æ¡ˆææ–™çš„æ—¶é—´ã€‚ç–«æƒ…æ—¶å®˜ç½‘é¢„çº¦åéœ€è¦ç­‰ 1 ä¸ªæœˆä»¥ä¸Šï¼Œç°åœ¨è¦ç­‰çš„æ—¶é—´ä¸å¥½è¯´ã€‚</p><p>ä¹Ÿå¯ä»¥é€‰æ‹©å¯ä»¥ç›´æ¥å»çº¿ä¸‹é¢†å·ç«‹æ¡ˆï¼ˆæ›´æ¨èè¿™ç§æ–¹å¼ï¼Œæ›´é«˜æ•ˆï¼‰ã€‚å»ºè®®å‡†å¤‡å¥½ææ–™ï¼Œåœ¨ 8 ç‚¹å‰åˆ°é—¨å£æ’é˜Ÿï¼Œ 10ç‚¹å‰æ‹¿åˆ°å·ã€‚å¦åˆ™å¯èƒ½ä¼šç”±äºäººå¤šæ— æ³•å½“å¤©ç«‹æ¡ˆã€‚æˆ‘åœ¨<strong>ç–«æƒ…æ—¶å’Œç–«æƒ…å</strong>åˆ†åˆ«æˆåŠŸç«‹æ¡ˆ 2 æ¬¡ï¼Œæ˜¯é’ˆå¯¹åŠ³åŠ¨äº‰è®®ä¸­çš„ä¸åŒæ—¶é—´æ®µçš„ä»²è£è¯·æ±‚ã€‚ç°åœ¨ç–«æƒ…å·²ç»è¿‡å»ï¼Œæµç¨‹ä¹Ÿç®€åŒ–äº†ä¸å°‘ï¼Œç›¸å¯¹æ¥è¯´æ›´çœäº‹å„¿äº†ã€‚</p><h4><span id="ä»²è£åœ°ç‚¹">ä»²è£åœ°ç‚¹</span></h4><p>åŒ—äº¬å¸‚æœé˜³åŒºåŠ³åŠ¨äººäº‹äº‰è®®ä»²è£é™¢<br>ç”µ è¯ï¼š010-87983310<br>åœ° å€ï¼šåŒ—äº¬å¸‚æœé˜³åŒºå°†å°è·¯5å·é™¢15å·æ¥¼Båº§ã€Cåº§</p><h4><span id="å‡†å¤‡ææ–™">å‡†å¤‡ææ–™</span></h4><ul><li>èº«ä»½è¯åŸä»¶</li><li>èº«ä»½è¯å¤å°ä»¶ x 3</li><li>ç”³è¯·ä¹¦ x 3</li><li>åœ°å€ç¡®è®¤ä¹¦ x 1</li></ul><p>å»ºè®®æ£€æŸ¥å¥½ç›¸å…³ææ–™ï¼Œå¹¶å°†ç”µå­ç‰ˆå¤‡ä»½åˆ° U ç›˜ï¼Œæœ€å¥½æ˜¯å¸¦ä¸Šç¬”è®°æœ¬ç”µè„‘ï¼Œè‹¥ä¹¦é¢ææ–™ä¸ç¬¦åˆç«‹æ¡ˆçª—å£è¦æ±‚ï¼Œå¯ä»¥å³æ—¶ç”¨è‡ªå·±ç”µè„‘ä¿®æ”¹ï¼Œè‹¥æœ‰æ¼æ‰“ææ–™ï¼Œä¹Ÿå¯åœ¨æœåŠ¡å°æ—è¾¹çš„æ‰“å°åŒºä»˜è´¹æ‰“å°ã€‚</p><h4><span id="ç«‹æ¡ˆæµç¨‹">ç«‹æ¡ˆæµç¨‹</span></h4><ol><li>å»æ€»æœåŠ¡å°é¢†å–åœ°å€ç¡®è®¤ä¹¦å¡«å¥½ï¼Œé¢†å–åˆå®¡å·ç ï¼ˆå¯ä»¥æå‰æ‰“å°å¥½ï¼Œç›´æ¥é¢†A å¼€å¤´åˆå®¡å·ç ï¼‰</li><li>åˆå®¡åæ”¶åˆ° B å¼€å¤´ç«‹æ¡ˆå·ç ï¼Œç­‰å¾…å«å·ã€‚</li><li>ç«‹æ¡ˆçª—å£å·¥ä½œäººå‘˜å¯èƒ½ä¼šè®©å¡«ä¸€ä¸ªåŠ³åŠ¨è°ƒè§£è¡¨ã€‚ï¼ˆè¿™æ­¥å¯ä»¥ç›´æ¥æ”¾å¼ƒè°ƒè§£ï¼Œç›´æ¥èµ°ç¨‹åºçœæ—¶é—´ï¼Œå› ä¸ºå¼€åº­å‰ä»²è£å‘˜è¿˜ä¼šå†æ¬¡è°ƒè§£ï¼‰</li></ol><h4><span id="å®Œæˆç«‹æ¡ˆ">å®Œæˆç«‹æ¡ˆ</span></h4><p>æˆåŠŸç«‹æ¡ˆåï¼Œçª—å£ä¼šç°åœºå‡ºå…·ä¸¾è¯é€šçŸ¥ç­‰ä¹¦é¢ææ–™ï¼Œç«‹æ¡ˆåæœ‰ 30 å¤©çš„è°ƒè§£æ—¶é—´ï¼ŒæœŸé—´ä¼šæœ‰å·¥ä½œäººå‘˜æ‰“ç”µè¯ç»™å½“äº‹äººï¼ˆå…¬å¸ã€åŠ³åŠ¨è€…ï¼‰åŒæ–¹ï¼Œè¯¢é—®æ˜¯å¦åŒæ„è°ƒè§£ã€‚æ¥ä¸‹æ¥ä¼šæ”¶åˆ°æœé˜³ä»²è£å§”å…³äºäº¤æ¢è¯æ®çš„é€šçŸ¥é‚®ä»¶ï¼Œä»¥åŠçŸ­ä¿¡æé†’ã€‚</p><h4><span id="äº¤æ¢è¯æ®">äº¤æ¢è¯æ®</span></h4><p>éœ€è¦æ³¨æ„ï¼Œè‡ªå·±å’Œå…¬å¸æ–¹çš„äº¤æ¢æ—¶é—´æ˜¯ä¸€æ ·çš„ï¼ŒåŠ¡å¿…è¦æŒ‰ç…§è§„å®šæ—¶é—´å†…åˆ°è¾¾æŒ‡å®šçª—å£ï¼ŒåŠç†ä¸¾è¯åŠè¯æ®äº¤æ¢ï¼Œå¿…é¡»æ˜¯æœ¬äººï¼Œå¦åˆ™è¿‡æ—¶ä¸å€™ã€‚æäº¤å®Œæˆå¹¶ç­¾å­—ç¡®è®¤åå°±å¯ä»¥ç¦»åœºäº†ï¼Œå¦‚æœåœ¨ç°åœºé‡åˆ°å…¬å¸çš„äººä¹Ÿå¿…ç†ä¼šã€‚</p><h4><span id="ç­‰å¾…åº­å®¡">ç­‰å¾…åº­å®¡</span></h4><p>æ¥ä¸‹æ¥ï¼Œç­‰å¾…å¼€åº­é€šçŸ¥å°±å¥½ã€‚å¼€åº­æ—¶è¦æºå¸¦èº«ä»½è¯åŸä»¶ã€è¯æ®åŸä»¶ã€‚éœ€è¦æ³¨æ„å¼€åº­æ—¶é—´ï¼Œ **å¦‚æœå¼€åº­å½“å¤©æœ¬äººè¿Ÿåˆ°ï¼Œä¼šè¢«è§†ä¸ºæ’¤è¯‰ã€‚**ä»²è£å¼€åº­ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œä¸ä¼šæ³•é™¢å®¡ç†æ¡ˆä»¶é‚£æ ·ç»†è‡´ã€‚ä¸»è¦æ˜¯ä»²è£å‘˜é€šè¿‡é—®è¯¢åŒæ–¹å½“äº‹äººï¼Œå½•å…¥åŒæ–¹ç¡®è®¤çš„ä¸€äº›ä¿¡æ¯ï¼Œå¦‚äº‰è®®æ—¶é—´ã€è´¨è¯ç†ç”±ã€ç¤¾ä¿çŠ¶æ€ã€è–ªèµ„æƒ…å†µç­‰ã€‚<br>ä»²è£æ¡ˆä»¶éƒ½æ˜¯éšæœºåˆ†åˆ«ä»²è£å‘˜ï¼Œæˆ‘æ˜¯2022 å¹´åº•ç«‹æ¡ˆï¼Œ 2023 å¹´åˆå¼€åº­ï¼Œç›´åˆ° 2023 å¹´ 10 æœˆæ‰æ”¶åˆ°è£å†³ä¹¦ã€‚å¤§å®¶å¯ä»¥å¤šè”ç³»è‡ªå·±æ¡ˆä»¶çš„ä»²è£å‘˜ï¼Œå‚¬é—®è¿›åº¦ã€‚</p><h4><span id="ä»²è£ç»“æœ">ä»²è£ç»“æœ</span></h4><p>èº«è¾¹æ€»æœ‰æœ‹å‹è®¤ä¸ºï¼Œæ”¶åˆ°çš„åŠ³åŠ¨ä»²è£è£å†³ä¹¦ä¸Šæ”¯æŒäº†ç›¸å…³è¯·æ±‚äº‹é¡¹ï¼Œå°±æ˜¯èƒœåˆ©çš„ä¿¡å·ï¼Œä½†ä»²è£æ˜¯ä»¥è°ƒè§£ä¸ºä¸»ï¼Œå¹¶ä¸èƒ½æœ€å¤§é™åº¦ç»´æŠ¤åŠ³åŠ¨è€…è‡ªèº«æƒç›Šã€‚ä¾‹å¦‚ï¼šæ³•å¾‹è§„å®šåå•†è§£é™¤åŠ³åŠ¨åˆåŒçš„æœ€ä½æ ‡å‡†æ˜¯ N ï¼Œå‡è®¾ N æ˜¯ 10 ä¸ªæœˆï¼Œä»²è£å‘˜ä¼šå’Œå…¬å¸ã€åŠ³åŠ¨è€…åˆ†åˆ«åå•†ï¼Œè®¨ä»·è¿˜ä»·åï¼Œæœ€ç»ˆ N å¯èƒ½æ˜¯ 6 æˆ–è€… 4ï¼Œç”šè‡³æ›´ä½ï¼Œçœ‹ä¼¼å‡å°‘äº†åŠ³åŠ¨è€…ç»´æƒçš„æ—¶é—´æˆæœ¬ï¼Œå®é™…æœ€å¤§å—ç›Šè€…å´æ˜¯å…¬å¸ä¸€æ–¹ï¼Œå…¬å¸è¯•å›¾ç”¨è¿œä½äºæ³•å¾‹è§„å®šçš„æ ‡å‡†ï¼Œå¸¦æœ‰æ¶æ„æ€§ã€é’ˆå¯¹æ€§ã€ä¾®è¾±æ€§çš„æ‰‹æ®µï¼Œä½æˆæœ¬å®ç°è£å‘˜ç›®çš„ã€‚</p><p>æ‰€ä»¥åŠ³åŠ¨ä»²è£å¯¹åŠ³åŠ¨è€…æ¥è¯´åªæ˜¯ç»´æƒä¹‹è·¯çš„èµ·ç‚¹ï¼Œè¿˜è¦ç»å†ä¸€å®¡è¯‰è®¼ã€äºŒå®¡è¯‰è®¼ï¼Œå³ä½¿æœ€ç»ˆèµ¢äº†å®˜å¸ï¼Œè¿˜å¯èƒ½é¢ä¸´å‘æ³•é™¢ç”³è¯·å¼ºåˆ¶æ‰§è¡Œçš„æƒ…å†µã€‚</p><h2><span id="å†™åœ¨æœ€å">å†™åœ¨æœ€å</span></h2><p>é‡è§è¿‡ä¸€äº› HR ï¼Œåƒæ–¹ç™¾è®¡åœ°å­¦ä¹ è£å‘˜å¥—è·¯å’Œè¯æœ¯ã€‚ä¸€ä¸ªå‘˜å·¥ä¸ºä¼ä¸šæœåŠ¡è¿™ä¹ˆå¤šå¹´ï¼Œéä½†ä¸æ„Ÿè°¢å‘˜å·¥å¤šå¹´çš„è¾›è‹¦ä»˜å‡ºï¼Œåè€Œä¸ºäº†è¾¾æˆè£å‘˜ç›®çš„ææ‰‹æ®µï¼Œæ‰£å¸½å­ã€‚æƒ³æ³•è®¾æ³•å‹æ¦¨å‰¥å‰Šæ‰“å·¥äººï¼Œå‘˜å·¥ä¸å’Œä½ æ­»ç£•è·Ÿè°ç£•ï¼Ÿå‘˜å·¥å°±æ˜¯ä¸€ä¸ªä¸ªæ™®æ™®é€šé€šçš„äººï¼Œä¸æ­¢çœ‹é‡é’±ï¼Œè¿˜å¾ˆåœ¨ä¹ä½ æ€ä¹ˆå¯¹ä»–ã€‚</p><p>è¿™ä¸ªä¸–ç•Œå¾ˆå¥‡å¦™ã€‚ä»£ç†æˆ‘æ¡ˆå­çš„å¾‹å¸ˆæœ€è¿‘å°±é‡è§äº†ä¸€ä¸ªç¦»è°±æ¡ˆä»¶ï¼Œå°†è¿™ä¸ªçœŸå®æ¡ˆä¾‹ç”¨ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯ï¼šèŒåœºå½“ä¸­å¥—è·¯è™½å¤šï¼Œä½†æ¶‰åŠåº•çº¿çš„ä¸œè¥¿å¹¶ä¸é€‚ç”¨äºå¥—è·¯ã€‚è°ä¹Ÿè¯´ä¸å‡†ï¼Œåé¢è¢«æå¿ƒæ€ä»¥åŠè¢«è£çš„ï¼Œä¼šä¸ä¼šæ˜¯è‡ªå·±ã€‚</p><blockquote><p>æœ¬æ–‡è½¬è½½è‡ªï¼šã€Œ å°‘æ•°æ´¾ ã€ï¼ŒåŸæ–‡ï¼š<a href="https://url.hi-linux.com/jpw6C" target="_blank" rel="noopener">https://url.hi-linux.com/jpw6C</a> ï¼Œç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚æ¬¢è¿æŠ•ç¨¿ï¼ŒæŠ•ç¨¿é‚®ç®±: <a href="mailto:editor@hi-linux.com">editor@hi-linux.com</a>ã€‚</p></blockquote></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "10135-1588830050631-449",        "name": "ã€Œå¥‡å¦™çš„ Linux ä¸–ç•Œã€",        "qrcode": "https://www.hi-linux.com/img/wechat/mp_qrcode_12.jpg",        "keyword": "VIP"    });}</script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å°è¯•å†™ä¸ªäººå¹´åº¦æ€»ç»“ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘çš„ 2023 å¹´ä¸ 2022 å¹´ä¸å¯åˆ†å‰²ï¼Œä¸€ç›´èµ°åœ¨ç»´æƒçš„è·¯ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;æ—©åœ¨ 2022 å¹´åˆï¼Œæˆ‘çš„èŒä¸šç”Ÿæ¶¯å‘ç”Ÿé‡å¤§è½¬å˜ï¼Œå…¬å¸åœ¨æœªä¸æˆ‘åå•†çš„æƒ…å†µä¸‹ï¼Œå•æ–¹é¢å°†æˆ‘å¾…å²—ï¼Œé™ä½å·¥èµ„ï¼Œç§»äº¤å·¥ä½œã€‚æˆ‘ä»ç†Ÿæ‚‰çš„å·¥ä½œç¯å¢ƒè¢«è¿«æˆä¸ºäº†ä¸€ä¸ªã€ŒåŠè‡ªç”±èŒä¸šè€…ã€ã€‚æˆ‘ä¹‹æ‰€ä»¥è‡ªè®¤ä¸ºæ˜¯åŠè‡ªç”±ï¼Œæ˜¯å› ä¸ºå…¬å¸æœªä¸æˆ‘è§£é™¤åŠ³åŠ¨åˆåŒï¼Œæ‰€ä»¥åŠ³åŠ¨å…³ç³»è¿˜åœ¨åŸå…¬å¸ã€‚æ³•å¾‹è§„å®šåŠ³åŠ¨è€…åªèƒ½å’Œä¸€å®¶ç”¨äººå•ä½ç­¾è®¢åŠ³åŠ¨åˆåŒï¼Œæ‰€ä»¥æˆ‘åœ¨ä¸å…¬å¸å­˜åœ¨åŠ³åŠ¨äº‰è®®çš„æƒ…å†µä¸‹ï¼Œæ— æ³•å…¥èŒä¸‹å®¶å…¬å¸ã€‚&lt;/p&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œå…¬å¸éš”å‡ ä¸ªæœˆååœå‘æˆ‘çš„å·¥èµ„ï¼Œåˆ‡æ–­äº†æˆ‘å”¯ä¸€çš„ç»æµæ¥æºã€‚æˆ‘å¼€å§‹å°è¯•å­¦ä¹ ã€ŠåŠ³åŠ¨æ³•ã€‹åŠç›¸å…³æ³•å¾‹çŸ¥è¯†ï¼ŒæŸ¥é˜…å’Œè‡ªå·±æ¡ˆä»¶ç±»ä¼¼çš„è£åˆ¤æ–‡ä¹¦ï¼Œæ•´ç†ä¹¦é¢ææ–™ï¼Œä¸ºçš„æ˜¯è·Ÿå…¬å¸å¯¹ç°¿å…¬å ‚ï¼Œè®¨å›åšä¸ºåŠ³åŠ¨è€…çš„å°Šä¸¥å’Œæƒç›Šã€‚&lt;/p&gt;
&lt;p&gt;åœ¨åŠ³èµ„å…³ç³»ä¸­ï¼Œå…¬å¸å…·æœ‰ä¼˜åŠ¿åœ°ä½ï¼Œè€ŒåŠ³åŠ¨è€…å¤„äºå¼±åŠ¿çš„ä¸€æ–¹ã€‚å°¤å…¶æ˜¯é¢å¯¹è€æ¿ã€äººäº‹ã€æ³•åŠ¡ç»„æˆçš„æµæ°“å›¢ä¼™æ—¶ï¼Œä¼šæ›´åŠ è¢«åŠ¨ã€æ„¤æ€’ã€è¿·èŒ«ã€æ— åŠ©ã€‚å¸Œæœ›å¤§å®¶åœ¨é¢å¯¹å…¬å¸çš„æ¶æ„æ—¶å¯ä»¥æ›´åŠ ä»å®¹ï¼Œæ˜¯æˆ‘å†™ä¸‹è¿™äº›æ–‡å­—çš„åˆè¡·ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/categories/Linux/"/>
    
    
      <category term="æŠ€å·§" scheme="https://www.hi-linux.com/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="æ•™ç¨‹" scheme="https://www.hi-linux.com/tags/%E6%95%99%E7%A8%8B/"/>
    
      <category term="èŒåœº" scheme="https://www.hi-linux.com/tags/%E8%81%8C%E5%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title>ç®€å•ä¸€æ‹›ï¼Œè½»æ¾æŠŠ Nginx æœåŠ¡å™¨æ€§èƒ½æå‡ 50 å€</title>
    <link href="https://www.hi-linux.com/posts/52460.html"/>
    <id>https://www.hi-linux.com/posts/52460.html</id>
    <published>2024-02-05T01:00:00.000Z</published>
    <updated>2024-02-05T08:27:29.121Z</updated>
    
    <content type="html"><![CDATA[<div id="vip-container"><h2><span id="ç”¨-nginx-gzip-è¿›è¡Œé™æ€åŠ é€Ÿ">ç”¨ Nginx Gzip è¿›è¡Œé™æ€åŠ é€Ÿ</span></h2><p>è¿™ç»å¯¹æ˜¯ä½ åº”è¯¥åšçš„äº‹æƒ…ã€‚<br>å¹¶ä¸æ˜¯ç‰¹åˆ«éº»çƒ¦ï¼Œè€Œä¸”æ•ˆæœä¹Ÿå¾ˆçªå‡ºã€‚</p><p>è¿™é‡Œè§£é‡Šäº† <a href="https://nginx.p2hp.com/" target="_blank" rel="noopener">Nginx</a> ä¸­çš„ gzip_staticã€‚</p><h3><span id="1ä¸ä½¿ç”¨-gzip-static-æ—¶çš„-gzip-å¤„ç†">1.ä¸ä½¿ç”¨ gzip static æ—¶çš„ gzip å¤„ç†</span></h3><p><img src="https://img.hi-linux.com/staticfile/N56H1Z-2024-02-05-yyBwlC.png" alt="Nginx ä¸ä½¿ç”¨ gzip_static æ—¶ gzip å¤„ç†çš„è¯´æ˜"></p><p><strong>å¦‚æœä½ ä¸ä½¿ç”¨ gzip_static è€Œåªæ˜¯ â€œgzip onâ€ï¼Œå®ƒæ¯æ¬¡éƒ½ä¼šè¢«å‹ç¼©å¹¶å‘é€ã€‚</strong></p><p>è™½ç„¶å®ƒå®é™…ä¸Šå¯èƒ½ç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œä½†ä¼ ç»Ÿè§‚ç‚¹æ˜¯ â€œæ¯æ¬¡éƒ½ä¼šæ‰§è¡Œå‹ç¼©å¤„ç†ï¼Œå› æ­¤ CPU è´Ÿè½½å¾ˆå¤§ã€‚â€</p><p>å› æ­¤ï¼Œæˆ‘æ¯æ¬¡éƒ½æƒ³åœæ­¢å¤„ç†å®ƒã€‚</p><p>â€œgzip_staticâ€ å¯ä»¥å®ç°è¿™ä¸€ç‚¹ã€‚</p><a id="more"></a><h3><span id="2ä½¿ç”¨-gzip-static-æ—¶çš„-gzip-å¤„ç†">2.ä½¿ç”¨ gzip static æ—¶çš„ gzip å¤„ç†</span></h3><p><img src="https://img.hi-linux.com/staticfile/g3KBwu-2024-02-05-TfefNK.png" alt="Nginx ä¸­å¼€å¯ gzip_static æ—¶ gzip å¤„ç†çš„è¯´æ˜"></p><p><strong>å®ƒå°†æœç´¢ â€œgzâ€ æ–‡ä»¶å¹¶ä¸ºæ‚¨ä½¿ç”¨ï¼</strong></p><p>å¦‚æœæ˜¯ â€œstyle.cssâ€ï¼Œå®ƒå°†è‡ªåŠ¨æœç´¢æ–‡ä»¶ â€œstyle.css.gzâ€ã€‚<br>å¦‚æœæ‰¾åˆ°ï¼Œåˆ™è¿”å›å®ƒï¼›å¦‚æœæ²¡æœ‰ï¼Œåˆ™ç…§å¸¸å‹ç¼© â€œstyle.cssâ€ã€‚<br>å› æ­¤ï¼Œå¦‚æœæå‰åˆ›å»ºå‹ç¼©æ–‡ä»¶ï¼Œå°±ä¸ä¼šäº§ç”Ÿ CPU è´Ÿè½½ï¼Œå¤„ç†é€Ÿåº¦ä¹Ÿä¼šæ›´å¿«ã€‚</p><p>æ›´å¥½çš„æ˜¯å‹ç¼©çº§åˆ«ã€‚</p><h3><span id="3ä½¿ç”¨-gzip-static-çš„ä¼˜ç‚¹">3.ä½¿ç”¨ gzip static çš„ä¼˜ç‚¹</span></h3><p><img src="https://img.hi-linux.com/staticfile/WXg4zd-2024-02-05-j5SCrt.png" alt="å°† gzip_static ä¸ Nginx ä¸€èµ·ä½¿ç”¨çš„æœ€å¤§ä¼˜ç‚¹æ˜¯å¯ä»¥å°†å‹ç¼©çº§åˆ«è®¾ç½®ä¸º 9ã€‚"></p><p><strong>å®ƒå¯ä»¥ä»¥æœ€å¤§å‹ç¼©ç‡ä¿å­˜ã€‚</strong></p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸å¯èƒ½ä½¿ç”¨æœ€é«˜å‹ç¼©è®¾ç½®ï¼Œå› ä¸ºå®ƒä¼šç»™ CPU å¸¦æ¥æ²‰é‡çš„è´Ÿè½½ï¼Œä½†<br>ç”±äºä½ å¯ä»¥æå‰æ…¢æ…¢åˆ›å»ºå®ƒï¼Œæ‰€ä»¥æˆ‘é€šå¸¸å°†å…¶ä¿å­˜åœ¨æœ€é«˜å‹ç¼©çº§åˆ«ï¼ˆçº§åˆ«9ï¼‰ã€‚<br>æ–‡ä»¶å¤§å°è‚¯å®šä¼šå‡å°ã€‚</p><h3><span id="4-éœ€è¦ä¸€ä¸ªæ¨¡å—æ‰èƒ½åœ¨-nginx-ä¸­ä½¿ç”¨-gzip-static">4. éœ€è¦ä¸€ä¸ªæ¨¡å—æ‰èƒ½åœ¨ Nginx ä¸­ä½¿ç”¨ gzip static</span></h3><p><strong>ngx_http_gzip_static_module æ˜¯å¿…éœ€çš„ã€‚</strong></p><p>è¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥æ˜¯å¦å·²å®‰è£…ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -V 2&gt;&amp;1 | tr <span class="string">' '</span> <span class="string">'n'</span>|egrep _module | sed -e <span class="string">'s/--with-//g'</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæœªå®‰è£…ï¼Œç³»ç»Ÿä¼šè¦æ±‚æ‚¨é‡æ–°å®‰è£… Nginxï¼ˆå¯èƒ½ï¼‰ã€‚<br>æ‚¨å¿…é¡»ä½¿ç”¨ â€œâ€“with-http_gzip_static_moduleâ€ å®‰è£…å®ƒã€‚<br>ä½†æ˜¯ï¼Œå½“æˆ‘ä»å­˜å‚¨åº“å®‰è£…æ—¶ï¼Œæ‰€æœ‰å†…å®¹éƒ½å·²åŒ…å«åœ¨å†…ï¼Œè€Œæ— éœ€æ‰§è¡Œä»»ä½•æ“ä½œã€‚</p><p>è¯·å…ˆæ£€æŸ¥ä¸€ä¸‹ã€‚</p><h3><span id="5å¦‚ä½•åœ¨-nginx-ä¸Šé…ç½®-gzip-é™æ€">5.å¦‚ä½•åœ¨ Nginx ä¸Šé…ç½® gzip é™æ€</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">gzip_static on;</span><br><span class="line">gzip on;</span><br><span class="line">gzip_comp_level 1;</span><br><span class="line">gzip_min_length 1024;</span><br><span class="line">gzip_vary on;</span><br><span class="line">gzip_proxied any;</span><br><span class="line">gzip_types text&#x2F;plain text&#x2F;css text&#x2F;javascript application&#x2F;javascript application&#x2F;x-javascript application&#x2F;json application&#x2F;ld json text&#x2F;xml application&#x2F;xml application&#x2F;xhtml xml application&#x2F;atom xml application&#x2F;xml rss application&#x2F;rss xml image&#x2F;x-icon image&#x2F;svg xml image&#x2F;bmp;</span><br></pre></td></tr></table></figure><p><strong>åªéœ€åœ¨å¸¸è§„å†…å®¹ä¸­æ·»åŠ  â€œgzip_static onâ€ å³å¯ã€‚</strong></p><p>è¿™å°±æ˜¯å¯ç”¨å®ƒæ‰€éœ€è¦åšçš„å…¨éƒ¨å·¥ä½œï¼Œæ‰€ä»¥å¾ˆç®€å•ã€‚</p><p>æˆ‘å»ºè®®ä½ åªè®¾ç½®è¿™ä¸ªã€‚</p><p>å¦‚æœä½ ç”¨è°·æ­Œæœç´¢ï¼Œä½ ä¼šçœ‹åˆ°å¾ˆå¤šäººæŒ‡å®š â€œgzip_static alwaysâ€ï¼Œ<br>è¿™æ„å‘³ç€åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä½¿ç”¨ gz æ–‡ä»¶ã€‚<br>å‡è®¾æ‰€æœ‰ç›®æ ‡æ–‡ä»¶éƒ½è¢«å‹ç¼©å¹¶ä¿å­˜ï¼ˆç†æƒ³æƒ…å†µï¼‰ã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°†ä¸ä¼šæ˜¾ç¤ºä¸æ”¯æŒçš„ç”¨æˆ·ï¼Œå› æ­¤æ‚¨è¿˜éœ€è¦æŒ‡å®š â€œgunzip on;â€ã€‚<br>å¦‚æœå®¢æˆ·ç«¯ä¸æ”¯æŒ gzipï¼Œæ–‡ä»¶ä¼šåœ¨æœåŠ¡å™¨ç«¯è§£å‹åå‘é€ã€‚</p><p>è¯¦æƒ…è¯·å‚é˜…ä»¥ä¸‹é¡µé¢ã€‚</p><p><a href="http://nginx.org/en/docs/http/ngx_http_gzip_static_module.html" target="_blank" rel="noopener">å®˜æ–¹è§£é‡Šï¼šngx_http_gzip_static_module æ¨¡å—</a></p><h3><span id="6-å¦‚ä½•ä½¿ç”¨-gzip-å‹ç¼©">6. å¦‚ä½•ä½¿ç”¨ gzip å‹ç¼©</span></h3><p>&lt;å¯¹äº PHP&gt;</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gzencode(<span class="variable">$file</span>, 9)</span><br></pre></td></tr></table></figure><p>&lt;å¯¹äº ubuntuï¼ˆLinuxï¼‰&gt;</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gzip -9 -k style.css</span><br></pre></td></tr></table></figure><p>æ¯æ¬¡æ›´æ–°æ—¶æˆ‘éƒ½ä¼šè‡ªåŠ¨ä½¿ç”¨ PHP åˆ›å»ºå®ƒã€‚</p><h3><span id="7-éœ€è¦å‹ç¼©çš„æ–‡ä»¶">7. éœ€è¦å‹ç¼©çš„æ–‡ä»¶</span></h3><p><strong>ä¸€èˆ¬æ–‡æœ¬æ–‡ä»¶å¦‚ cssã€jsã€xml ç­‰</strong></p><p>å¯ä»¥å°†å…¶è§†ä¸ºå›¾åƒä¹‹å¤–çš„å…¶ä»–å†…å®¹ã€‚</p><p>åŸºæœ¬ä¸Šï¼Œå®ƒå°†æ˜¯ â€œgzip_typesâ€ æŒ‡å®šçš„æ–‡ä»¶ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœå°†å‹ç¼©çº§åˆ«è®¾ç½®ä¸º 9ï¼Œå›¾åƒé€šå¸¸ä¼šå˜å°ã€‚<br>å¦‚æœä½ æ¯”è¾ƒè®²ç©¶çš„è¯ï¼Œè¯·ç”¨å„ç§æ–¹å¼å‹ç¼©ä¸€ä¸‹çœ‹çœ‹ã€‚</p><p>è¿™æ˜¯ Nginxä¸­ gzip static çš„è§£é‡Šã€‚</p><p>å®ƒéå¸¸æœ‰æ•ˆï¼Œæ‰€ä»¥è¯·å°è¯•ä¸€ä¸‹ã€‚</p><p>åŸæ–‡é“¾æ¥ <a href="https://doudonn.com/saba/2331/" target="_blank" rel="noopener">https://doudonn.com/saba/2331/</a></p><blockquote><p>æœ¬æ–‡è½¬è½½è‡ªï¼šã€Œ Lenix Blog ã€ï¼ŒåŸæ–‡ï¼š<a href="https://url.hi-linux.com/o1BAZ" target="_blank" rel="noopener">https://url.hi-linux.com/o1BAZ</a> ï¼Œç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚æ¬¢è¿æŠ•ç¨¿ï¼ŒæŠ•ç¨¿é‚®ç®±: <a href="mailto:editor@hi-linux.com">editor@hi-linux.com</a>ã€‚</p></blockquote></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "10135-1588830050631-449",        "name": "ã€Œå¥‡å¦™çš„ Linux ä¸–ç•Œã€",        "qrcode": "https://www.hi-linux.com/img/wechat/mp_qrcode_12.jpg",        "keyword": "VIP"    });}</script>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ç”¨-Nginx-Gzip-è¿›è¡Œé™æ€åŠ é€Ÿ&quot;&gt;ç”¨ Nginx Gzip è¿›è¡Œé™æ€åŠ é€Ÿ&lt;/h2&gt;
&lt;p&gt;è¿™ç»å¯¹æ˜¯ä½ åº”è¯¥åšçš„äº‹æƒ…ã€‚&lt;br&gt;
å¹¶ä¸æ˜¯ç‰¹åˆ«éº»çƒ¦ï¼Œè€Œä¸”æ•ˆæœä¹Ÿå¾ˆçªå‡ºã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œè§£é‡Šäº† &lt;a href=&quot;https://nginx.p2hp.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Nginx&lt;/a&gt; ä¸­çš„ gzip_staticã€‚&lt;/p&gt;
&lt;h3 id=&quot;1-ä¸ä½¿ç”¨-gzip-static-æ—¶çš„-gzip-å¤„ç†&quot;&gt;1.ä¸ä½¿ç”¨ gzip static æ—¶çš„ gzip å¤„ç†&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;https://img.hi-linux.com/staticfile/N56H1Z-2024-02-05-yyBwlC.png&quot; alt=&quot;Nginx ä¸ä½¿ç”¨ gzip_static æ—¶ gzip å¤„ç†çš„è¯´æ˜&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¦‚æœä½ ä¸ä½¿ç”¨ gzip_static è€Œåªæ˜¯ â€œgzip onâ€ï¼Œå®ƒæ¯æ¬¡éƒ½ä¼šè¢«å‹ç¼©å¹¶å‘é€ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è™½ç„¶å®ƒå®é™…ä¸Šå¯èƒ½ç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œä½†ä¼ ç»Ÿè§‚ç‚¹æ˜¯ â€œæ¯æ¬¡éƒ½ä¼šæ‰§è¡Œå‹ç¼©å¤„ç†ï¼Œå› æ­¤ CPU è´Ÿè½½å¾ˆå¤§ã€‚â€&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œæˆ‘æ¯æ¬¡éƒ½æƒ³åœæ­¢å¤„ç†å®ƒã€‚&lt;/p&gt;
&lt;p&gt;â€œgzip_staticâ€ å¯ä»¥å®ç°è¿™ä¸€ç‚¹ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/categories/Linux/"/>
    
    
      <category term="æŠ€å·§" scheme="https://www.hi-linux.com/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="Linux" scheme="https://www.hi-linux.com/tags/Linux/"/>
    
      <category term="Nginx" scheme="https://www.hi-linux.com/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>å²ä¸Šæœ€å…¨ SSH æš—é»‘æŠ€å·§è¯¦è§£</title>
    <link href="https://www.hi-linux.com/posts/60266.html"/>
    <id>https://www.hi-linux.com/posts/60266.html</id>
    <published>2024-01-23T01:00:00.000Z</published>
    <updated>2024-01-23T02:11:04.393Z</updated>
    
    <content type="html"><![CDATA[<div id="vip-container"><p>æˆ‘è§è¿‡å¤ªå¤šçš„è€é¸Ÿã€æ–°æ‰‹å¯¹ SSH åŸºæœ¬åªé™äº SSH åˆ°è¿œç¨‹æœºå™¨ï¼Œå®é™…è¿™ä¸ªå‘½ä»¤æˆ‘ä»¬ä¸€å¤©è¦ç”¨å¾ˆå¤šæ¬¡ï¼Œä½†æ˜¯å¯¹å®ƒçš„äº†è§£å¤ªå°‘äº†ï¼Œä»–çš„å¼ºå¤§è¿œè¿œè¶…å‡ºä½ çš„æƒ³è±¡ã€‚å½“äºä½ ä¹Ÿè®¸ä¼šè¯´å¤Ÿç”¨å°±å¤Ÿäº†ï¼Œç¡®å®æ²¡é”™ï¼Œä½†æ˜¯ä½ è€ƒè™‘è¿‡æ•ˆç‡æ²¡æœ‰ï¼Œæˆ–è€…è¿˜æœ‰å“ªäº›è„‘æ´å¤§å¼€çš„åŠŸèƒ½ä¼šè®©ä½ çˆ±æ­»ä»–ï¼Œè¿™äº›åŠŸèƒ½åˆä»…ä»…æ˜¯ä¸€è¡Œå‘½ä»¤å°±å¤Ÿäº†ã€‚</p><p>ç–«æƒ…æœŸé—´ä¸€è¡Œ SSH å‘½ä»¤è®©æˆ‘èŠ‚çœäº† 70% çš„å‡ºå·®æ—¶é—´ï¼Œæ¥ï¼Œè®©æˆ‘ä»¬ä¸€èµ·èµ°ä¸€éï¼Œçœ‹çœ‹ä¼šä¸ä¼šè®©ä½ å¤§å¼€çœ¼ç•Œã€‚</p><a id="more"></a><h2><span id="æœ¬æ–‡è¯•å›¾è§£å†³çš„é—®é¢˜">æœ¬æ–‡è¯•å›¾è§£å†³çš„é—®é¢˜</span></h2><ul><li>å¦‚ä½•é€šè¿‡ SSH å‘½ä»¤æ­£ç¡®ä¸Šç½‘</li><li>Docker é•œåƒã€Golang ä»“åº“æ€»æ˜¯è¢«å¢™æ€ä¹ˆåŠ</li><li>å…¬å¸è·³æ¿æœºè¦è¾“å…¥åŠ¨æ€ Tokenï¼Œå¤ªéº»çƒ¦äº†ï¼Œå¦‚ä½•çœç•¥æ‰è¿™ä¸ª Tokenï¼›</li><li>æ¯”å¦‚å¤šæœºæˆ¿æ€»æ˜¯è¦èµ°è·³æ¿æœºï¼Œå¦‚ä½• <code>ç»•è¿‡</code> è·³æ¿æœºç›´è¿ï¼›</li><li>æˆ‘çš„å¼€å‘æµ‹è¯•æœºå™¨å¦‚ä½•å…æ‰“é€šã€å…å¯†ç ã€ç›´è¾¾ï¼›</li><li>å¦‚ä½•è®¿é—®éš”ç¦»ç¯å¢ƒä¸­( K8s )çš„ Web æœåŠ¡ â€“ å°†éš”ç¦»ç¯å¢ƒä¸­çš„webç«¯å£æ˜ å°„åˆ°æœ¬åœ°</li><li>å¦‚ä½•è®©éš”ç¦»ç¯å¢ƒçš„æœºå™¨ç”¨ä¸Š Yumã€APT</li><li>å¦‚ä½•å°†æœåŠ¡å™¨çš„å›¾å½¢ç•Œé¢æ˜ å°„åˆ°æœ¬åœ°(ç±»ä¼¼ VNC çš„ä½œç”¨)</li><li>SSH å¦‚ä½•è°ƒè¯•è¯Šæ–­ï¼Œè¿™æ‰æ˜¯ç»ˆææŠ€èƒ½â€¦â€¦</li></ul><h2><span id="æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹</span></h2><ul><li>SSH æ˜¯æŒ‡çš„ openSSH å‘½ä»¤å·¥å…·</li><li>æœ¬æ–‡é€‚ç”¨äºå„ç§ Linuxã€macOS ä¸‹å‘½ä»¤è¡Œæ“ä½œï¼ŒWindows çš„è¯å„ç§å¯è§†åŒ–å·¥å…·éƒ½å¯ä»¥å¤åˆ¶ Sessionã€é…ç½® Tunnel æ¥å®ç°ç±»ä¼¼åŠŸèƒ½ã€‚</li><li>å¦‚æœæ–‡ç« ä¸­æåˆ°çš„æ–‡ä»¶ã€æ–‡ä»¶å¤¹ä¸å­˜åœ¨å¯ä»¥ç›´æ¥åˆ›å»ºå‡ºæ¥ã€‚</li><li>æ‰€æœ‰é…ç½®éƒ½æ˜¯åœ¨ä½ çš„ç¬”è®°æœ¬ä¸Šï¼ˆç›¸å½“äº SSH Clientä¸Šï¼‰</li></ul><h2><span id="æ­£ç¡®ä¸Šç½‘">æ­£ç¡®ä¸Šç½‘</span></h2><p>æœ‰æ—¶å€™æ­£ç¡®ä¸Šç½‘è¿˜å¾—é è‡ªå·±ï¼Œä¸€è¡Œ SSH å‘½ä»¤æ¥æ­£ç¡®ä¸Šç½‘:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup ssh -qTfnN -D 127.0.0.1:38080 root@1.1.1.1 &quot;vmstat 10&quot; 2&gt;&amp;1 &gt;&#x2F;dev&#x2F;null &amp;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ 1.1.1.1 æ˜¯ä½ åœ¨å¢ƒå¤–çš„ä¸€å°æœåŠ¡å™¨ï¼Œå·²ç»åšå¥½äº†å…å¯†ç™»é™†ï¼ˆå…å¯†è§åé¢ï¼Œè¦ä¸ä½ è¿˜å¾—è¾“ä¸€ä¸‹å¯†ç ï¼‰ï¼Œè¿™å¥è¯çš„æ„æ€å°±æ˜¯åœ¨æœ¬åœ°å¯åŠ¨ä¸€ä¸ª 38080 çš„ç«¯å£ï¼Œä¸Šé¢æ”¶åˆ°çš„ä»»ä½•ä¸œè¥¿éƒ½ä¼šè½¬å‘ç»™ 1.1.1.1:22ï¼ˆåšäº† SSH åŠ å¯†ï¼‰ï¼Œ1.1.1.1:22 ä¼šè§£å¯†æ”¶åˆ°çš„ä¸œè¥¿ï¼Œç„¶åæŠŠä»–ä»¬è½¬å‘ç»™ Google ä¹‹ç±»çš„ç½‘ç«™ï¼ˆæ¯”å¦‚ä½ è¦è®¿é—®çš„æ˜¯ Googleï¼‰ï¼Œç»“æœä¾ç„¶é€šè¿‡åŸè·¯è¿”å›</p><p>127.0.0.1:38080  å°±æ˜¯è¦å¡«å…¥åˆ°ä½ çš„æµè§ˆå™¨ä¸­çš„ Socks5 ä»£ç†æœåŠ¡å™¨ï¼Œä»€ä¹ˆéƒ½ä¸éœ€è¦è£…ï¼Œéå¸¸ç®€å•ã€‚</p><p><img src="https://img.hi-linux.com/staticfile/n3mrq5-2024-01-22-7OPIZB.png" alt></p><p>åŸç†å›¾å¦‚ä¸‹(ç°è‰²çŸ©å½¢æ¡†å°±æ˜¯ä½ æœ¬åœ° SSH å‘½ä»¤ï¼ŒSSH çº¿å°±æ˜¯åœ¨ç©¿å¢™ï¼Œ å›½å¤–æœåŠ¡å™¨å°±æ˜¯å‘½ä»¤ä¸­çš„ 1.1.1.1)ï¼š</p><p><img src="https://img.hi-linux.com/staticfile/Wqm4wS-2024-01-22-UmMYjx.png" alt></p><h3><span id="æ­£ç¡®ä¸Šç½‘ä¹‹-http-ç‰¹æ®Šä»£ç†-åˆ©ç”¨-ssh-æœ¬åœ°è½¬å‘æ˜¯-http-åè®®">æ­£ç¡®ä¸Šç½‘ä¹‹ HTTP ç‰¹æ®Šä»£ç† â€“ åˆ©ç”¨ SSH æœ¬åœ°è½¬å‘æ˜¯ HTTP åè®®</span></h3><p>å‰é¢æ‰€è¯´çš„ä»£ç†æ˜¯ Socks5 ä»£ç†ï¼Œä¸€èˆ¬æµè§ˆå™¨éƒ½æœ‰æ’ä»¶æ”¯æŒï¼Œä½†æ˜¯æ¯”å¦‚ä½ çš„ Dockerï¼ˆæˆ–è€…å…¶ä»–ç¨‹åºï¼‰éœ€è¦é€šè¿‡ HTTP å»æ‹‰å–é•œåƒå°±ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Sending build context to Docker daemon 8.704 kB</span><br><span class="line">Step 1 : FROM k8s.gcr.io&#x2F;kube-cross:v1.10.1-1</span><br><span class="line">Get https:&#x2F;&#x2F;k8s.gcr.io&#x2F;v1&#x2F;_ping: dial tcp 108.177.125.82:443: i&#x2F;o timeout</span><br></pre></td></tr></table></figure><p><a href="https://www.atatech.org/articles/102153" target="_blank" rel="noopener">å¦‚æœæ˜¯ Git è¿™æ ·çš„åº”ç”¨å†…éƒ¨å¯ä»¥é…ç½® Socks5 å’Œ HTTP ä»£ç†æœåŠ¡å™¨ï¼Œè¯·å‚è€ƒå¦å¤–ä¸€ç¯‡æ–‡ç« </a>ï¼Œä½†æ˜¯æœ‰äº›åº”ç”¨å°±ä¸èƒ½é…ç½®äº†ï¼Œå½“ç„¶æœ€ç»ˆé€šè¿‡ SSH å¤§æ³•è¿˜æ˜¯å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ssh -L 443:108.177.125.82:443 root@1.1.1.1 &#x2F;&#x2F; åœ¨æœ¬åœ°ç›‘å¬ 443ï¼Œè½¬å‘ç»™è¿œç¨‹ 108.177.125.82 çš„ 443 ç«¯å£</span><br></pre></td></tr></table></figure><p>ç„¶åå†åœ¨ <code>/etc/hosts</code> ä¸­å°†åŸŸå <a href="http://k8s.gcr.io" target="_blank" rel="noopener">k8s.gcr.io</a> æŒ‡å‘ 127.0.0.1ï¼Œ é‚£ä¹ˆæœ¬æ¥è¦è®¿é—® <a href="http://k8s.gcr.io:443" target="_blank" rel="noopener">k8s.gcr.io:443</a> çš„ï¼Œå˜æˆäº†è®¿é—®æœ¬åœ° 127.0.0.1:443 è€Œ 127.0.0.1:443 åˆé€šè¿‡ SSH é‡å®šå‘åˆ°äº† 108.177.125.82:443 è¿™æ ·å°±å®ç°äº† HTTP ä»£ç†æˆ–è€…è¯´è¿™ç§ç‰¹æ®Šæƒ…å†µä¸‹çš„æ­£ç¡®ä¸Šç½‘ã€‚è¿™ä¸ªæ–¹æ¡ˆä¸éœ€è¦è£…ä»»ä½•ä¸œè¥¿ï¼Œä½†æ˜¯æ¯ä¸ªè®¿é—®ç›®æ ‡éƒ½è¦è¿™æ ·å¤„ç†ï¼Œå¥½åœ¨è¿™ç§æƒ…å†µä¸å¤šã€‚</p><h2><span id="å†…éƒ¨å ¡å’æœº-è·³æ¿æœºéƒ½éœ€è¦å¯†ç åŠ¨æ€ç å¤ªå¤æ‚äº†æ€ä¹ˆè§£">å†…éƒ¨å ¡å’æœºã€è·³æ¿æœºéƒ½éœ€è¦å¯†ç +åŠ¨æ€ç ï¼Œå¤ªå¤æ‚äº†ï¼Œæ€ä¹ˆè§£ï¼Ÿ</span></h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cat ~/.ssh/config </span></span><br><span class="line"><span class="meta">#</span><span class="bash">reuse the same connection --å…³é”®é…ç½®</span></span><br><span class="line">ControlMaster auto</span><br><span class="line">ControlPath ~/tmp/ssh_mux_%h_%p_%r</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">æŸ¥äº†ä¸‹ ControlPersist æ˜¯åœ¨ OpenSSH5.6 åŠ å…¥çš„ï¼Œ5.3è¿˜ä¸æ”¯æŒ</span></span><br><span class="line"><span class="meta">#</span><span class="bash">ä¸æ”¯æŒçš„è¯ç›´æ¥æŠŠè¿™è¡Œåˆ äº†ï¼Œä¸å½±å“åŠŸèƒ½</span></span><br><span class="line"><span class="meta">#</span><span class="bash">keep one connection <span class="keyword">in</span> 72hour</span></span><br><span class="line"><span class="meta">#</span><span class="bash">ControlPersist 72h</span></span><br><span class="line"><span class="meta">#</span><span class="bash">å¤ç”¨è¿æ¥çš„é…ç½®åˆ°è¿™é‡Œï¼Œåé¢çš„é…ç½®ä¸å¤ç”¨æ— å…³</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">å…¶å®ƒä¹Ÿå¾ˆæœ‰ç”¨çš„é…ç½®</span></span><br><span class="line">GSSAPIAuthentication=no</span><br><span class="line"><span class="meta">#</span><span class="bash">è¿™ä¸ªé…ç½®åœ¨å…¬ç½‘å› ä¸ºå®‰å…¨åŸå› è¯·è°¨æ…å…³é—­</span></span><br><span class="line">StrictHostKeyChecking=no</span><br><span class="line">TCPKeepAlive=yes</span><br><span class="line">CheckHostIP=no</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="string">"ServerAliveInterval [seconds]"</span> configuration <span class="keyword">in</span> the SSH configuration so that your ssh client sends a <span class="string">"dummy packet"</span> on a regular interval so that the router thinks that the connection is active even <span class="keyword">if</span> it<span class="string">'s particularly quiet</span></span></span><br><span class="line">ServerAliveInterval=15</span><br><span class="line"><span class="meta">#</span><span class="bash">ServerAliveCountMax=6</span></span><br><span class="line">ForwardAgent=yes</span><br><span class="line"></span><br><span class="line">UserKnownHostsFile /dev/null</span><br></pre></td></tr></table></figure><p>åœ¨ä½ çš„ SSH é…ç½®æ–‡ä»¶å¢åŠ ä¸Šè¿°å‚æ•°ï¼Œæ„å‘³ç€ 72 å°æ—¶å†…ç™»å½•åŒä¸€å°è·³æ¿æœºåªæœ‰ç¬¬ä¸€æ¬¡éœ€è¦è¾“å…¥å¯†ç ï¼Œä»¥åéƒ½æ˜¯é‡ç”¨ä¹‹å‰çš„è¿æ¥ï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸å†éœ€è¦è¾“å…¥å¯†ç äº†ã€‚</p><p>åŠ äº†å¦‚ä¸Šå‚æ•°åçš„ç™»å½•è¿‡ç¨‹å°±æœ‰è¿™æ ·çš„ä¸œä¸œ(é»˜è®¤æ²¡æœ‰ï¼Œè¿™æ˜¯ Debug ä¿¡æ¯)ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">debug1: setting up multiplex master socket</span><br><span class="line">debug3: muxserver_listen: temporary control path   &#x2F;home&#x2F;ren&#x2F;tmp&#x2F;ssh_mux_10.16.**_22_corp.86g3C34vy36tvCtn</span><br><span class="line">debug2: fd 3 setting O_NONBLOCK</span><br><span class="line">debug3: fd 3 is O_NONBLOCK</span><br><span class="line">debug3: fd 3 is O_NONBLOCK</span><br><span class="line">debug1: channel 0: new [&#x2F;home&#x2F;ren&#x2F;tmp&#x2F;ssh_mux_10.16.*.*_22_corp]</span><br><span class="line">debug3: muxserver_listen: mux listener channel 0 fd 3</span><br><span class="line">debug1: control_persist_detach: backgrounding master process</span><br><span class="line">debug2: control_persist_detach: background process is 15154</span><br><span class="line">debug2: fd 3 setting O_NONBLOCK</span><br><span class="line">debug1: forking to background</span><br><span class="line">debug1: Entering interactive session.</span><br><span class="line">debug2: set_control_persist_exit_time: schedule exit in 259200 seconds</span><br><span class="line">debug1: multiplexing control connection</span><br></pre></td></tr></table></figure><p><code>/home/ren/tmp/ssh_mux_10.16.*.*_22_corp</code> è¿™ä¸ªå°±æ˜¯ä¿å­˜å¥½çš„ Socketï¼Œä¸‹æ¬¡å¯ä»¥é‡ç”¨ï¼Œå…å¯†ç ã€‚ in 259200 seconds å¯¹åº” 72å°æ—¶</p><h2><span id="æˆ‘æœ‰å¾ˆå¤šä¸åŒæœºæˆ¿æˆ–è€…è¯´ä¸åŒå®¢æˆ·çš„æœºå™¨éƒ½éœ€è¦è·³æ¿æœºæ¥ç™»å½•èƒ½ä¸€æ¬¡ç›´æ¥-ssh-ä¸Šå»å—">æˆ‘æœ‰å¾ˆå¤šä¸åŒæœºæˆ¿ï¼ˆæˆ–è€…è¯´ä¸åŒå®¢æˆ·ï¼‰çš„æœºå™¨éƒ½éœ€è¦è·³æ¿æœºæ¥ç™»å½•ï¼Œèƒ½ä¸€æ¬¡ç›´æ¥ SSH ä¸Šå»å—ï¼Ÿ</span></h2><p>æ¯”å¦‚æœ‰ä¸€æ‰¹å®¢æˆ·æœºæˆ¿çš„æœºå™¨ IP éƒ½æ˜¯ 192.168.<em>.</em>, ç„¶åéœ€è¦èµ°è·³æ¿æœº 100.10.1.2 æ‰èƒ½è®¿é—®åˆ°ï¼Œé‚£ä¹ˆæˆ‘å¸Œæœ›ä»¥å<strong>åœ¨ç¬”è®°æœ¬ä¸Šç›´æ¥ ssh 192.168.1.5 å°±èƒ½ç›´æ¥è¿ä¸Š</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ cat &#x2F;etc&#x2F;ssh&#x2F;ssh_config</span><br><span class="line"></span><br><span class="line">Host 192.168.*.*</span><br><span class="line">ProxyCommand ssh -l ali-renxijun 100.10.1.2 exec &#x2F;usr&#x2F;bin&#x2F;nc %h %p</span><br></pre></td></tr></table></figure><p>ä¸Šé¢é…ç½®çš„æ„æ€æ˜¯æ‰§è¡Œ <code>ssh 192.168.1.5</code> çš„æ—¶å€™å‘½ä¸­è§„åˆ™ <code>Host 192.168.*.*</code> æ‰€ä»¥æ‰§è¡Œ <code>ProxyCommand</code> å…ˆè¿ä¸Šè·³æ¿æœºå†é€šè¿‡è·³æ¿æœºè¿å‘ 192.168.1.5 ã€‚è¿™æ ·åœ¨ä½ çš„ç¬”è®°æœ¬ä¸Šå°±è·Ÿ 192.168.<em>.</em> çš„æœºå™¨ä»¿ä½›åœ¨ä¸€èµ·ï¼ŒSSH å¯ä»¥ä¸Šå»ï¼Œä½†æ˜¯ ping ä¸é€šè¿™ä¸ª 192.168.1.5 çš„ IP</p><p><strong>åˆ’é‡ç‚¹ï¼šå…¬å¸çš„çº¿ä¸Šè·³æ¿æœºåšäº†ç‰¹æ®Šé™åˆ¶ï¼Œé™åˆ¶äº†è¿™ä¸ªæŠ€èƒ½ã€‚æ—¥å¸¸ç¯å¢ƒè·³æ¿æœºæ”¯æŒè¿™ä¸ªåŠŸèƒ½</strong></p><p>æ¯”å¦‚æˆ‘çš„è·³æ¿é…ç½®ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#åˆ°ç¾å›½çš„æœºå™¨ç”¨ç¾å›½çš„è·³æ¿æœºé€Ÿåº¦æ›´å¿«</span><br><span class="line">Host 10.74.*</span><br><span class="line">ProxyCommand ssh -l user us.jump exec &#x2F;bin&#x2F;nc %h %p 2&gt;&#x2F;dev&#x2F;null</span><br><span class="line">#åˆ°ä¸­å›½çš„æœºå™¨ç”¨ä¸­å›½çš„è·³æ¿æœºé€Ÿåº¦æ›´å¿«</span><br><span class="line">Host 10.70.*</span><br><span class="line">ProxyCommand ssh -l user cn.jump exec &#x2F;bin&#x2F;nc %h %p 2&gt;&#x2F;dev&#x2F;null</span><br><span class="line">   </span><br><span class="line">Host 192.168.0.*</span><br><span class="line">ProxyCommand ssh -l user 1.1.1.1 exec &#x2F;usr&#x2F;bin&#x2F;nc %h %p</span><br></pre></td></tr></table></figure><p>å…¶å®æˆ‘çš„é…ç½®æ–‡ä»¶é‡Œé¢è¿˜æœ‰å¾ˆå¤šè§„åˆ™ï¼Œæ‡’å¾—ä¸€ä¸ªä¸ªéšè— IP äº†ï¼Œè¿™äº›è§„åˆ™æ˜¯å¯ä»¥é‡å¤åŒ¹é…çš„</p><p>æ¥çœ‹ä¸€ä¸ªä¾‹å­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">ren@ren-VirtualBox:&#x2F;$ ping -c 1 10.16.1.*</span><br><span class="line">        PING 10.16.1.* (10.16.1.*) 56(84) bytes of data.^C</span><br><span class="line">    --- 10.16.1.* ping statistics ---</span><br><span class="line">    1 packets transmitted, 0 received, 100% packet loss, time 0ms</span><br><span class="line">    </span><br><span class="line">ren@ren-VirtualBox:~$ ssh -l corp 10.16.1.* -vvv</span><br><span class="line">OpenSSH_6.7p1 Ubuntu-5ubuntu1, OpenSSL 1.0.1f 6 Jan 2014</span><br><span class="line">debug1: Reading configuration data &#x2F;home&#x2F;ren&#x2F;.ssh&#x2F;config</span><br><span class="line">debug1: Reading configuration data &#x2F;etc&#x2F;ssh&#x2F;ssh_config</span><br><span class="line">debug1: &#x2F;etc&#x2F;ssh&#x2F;ssh_config line 28: Applying options for *</span><br><span class="line">debug1: &#x2F;etc&#x2F;ssh&#x2F;ssh_config line 44: Applying options for 10.16.*.*</span><br><span class="line">debug1: &#x2F;etc&#x2F;ssh&#x2F;ssh_config line 68: Applying options for *</span><br><span class="line">debug1: auto-mux: Trying existing master</span><br><span class="line">debug1: Control socket &quot;&#x2F;home&#x2F;ren&#x2F;tmp&#x2F;ssh_mux_10.16.1.*_22_corp&quot; does not exist</span><br><span class="line">debug1: Executing proxy command: exec ssh -l corp 139.*.*.* exec &#x2F;usr&#x2F;bin&#x2F;nc 10.16.1* 22</span><br></pre></td></tr></table></figure><p>æœ¬æ¥æˆ‘çš„ç¬”è®°æœ¬è·Ÿ 10.16.1.* æ˜¯ä¸é€šçš„(ping ä¸é€šï¼‰ï¼Œä½†æ˜¯ SSH å¯ä»¥ç›´æ¥è¿ä¸Šï¼Œå®é™… SSH ç™»å½•è¿‡ç¨‹ä¸­è‡ªåŠ¨èµ°è·³æ¿æœº 139.<em>.</em>.* å°±è¿ä¸Šäº†</p><p><code>-vvv</code> å‚æ•°æ˜¯ debugï¼ŒæŠŠ SSH ç™»å½•è¿‡ç¨‹çš„æ—¥å¿—å…¨éƒ¨æ‰“å°å‡ºæ¥ã€‚</p><h2><span id="å°†éš”ç¦»ç¯å¢ƒä¸­çš„-web-ç«¯å£æ˜ å°„åˆ°æœ¬åœ°æœ¬åœ°ä»£ç†">å°†éš”ç¦»ç¯å¢ƒä¸­çš„ Web ç«¯å£æ˜ å°„åˆ°æœ¬åœ°ï¼ˆæœ¬åœ°ä»£ç†ï¼‰</span></h2><p>è¿œç¨‹æœºå™¨éƒ¨ç½²äº† Web Serverï¼ˆç«¯å£ 8083ï¼‰ï¼Œéœ€è¦é€šè¿‡æµè§ˆå™¨æ¥è®¿é—®è¿™ä¸ª WEB æœåŠ¡ï¼Œä½†æ˜¯ server åœ¨éš”ç¦»ç¯å¢ƒä¸­ï¼Œåªèƒ½é€šè¿‡ SSH è®¿é—®åˆ°ã€‚ä¸€èˆ¬æ¥è¯´ä¼šåœ¨éš”ç¦»ç¯å¢ƒä¸­éƒ¨ç½²ä¸€ä¸ª Windows æœºå™¨ï¼Œé€šè¿‡è¿™ä¸ª Windows æœºå™¨æ¥è®¿é—®åˆ°è¿™ä¸ª Web Serverã€‚èƒ½ä¸èƒ½çœæ‰è¿™ä¸ª Windows æœºå™¨å‘¢ï¼Ÿ</p><p>ç°åœ¨æˆ‘ä»¬è¯•ç€ç”¨ SSH æ¥å®ç°æœ¬åœ°æµè§ˆå™¨ç›´æ¥è®¿é—®åˆ°è¿™ä¸ªéš”ç¦»ç¯å¢ƒä¸­çš„ Web Serverã€‚</p><p>å‡è®¾ Web Server æ˜¯ï¼š10.1.1.123:8083ï¼Œ SSH è´¦å·æ˜¯ï¼šuser</p><p>å…ˆé…ç½®å¥½æœ¬åœ°ç›´æ¥ <code>ssh user@10.1.1.123</code> ï¼ˆå‚è€ƒå‰é¢çš„ <code>ProxyCommand</code> é…ç½®è¿‡ç¨‹ï¼Œæœ€å¥½æ˜¯å…å¯†ä¹Ÿé…ç½®å¥½ï¼‰ï¼Œç„¶ååœ¨ä½ çš„ç¬”è®°æœ¬ä¸Šæ‰§è¡Œï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -CNfL 0.0.0.0:8088:10.1.1.123:8083 user@10.1.1.123</span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼š(<a href="mailto:root@100.1.2.3">root@100.1.2.3</a> -p 54900 æ˜¯å¯è¾¾10.1.1.123çš„ä»£ç†æœåŠ¡å™¨)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -CNfL 0.0.0.0:8089:10.1.1.123:8083 root@100.1.2.3 -p 54900</span><br></pre></td></tr></table></figure><p>è¿™è¡¨ç¤ºåœ¨æœ¬åœ°å¯åŠ¨ä¸€ä¸ª 8088 çš„ç«¯å£ï¼Œå°†è¿™ä¸ª 8088 ç«¯å£æ˜ å°„åˆ° 10.1.1.123 çš„ 8083 ç«¯å£ä¸Šï¼Œç”¨çš„ SSH è´¦å·æ˜¯ user</p><p>ç„¶ååœ¨ç¬”è®°æœ¬ä¸Šçš„æµè§ˆå™¨ä¸­è¾“å…¥ï¼š127.0.0.1:8088 å°±çœ‹åˆ°äº†å¦‚ä¸‹ç•Œé¢ï¼š</p><p><img src="https://img.hi-linux.com/staticfile/bOUSWh-2024-01-22-CPWM1b.png" alt></p><p>åè¿‡æ¥ï¼Œ<strong>ä¹Ÿå¯ä»¥è®©éš”ç¦»ç¯å¢ƒæœºå™¨é€šè¿‡ä»£ç†ä¸Šç½‘ï¼Œæ¯”å¦‚å®‰è£… yum</strong></p><h2><span id="ä¸ºä»€ä¹ˆæœ‰æ—¶å€™-ssh-æ¯”è¾ƒæ…¢æ¯”å¦‚æ€»æ˜¯éœ€è¦-30-ç§’é’Ÿåæ‰èƒ½æ­£å¸¸ç™»å½•">ä¸ºä»€ä¹ˆæœ‰æ—¶å€™ SSH æ¯”è¾ƒæ…¢ï¼Œæ¯”å¦‚æ€»æ˜¯éœ€è¦ 30 ç§’é’Ÿåæ‰èƒ½æ­£å¸¸ç™»å½•</span></h2><p>å…ˆäº†è§£å¦‚ä¸‹çŸ¥è¯†ç‚¹ï¼Œåœ¨ ~/.ssh/config é…ç½®æ–‡ä»¶ä¸­ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GSSAPIAuthentication&#x3D;no</span><br></pre></td></tr></table></figure><p>ç¦æ‰ GSSAPI è®¤è¯ï¼ŒGSSAPIAuthentication æ˜¯ä¸ªä»€ä¹ˆé¬¼ä¸œè¥¿è¯·è‡ªè¡Œ Google (å¤šä¸€æ¬¡æ²¡å¿…è¦çš„æˆæƒè®¤è¯è¿‡ç¨‹ï¼Œç„¶åç­‰å¾…è¶…æ—¶)ã€‚ è¿™é‡Œè¦ç†è§£ SSH ç™»å½•çš„æ—¶å€™æœ‰å¾ˆå¤šç§è®¤è¯æ–¹å¼ï¼ˆå…¬é’¥ã€å¯†ç ç­‰ç­‰ï¼‰ï¼Œå…·ä½“æ€ä¹ˆè°ƒè¯•è¯·è®°ä½å¼ºå¤§çš„å‘½ä»¤å‚æ•° <code>ssh -vvv</code> ä¸Šé¢è®²åˆ°çš„æŠ€å·§éƒ½èƒ½é€šè¿‡ <code>-vvv</code> çœ‹åˆ°å…·ä½“è¿‡ç¨‹ã€‚</p><p>æ¯”å¦‚æˆ‘ç¬¬ä¸€æ¬¡ç¢°åˆ° ssh æ¯”è¾ƒæ…¢æ€»æ˜¯éœ€è¦ 30 ç§’åæ‰ç™»å½•ï¼Œä¸èƒ½å¿å—ï¼Œäºæ˜¯ç™»å½•çš„æ—¶å€™åŠ ä¸Š -vvv æ˜æ˜¾çœ‹åˆ°æ§åˆ¶å°åœåœ¨äº†ï¼šGSSAPIAuthentication ç„¶å Google äº†ä¸€ä¸‹ï¼Œç¦æ‰å°±å¥½äº†</p><p>å½“ç„¶è¿˜æœ‰å»æ‰æ¯æ¬¡ SSH éƒ½éœ€è¦å…ˆè¾“å…¥ Yes</p><h2><span id="æ‰¹é‡æ‰“é€šæ‰€æœ‰æœºå™¨ä¹‹é—´çš„-ssh-ç™»å½•å…å¯†ç ">æ‰¹é‡æ‰“é€šæ‰€æœ‰æœºå™¨ä¹‹é—´çš„ SSH ç™»å½•å…å¯†ç </span></h2><p><strong>Expect åœ¨æœ‰äº›å…¬å¸æ˜¯è¢«ç¦æ­¢çš„</strong></p><p>SSH å…å¯†ç çš„åŸç†æ˜¯å°†æœ¬æœºçš„ Pubkey å¤åˆ¶åˆ°ç›®æ ‡æœºå™¨çš„ <code>~/.ssh/authorized_keys</code> é‡Œé¢ã€‚å¯ä»¥æ‰‹å·¥å¤åˆ¶ç²˜è´´ï¼Œä¹Ÿå¯ä»¥ ssh-copy-id ç­‰ã€‚</p><p>å¦‚æœæœ‰ 100 å°æœºå™¨ï¼Œäº’ç›¸ä¸¤ä¸¤æ‰“é€šè¿˜æ˜¯æ¯”è¾ƒè´¹äº‹ï¼ˆå¤§æ¦‚éœ€è¦100*99æ¬¡ copy keyï¼‰ã€‚ ä¸‹é¢é€šè¿‡ expect æ¥è§£å†³è¾“å…¥å¯†ç ï¼Œç„¶åé…åˆ Shell è„šæœ¬æ¥æ‰¹é‡è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p><img src="https://img.hi-linux.com/staticfile/OkaCp5-2024-01-22-dxXOti.png" alt></p><p>è¿™ä¸ªè„šæœ¬éœ€è¦å››ä¸ªå‚æ•°ï¼šç›®æ ‡IPã€ç”¨æˆ·åã€å¯†ç ã€Home ç›®å½•ï¼Œä¹Ÿå°±æ˜¯ SSH åˆ°ä¸€å°æœºå™¨çš„æ—¶å€™å¸®æˆ‘ä»¬è‡ªåŠ¨å¡«ä¸Š yesï¼Œå’Œå¯†ç ï¼Œè¿™æ ·å°±ä¸éœ€è¦äººè‚‰ä¸€ä¸ªä¸ªè¾“å…¥äº†ã€‚</p><p>å†åœ¨å¤–é¢å†™ä¸€ä¸ªå¾ªç¯å¯¹æ¯ä¸ª IP æ‰§è¡Œå¦‚ä¸‹æ“ä½œï¼š</p><p><img src="https://img.hi-linux.com/staticfile/S3qQYl-2024-01-22-BqCQTy.png" alt></p><p>if ä»£ç éƒ¨åˆ†æ£€æŸ¥æœ¬æœº ~/.ssh/ ä¸‹æœ‰æ²¡æœ‰ id_rsa.pubï¼Œä¹Ÿå°±æ˜¯æ˜¯å¦ä»¥å‰ç”Ÿæˆè¿‡å¯†é’¥å¯¹ï¼Œæ²¡ç”Ÿæˆçš„è¯å°±å¸®å¿™ç”Ÿæˆä¸€æ¬¡ã€‚</p><p>for å¾ªç¯éƒ¨åˆ†ä¸€æ¬¡æŠŠç”Ÿæˆçš„å¯†é’¥å¯¹å’Œ authorized_keys å¤åˆ¶åˆ°æ‰€æœ‰æœºå™¨ä¸Šï¼Œè¿™æ ·æ‰€æœ‰æœºå™¨ä¹‹é—´éƒ½ä¸éœ€è¦è¾“å…¥å¯†ç å°±èƒ½äº’ç›¸ç™»é™†äº†ï¼ˆå½“ç„¶æœ¬æœºä¹Ÿä¸éœ€è¦è¾“å…¥å¯†ç ç™»å½•æ‰€æœ‰æœºå™¨ï¼‰</p><p>æœ€åä¸€è¡Œä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh $user@$n &quot;hostname -i&quot;</span><br></pre></td></tr></table></figure><p>éªŒè¯ä¸€ä¸‹æ²¡æœ‰è¾“å¯†ç æ˜¯å¦èƒ½æˆåŠŸ SSH ä¸Šå»ã€‚</p><p><strong>æ€è€ƒä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆåšå°±å¯ä»¥æ‰“é€šä¸¤ä¸¤ä¹‹é—´çš„å…å¯†ç ç™»å½•ï¼Œè¿™é‡Œæ²¡æœ‰æŠŠæ‰€æœ‰æœºå™¨çš„ PubKey å¤åˆ¶åˆ°å…¶ä»–æ‰€æœ‰æœºå™¨ä¸Šå»å•Š</strong></p><blockquote><p>ç­”æ¡ˆï¼šå…¶å®è¿™ä¸ªè„šæœ¬åšäº†ä¸€ä¸ªå–å·§æŠ•æœºçš„äº‹ï¼Œé‚£å°±æ˜¯è®©æ‰€æœ‰æœºå™¨å…±äº«ä¸€å¥—å…¬é’¥ã€ç§é’¥ã€‚<br>æœ‰æ—¶å€™æˆ‘ä¹Ÿä¼šæŠŠæˆ‘çš„ Windows ç¬”è®°æœ¬å’Œæˆ‘ä¸“ç”¨çš„æŸå°è™šæ‹Ÿæœºå…±äº«ä¸€å¥—ç§˜é’¥ï¼Œè¿™æ ·ä»»ä½•æ–°ç”³è¯·çš„æœºå™¨æ‰“é€šä¸€æ¬¡è´¦å·å°±å¯ä»¥åœ¨ä¸¤å°æœºå™¨ä¸Šéšä¾¿ç™»å½•ã€‚è¯·ä¿æŠ¤å¥½è‡ªå·±çš„ç§é’¥</p></blockquote><p>å¦‚æœå…å¯†å†™å…¥ authorized_keys æˆåŠŸï¼Œä½†æ˜¯é€šè¿‡ SSH Pubkey è®¤è¯çš„æ—¶å€™è¿˜æ˜¯æœ‰å¯èƒ½å¤±è´¥ï¼Œè¿™æ˜¯å› ä¸º Pubkey è®¤è¯è¦æ±‚ï¼š</p><ul><li>authorized_keys  æ–‡ä»¶æƒé™è¦å¯¹</li><li>.ssh æ–‡ä»¶å¤¹æƒé™è¦å¯¹</li><li>/home/user æ–‡ä»¶å¤¹æƒé™è¦å¯¹ ----è¿™ä¸ªå®¹æ˜“å¿½è§†æ‰</li></ul><h2><span id="ç•™ä¸ªä½œä¸šç¬¬ä¸€æ¬¡-ssh-æŸå°æœºå™¨çš„æ—¶å€™æ€»æ˜¯å‡ºæ¥ä¸€ä¸ªè­¦å‘Šéœ€è¦-yes-ç¡®è®¤æ‰èƒ½å¾€ä¸‹èµ°æ€ä¹ˆå¹²æ‰ä»–">ç•™ä¸ªä½œä¸šï¼šç¬¬ä¸€æ¬¡ SSH æŸå°æœºå™¨çš„æ—¶å€™æ€»æ˜¯å‡ºæ¥ä¸€ä¸ªè­¦å‘Šï¼Œéœ€è¦ Yes ç¡®è®¤æ‰èƒ½å¾€ä¸‹èµ°ï¼Œæ€ä¹ˆå¹²æ‰ä»–ï¼Ÿ</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; StrictHostKeyChecking&#x3D;no</span><br><span class="line">&gt; UserKnownHostsFile&#x3D;&#x2F;dev&#x2F;null</span><br></pre></td></tr></table></figure><p><strong>è¿™é‡Œåªæ˜¯å¸®å¤§å®¶å…¥é—¨äº†è§£ SSH ï¼ŒæŒæ¡å¥½è¿™äº›é…ç½®æ–‡ä»¶å’Œ -vvv åæœ‰å¥½å¤šå¥½ç©çš„å¯ä»¥å»æŒ–æ˜ï¼ŒåŒæ—¶ä¹Ÿè¯·åœ¨ç•™è¨€ä¸­è¯´å‡ºä½ çš„é»‘æŠ€èƒ½</strong></p><h2><span id="~sshconfig-å‚è€ƒé…ç½®">~/.ssh/config å‚è€ƒé…ç½®</span></h2><p>ä¸‹é¢æ˜¯æˆ‘ä¸ªäººå¸¸ç”¨çš„ SSH Config é…ç½®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">cat ~/.ssh/config</span></span><br><span class="line"><span class="meta">#</span><span class="bash">GSSAPIAuthentication=no</span></span><br><span class="line">StrictHostKeyChecking=no</span><br><span class="line"><span class="meta">#</span><span class="bash">TCPKeepAlive=yes</span></span><br><span class="line">CheckHostIP=no</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="string">"ServerAliveInterval [seconds]"</span> configuration <span class="keyword">in</span> the SSH configuration so that your ssh client sends a <span class="string">"dummy packet"</span> on a regular interval so that the router thinks that the connection is active even <span class="keyword">if</span> it<span class="string">'s particularly quiet</span></span></span><br><span class="line">ServerAliveInterval=15</span><br><span class="line"><span class="meta">#</span><span class="bash">ServerAliveCountMax=6</span></span><br><span class="line">ForwardAgent=yes</span><br><span class="line"></span><br><span class="line">UserKnownHostsFile /dev/null</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">reuse the same connection</span></span><br><span class="line">ControlMaster auto</span><br><span class="line">ControlPath /tmp/ssh_mux_%h_%p_%r</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">keep one connection <span class="keyword">in</span> 72hour</span></span><br><span class="line">ControlPersist 72h</span><br><span class="line"></span><br><span class="line">Host 192.168.1.*</span><br><span class="line">ProxyCommand ssh user@us.jump exec /usr/bin/nc %h %p 2&gt;/dev/null</span><br><span class="line">Host 192.168.2.*</span><br><span class="line">ProxyCommand ssh user@cn.jump exec /usr/bin/nc %h %p 2&gt;/dev/null</span><br><span class="line"><span class="meta">#</span><span class="bash">ProxyCommand /bin/nc -x localhost:12346 %h %p</span></span><br><span class="line"></span><br><span class="line">Host 172</span><br><span class="line">    HostName 10.172.1.1</span><br><span class="line">    Port 22</span><br><span class="line">    User root</span><br><span class="line">    ProxyJump root@1.2.3.4:12345</span><br><span class="line"></span><br><span class="line">Host 176</span><br><span class="line">    HostName 10.176.1.1</span><br><span class="line">    Port 22</span><br><span class="line">    User root</span><br><span class="line">    ProxyJump admin@1.2.3.4:12346</span><br><span class="line">    </span><br><span class="line">Host 10.5.*.*, 10.*.*.*</span><br><span class="line">    port 22</span><br><span class="line">user root</span><br><span class="line">ProxyJump plantegg@1.2.3.4:12347</span><br></pre></td></tr></table></figure><p>ProxyJump å®Œå…¨å¯ä»¥å–ä»£ ProxyCommandï¼Œæ¯”å¦‚ ProxyJump ä¸å†ä¾èµ– ncã€ä¹Ÿæ›´çµæ´»ä¸€äº›ã€‚</p><h2><span id="etcsshssh_config-å‚è€ƒé…ç½®">/etc/ssh/ssh_config å‚è€ƒé…ç½®</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Host *</span><br><span class="line">Protocol 2</span><br><span class="line">ServerAliveInterval 30</span><br><span class="line">User admin</span><br><span class="line"></span><br><span class="line">host 10.10.55.*</span><br><span class="line">ProxyCommand ssh -l admin admin.jump  exec &#x2F;usr&#x2F;bin&#x2F;nc %h %p</span><br><span class="line"></span><br><span class="line"># uos is a hostname</span><br><span class="line">Host 10.10.1.13* 192.168.2.133 uos</span><br><span class="line">ProxyCommand ssh -l root -p 54900 1.1.1.1 exec &#x2F;usr&#x2F;bin&#x2F;nc %h %p</span><br><span class="line"></span><br><span class="line">#debug for git proxy</span><br><span class="line">Host github.com</span><br><span class="line">#    LogLevel DEBUG3</span><br><span class="line">#    ProxyCommand ssh  -l root gfw.jump exec &#x2F;usr&#x2F;bin&#x2F;nc %h %p</span><br><span class="line">#    ProxyCommand ssh -oProxyCommand&#x3D;&#39;ssh -l admin gfw.jump:22&#39; -l root gfw.jump2 exec &#x2F;usr&#x2F;bin&#x2F;nc %h %p</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ForwardAgent yes</span><br><span class="line">ForwardX11 yes</span><br><span class="line">ForwardX11Trusted yes</span><br><span class="line"></span><br><span class="line">    SendEnv LANG LC_*</span><br><span class="line">    HashKnownHosts yes</span><br><span class="line">    GSSAPIAuthentication no</span><br><span class="line">    GSSAPIDelegateCredentials no</span><br><span class="line">    Compression yes</span><br></pre></td></tr></table></figure><h2><span id="å…¶ä»–çŸ¥è¯†ç‚¹">å…¶ä»–çŸ¥è¯†ç‚¹</span></h2><p>å‚æ•°çš„ä¼˜å…ˆçº§æ˜¯ï¼š<strong>å‘½ä»¤è¡Œé…ç½®é€‰é¡¹ &gt; ~/.ssh/config &gt; /etc/ssh/ssh_config</strong></p><p>åœ¨ SSH çš„ <strong>èº«ä»½éªŒè¯é˜¶æ®µï¼ŒSSHåªæ”¯æŒæœåŠ¡ç«¯ä¿ç•™å…¬é’¥ï¼Œå®¢æˆ·ç«¯ä¿ç•™ç§é’¥çš„æ–¹å¼</strong>ï¼Œæ‰€ä»¥æ–¹å¼åªæœ‰ä¸¤ç§ï¼šå®¢æˆ·ç«¯ç”Ÿæˆå¯†é’¥å¯¹ï¼Œå°†å…¬é’¥åˆ†å‘ç»™æœåŠ¡ç«¯ï¼›æœåŠ¡ç«¯ç”Ÿæˆå¯†é’¥å¯¹ï¼Œå°†ç§é’¥åˆ†å‘ç»™å®¢æˆ·ç«¯ã€‚åªä¸è¿‡å‡ºäºå®‰å…¨æ€§å’Œä¾¿åˆ©æ€§ï¼Œä¸€èˆ¬éƒ½æ˜¯å®¢æˆ·ç«¯ç”Ÿæˆå¯†é’¥å¯¹å¹¶åˆ†å‘å…¬é’¥ï¼ˆé˜¿é‡Œäº‘æœåŠ¡å™¨ç§˜é’¥å¯¹â€“æœåŠ¡å™¨å°†ä¸€å¯¹å¯†é’¥ä¸­çš„å…¬é’¥æ”¾åœ¨ authorized_keys, ç§é’¥ç»™clientç™»é™†ç”¨ï¼‰</p><p>æœåŠ¡å™¨ä¸Šçš„ <code>/etc/ssh/ssh_host*</code> æ˜¯ç”¨æ¥éªŒè¯æœåŠ¡å™¨èº«ä»½çš„ç§˜é’¥å¯¹ï¼ˆå¯¹åº” Clientçš„ Known_hosts), <strong>åœ¨ä¸»æœºéªŒè¯é˜¶æ®µï¼ŒæœåŠ¡ç«¯æŒæœ‰çš„æ˜¯ç§é’¥ï¼Œå®¢æˆ·ç«¯ä¿å­˜çš„æ˜¯æ¥è‡ªäºæœåŠ¡ç«¯çš„å…¬é’¥ã€‚æ³¨æ„ï¼Œè¿™å’Œèº«ä»½éªŒè¯é˜¶æ®µå¯†é’¥çš„æŒæœ‰æ–¹æ˜¯ç›¸åçš„ã€‚</strong></p><p>SSH æ”¯æŒå¤šç§èº«ä»½éªŒè¯æœºåˆ¶ï¼Œ<strong>å®ƒä»¬çš„éªŒè¯é¡ºåºå¦‚ä¸‹ï¼šgssapi-with-mic,hostbased,publickey,keyboard-interactive,password</strong>ï¼Œä½†å¸¸è§çš„æ˜¯å¯†ç è®¤è¯æœºåˆ¶ (password) å’Œå…¬é’¥è®¤è¯æœºåˆ¶ (public key). å½“å…¬é’¥è®¤è¯æœºåˆ¶æœªé€šè¿‡æ—¶ï¼Œå†è¿›è¡Œå¯†ç è®¤è¯æœºåˆ¶çš„éªŒè¯ã€‚è¿™äº›è®¤è¯é¡ºåºå¯ä»¥é€šè¿‡ SSH é…ç½®æ–‡ä»¶(æ³¨æ„ï¼Œä¸æ˜¯sshd çš„é…ç½®æ–‡ä»¶)ä¸­çš„æŒ‡ä»¤ PreferredAuthentications æ”¹å˜ã€‚</p><h3><span id="æ°¸ä¹…éš§é“">æ°¸ä¹…éš§é“</span></h3><p>å¤§å¤šæ—¶å€™éš§é“ä¼šå¤±æ•ˆï¼Œæˆ–è€…æ–­å¼€ï¼Œæˆ‘ä»¬éœ€è¦æœ‰é‡è¿æœºåˆ¶ï¼Œä¸€èˆ¬å¯ä»¥é€šè¿‡ autosshï¼ˆéœ€è¦å•ç‹¬å®‰è£…ï¼‰æå®šè‡ªåŠ¨é‡è¿ï¼Œå†é…åˆ Systemd æˆ–è€… Crond æå®šæ°¸ä¹…è‡ªåŠ¨é‡è¿</p><p>æ¯”å¦‚ä»¥ä¸‹ä»£ç åœ¨ gf å¼€å¯ 2 ä¸ªè¿œç¨‹è½¬å‘ç«¯å£</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">remote_port&#x3D;(30081 30082)</span><br><span class="line">for port in &quot;$&#123;remote_port[@]&#125;&quot;</span><br><span class="line">do</span><br><span class="line">    line&#x3D;&#96;ps aux |grep ssh |grep $port | wc -l&#96;</span><br><span class="line">    if [[ &quot;$line&quot; -lt 1 ]]; then</span><br><span class="line">        autossh -M 0 -fNR gf:$port:127.0.0.1:22 root@gf</span><br><span class="line">    fi;</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">line&#x3D;&#96;ps aux |grep ssh |grep 13129 | wc -l&#96;</span><br><span class="line">if [[ &quot;$line&quot; -lt 1 ]]; then</span><br><span class="line">    nohup ssh -fNR gf:13129:172.16.1.2:3129 root@gf</span><br><span class="line">fi;</span><br><span class="line"></span><br><span class="line">#cat &#x2F;etc&#x2F;cron.d&#x2F;jump</span><br><span class="line">#* * * * * root sh &#x2F;root&#x2F;drds_private_cloud&#x2F;jump.sh</span><br></pre></td></tr></table></figure><p>æˆ–è€…å¦å¤–åˆ›å»ºä¸€ä¸ª Service æœåŠ¡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description&#x3D;AutoSSH tunnel on 31081 to gf server</span><br><span class="line">After&#x3D;network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Environment&#x3D;&quot;AUTOSSH_GATETIME&#x3D;0&quot;</span><br><span class="line">ExecStart&#x3D;&#x2F;usr&#x2F;bin&#x2F;autossh -M 0 -q -N -o &quot;ServerAliveInterval 60&quot; -o &quot;ServerAliveCountMax 3&quot; -NR gf:31081:172.16.1.2:22 -i &#x2F;root&#x2F;.ssh&#x2F;id_rsa root@gf</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy&#x3D;multi-user.target</span><br></pre></td></tr></table></figure><h3><span id="è°ƒè¯•-sshç»ˆæå¤§æ‹›">è°ƒè¯• SSHâ€“ç»ˆæå¤§æ‹›</span></h3><p>å¥½å¤šé—®é¢˜æˆ‘éƒ½æ˜¯ Debug å‘ç°çš„</p><ul><li>å®¢æˆ·ç«¯å¢åŠ å‚æ•° -vvv ä¼šæŠŠæ‰€æœ‰æµç¨‹åœ¨æ§åˆ¶å°æ˜¾ç¤ºå‡ºæ¥ã€‚å¡åœ¨å“ªä¸ªç¯èŠ‚ï¼›å¯†ç ä¸å¯¹è¿˜æ˜¯ Key ä¸å¯¹ä¸€çœ‹å°±çŸ¥é“</li><li>server ç«¯è¿˜å¯ä»¥ï¼š<code>/usr/sbin/sshd -ddd -p 2222</code> åœ¨ 2222 ç«¯å£å¯¹ sshd è¿›è¡Œ Debugï¼Œçœ‹è¾“å‡ºä¿¡æ¯éªŒè¯ä¸ºä»€ä¹ˆ pubkey ä¸èƒ½ Login ç­‰. ä¸€èˆ¬éƒ½æ˜¯æƒé™ä¸å¯¹ï¼Œ/root ä»¥åŠ /root/.ssh æ–‡ä»¶å¤¹çš„æƒé™å’Œowneréƒ½è¦å¯¹ï¼Œæ›´ä¸è¦è¯´ /root/.ssh/authorized_keys äº†</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;usr&#x2F;sbin&#x2F;sshd -ddd -p 2222</span><br></pre></td></tr></table></figure><h3><span id="ssh-æç¤ºä¿¡æ¯"></span></h3><p>å¯ä»¥ç”¨ä¸€ä¸‹è„šæœ¬ç”Ÿæˆä¸€ä¸ªå½©è‰²æ–‡ä»¶ï¼Œæ”¾åˆ° /etc/motd ä¸­å°±è¡Œ</p><p>Basic colors are numbered:</p><ul><li>1 â€“ Red</li><li>2 â€“ Green</li><li>3 â€“ Yellow</li><li>4 â€“ Blue</li><li>5 â€“ Magenta</li><li>6 â€“ Cyan</li><li>7 â€“ White</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line">export TERM=xterm-256color</span><br><span class="line"></span><br><span class="line">read one five fifteen rest &lt; /proc/loadavg</span><br><span class="line">echo "$(tput setaf 2)</span><br><span class="line">Kernel: `uname -v | awk -v OFS=' ' '&#123;print $4, $5&#125;'`</span><br><span class="line">                                                                                                                                   </span><br><span class="line">        \\   ^__^</span><br><span class="line">         \\  (oo)\\_______</span><br><span class="line">            (__)\\       )\\\/\\</span><br><span class="line">                ||----w |</span><br><span class="line">                ||     ||</span><br><span class="line"></span><br><span class="line">æœ¬æœºå™¨ä¸ºé•¿ç¨³æµ‹è¯•ç¯å¢ƒ, åƒä¸‡ä¸è¦killè¿›ç¨‹, ä¸è¦è·‘è´Ÿè½½è¿‡é‡çš„ä»»åŠ¡</span><br><span class="line"></span><br><span class="line">æœ‰ä»»ä½•éœ€è¦è¯·è”ç³» ** å¤šè°¢!</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash">(tput setaf 4)Load Averages......: <span class="variable">$&#123;one&#125;</span>, <span class="variable">$&#123;five&#125;</span>, <span class="variable">$&#123;fifteen&#125;</span> (1, 5, 15 min)</span></span><br><span class="line"><span class="meta">$</span><span class="bash">(tput setaf 5)</span></span><br><span class="line"> ______________</span><br><span class="line">æœ¬æœºå™¨ä¸ºé•¿ç¨³æµ‹è¯•ç¯å¢ƒ, åƒä¸‡ä¸è¦killè¿›ç¨‹, ä¸è¦è·‘è´Ÿè½½è¿‡é‡çš„ä»»åŠ¡</span><br><span class="line"></span><br><span class="line">æœ‰ä»»ä½•éœ€è¦è¯·è”ç³» ** å¤šè°¢!</span><br><span class="line"> --------------</span><br><span class="line">        \\   ^__^</span><br><span class="line">         \\  (oo)\\_______</span><br><span class="line">            (__)\\       )\\\/\\</span><br><span class="line">                ||----w |</span><br><span class="line">                ||     ||</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash">(tput sgr0)<span class="string">"</span></span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šè„šæœ¬è¿è¡Œç»“æœ</p><p><img src="https://img.hi-linux.com/staticfile/8Hcheo-2024-01-22-Cpn0tg.png" alt></p><h3><span id="sshd-banner">SSHD Banner</span></h3><p><code>Banner</code>æŒ‡å®šç”¨æˆ·ç™»å½•åï¼Œsshd å‘å…¶å±•ç¤ºçš„ä¿¡æ¯æ–‡ä»¶ï¼ˆ<code>Banner /usr/local/etc/warning.txt</code>ï¼‰ï¼Œé»˜è®¤ä¸å±•ç¤ºä»»ä½•å†…å®¹ã€‚</p><p>æˆ–è€…é…ç½®ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cat &#x2F;etc&#x2F;ssh&#x2F;sshd_config</span><br><span class="line"># no default banner path</span><br><span class="line">#Banner none</span><br><span class="line">#åœ¨é…ç½®æ–‡ä»¶æœ«å°¾æ·»åŠ Banner &#x2F;etc&#x2F;ssh&#x2F;my_bannerè¿™ä¸€è¡Œå†…å®¹ï¼š</span><br><span class="line">Banner &#x2F;etc&#x2F;ssh&#x2F;my_banner</span><br></pre></td></tr></table></figure><p><code>/etc/ssh/my_banner</code> ä¸­å¯ä»¥æ”¾ç½®æç¤ºå†…å®¹ã€‚</p><h3><span id="éªŒè¯ç§˜é’¥å¯¹">éªŒè¯ç§˜é’¥å¯¹</span></h3><p><strong>-y</strong> Read a private OpenSSH format file and print an OpenSSH public key to stdout.</p><blockquote><p>cd ~/.ssh/ ; ssh-keygen -y -f id_rsa | cut -dâ€™ â€™ -f 2  ;  cut -dâ€™ â€™ -f 2 id_rsa.pub</p></blockquote><p><code>ssh-keygen -y -e -f &lt;private key&gt;</code>è·å–ä¸€ä¸ªç§é’¥å¹¶æ‰“å°ç›¸åº”çš„å…¬é’¥ï¼Œè¯¥å…¬é’¥å¯ä»¥ç›´æ¥ä¸æ‚¨å¯ç”¨çš„å…¬é’¥è¿›è¡Œæ¯”è¾ƒ</p><h3><span id="github-ä¸Šä½ çš„å…¬é’¥">Github ä¸Šä½ çš„å…¬é’¥</span></h3><p>Github å¯ä»¥å–åˆ°ä½ çš„å…¬é’¥ï¼Œå¦‚æœåˆ«äººè®©ä½ æŸ¥çœ‹ä»–çš„æœåŠ¡å™¨ï¼Œç›´æ¥ç»™ <a href="https://github.com/plantegg.keys" target="_blank" rel="noopener">https://github.com/plantegg.keys</a> è¿™ä¸ªé“¾æ¥ï¼Œè®©ä»–æŠŠä¸‹è½½çš„ Key åŠ åˆ° ~/.ssh/authorized_keys é‡Œé¢å°±è¡Œäº†ã€‚</p><h3><span id="é€šè¿‡-ssh-keygen-ç”Ÿæˆå…¬é’¥">é€šè¿‡ ssh-keygen ç”Ÿæˆå…¬é’¥</span></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -q -t rsa -N '' -f ~/.ssh/id_rsa &lt;&lt;&lt;y</span><br><span class="line">ssh-keygen -q -t rsa -N '' -f ~/.ssh/id_rsa &lt;&lt;&lt;y &gt;/dev/null 2&gt;&amp;1</span><br><span class="line"></span><br><span class="line">//ä¿®æ”¹ Passphrase</span><br><span class="line">ssh-keygen -p -P "12345" -N "abcde" -f .ssh/id_rsa</span><br><span class="line">//ssh-keygen -p [-P old_passphrase] [-N new_passphrase] [-f keyfile]</span><br><span class="line">//æˆ–è€…ç›´æ¥é€šè¿‡æç¤ºä¸€æ­¥æ­¥ä¿®æ”¹ï¼š</span><br><span class="line">ssh-keygen -p</span><br></pre></td></tr></table></figure><p>åˆ é™¤æˆ–è€…ä¿®æ”¹ Passphrase</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt; run &#96;ssh-keygen -p&#96; in a terminal. It will then prompt you for a keyfile (defaulted to the correct file for me, &#96;~&#x2F;.ssh&#x2F;id_rsa&#96;), the old passphrase (enter what you have now) and the new passphrase (enter nothing). </span><br><span class="line"></span><br><span class="line">[è¦æ³¨æ„ OpenSSH ä¸åŒç‰ˆæœ¬ä½¿ç”¨çš„ä¸åŒ format](https:&#x2F;&#x2F;www.ibm.com&#x2F;support&#x2F;pages&#x2F;openssl-wont-understand-rsa-keys-rfc4716-format)ï¼Œç”¨ OpenSSH 8.0 é»˜è®¤ç”¨ &quot;RFC4716&quot; æ ¼å¼ï¼Œè€çš„ 4.0 é»˜è®¤æ˜¯ PKCS8 æ ¼å¼</span><br><span class="line"></span><br><span class="line">å»ä¿®æ”¹ DSA å¯†é’¥å Openssh 4.0 ä¸è®¤ã€‚ </span><br><span class="line"></span><br><span class="line">&gt; -m key_format</span><br><span class="line">&gt;         Specify a key format for the -i (import) or -e (export) conversion options.  The supâ€</span><br><span class="line">&gt;         ported key formats are: â€œRFC4716â€ (RFC 4716&#x2F;SSH2 public or private key), â€œPKCS8â€ (PEM</span><br><span class="line">&gt;         PKCS8 public key) or â€œPEMâ€ (PEM public key).  The default conversion format is</span><br><span class="line">&gt;         â€œRFC4716â€.</span><br></pre></td></tr></table></figure><p>å¦‚æœç”¨ 8.0 å»ä¿®æ”¹ PKCS8 æ ¼å¼çš„ key å¯ä»¥æŒ‡å®šæ ¼å¼å‚æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -p  -m &quot;PKCS8&quot; -f .&#x2F;id_dsa</span><br></pre></td></tr></table></figure><h3><span id="ssh-agent">SSH-Agent</span></h3><p>ç§é’¥è®¾ç½®äº†å¯†ç ä»¥åï¼Œæ¯æ¬¡ä½¿ç”¨éƒ½å¿…é¡»è¾“å…¥å¯†ç ï¼Œæœ‰æ—¶è®©äººæ„Ÿè§‰éå¸¸éº»çƒ¦ã€‚æ¯”å¦‚ï¼Œè¿ç»­ä½¿ç”¨<code>scp</code>å‘½ä»¤è¿œç¨‹æ‹·è´æ–‡ä»¶æ—¶ï¼Œæ¯æ¬¡éƒ½è¦æ±‚è¾“å…¥å¯†ç ã€‚</p><p><code>ssh-agent</code>å‘½ä»¤å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œè®¾è®¡çš„ï¼Œå®ƒè®©ç”¨æˆ·åœ¨æ•´ä¸ª Bash å¯¹è¯ï¼ˆsessionï¼‰ä¹‹ä¸­ï¼Œåªåœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨ SSH å‘½ä»¤æ—¶è¾“å…¥å¯†ç ï¼Œç„¶åå°†ç§é’¥ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œåé¢éƒ½ä¸éœ€è¦å†è¾“å…¥ç§é’¥çš„å¯†ç äº†ã€‚</p><p>ç¬¬ä¸€æ­¥ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ–°å»ºä¸€æ¬¡å‘½ä»¤è¡Œå¯¹è¯ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ eval &#96;ssh-agent&#96;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢å‘½ä»¤ä¸­ï¼Œ<code>ssh-agent</code> ä¼šå…ˆè‡ªåŠ¨åœ¨åå°è¿è¡Œï¼Œå¹¶å°†éœ€è¦è®¾ç½®çš„ç¯å¢ƒå˜é‡è¾“å‡ºåœ¨å±å¹•ä¸Šï¼Œç±»ä¼¼ä¸‹é¢è¿™æ ·ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-agent</span><br><span class="line">SSH_AUTH_SOCK&#x3D;&#x2F;tmp&#x2F;ssh-barrett&#x2F;ssh-22841-agent; export SSH_AUTH_SOCK;</span><br><span class="line">SSH_AGENT_PID&#x3D;22842; export SSH_AGENT_PID;</span><br><span class="line">echo Agent pid 22842;</span><br></pre></td></tr></table></figure><p><code>eval</code>å‘½ä»¤çš„ä½œç”¨ï¼Œå°±æ˜¯è¿è¡Œä¸Šé¢çš„ <code>ssh-agent</code> å‘½ä»¤çš„è¾“å‡ºï¼Œè®¾ç½®ç¯å¢ƒå˜é‡ã€‚</p><p>ç¬¬äºŒæ­¥ï¼Œåœ¨æ–°å»ºçš„ Shell å¯¹è¯é‡Œé¢ï¼Œä½¿ç”¨ <code>ssh-add</code> å‘½ä»¤æ·»åŠ é»˜è®¤çš„ç§é’¥ï¼ˆæ¯”å¦‚<code>~/.ssh/id_rsa</code>ï¼Œæˆ–<code>~/.ssh/id_dsa</code>ï¼Œæˆ–<code>~/.ssh/id_ecdsa</code>ï¼Œæˆ–<code>~/.ssh/id_ed25519</code>ï¼‰ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-add</span><br><span class="line">Enter passphrase for &#x2F;home&#x2F;you&#x2F;.ssh&#x2F;id_dsa: ********</span><br><span class="line">Identity added: &#x2F;home&#x2F;you&#x2F;.ssh&#x2F;id_dsa (&#x2F;home&#x2F;you&#x2F;.ssh&#x2F;id_dsa)</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä¾‹å­ä¸­ï¼Œæ·»åŠ ç§é’¥æ—¶ï¼Œä¼šè¦æ±‚è¾“å…¥å¯†ç ã€‚ä»¥åï¼Œåœ¨è¿™ä¸ªå¯¹è¯é‡Œé¢å†ä½¿ç”¨å¯†é’¥æ—¶ï¼Œå°±ä¸éœ€è¦è¾“å…¥ç§é’¥çš„å¯†ç äº†ï¼Œå› ä¸ºç§é’¥å·²ç»åŠ è½½åˆ°å†…å­˜é‡Œé¢äº†ã€‚</p><p>å¦‚æœæ·»åŠ çš„ä¸æ˜¯é»˜è®¤ç§é’¥ï¼Œ<code>ssh-add</code>å‘½ä»¤éœ€è¦æ˜¾å¼æŒ‡å®šç§é’¥æ–‡ä»¶ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-add my-other-key-file</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„å‘½ä»¤ä¸­ï¼Œ<code>my-other-key-file</code>å°±æ˜¯ç”¨æˆ·æŒ‡å®šçš„ç§é’¥æ–‡ä»¶ã€‚</p><p>SSH agent ç¨‹åºèƒ½å¤Ÿå°†æ‚¨çš„å·²è§£å¯†çš„ç§é’¥ç¼“å­˜èµ·æ¥ï¼Œåœ¨éœ€è¦çš„æ—¶å€™ç”¨å®ƒæ¥è§£å¯†key chanllgeè¿”å›ç»™ SSHD  <a href="https://webcache.googleusercontent.com/search?q=cache:7OfvSBFki10J:https://www.ibm.com/developerworks/cn/linux/security/openssh/part2/+&amp;cd=7&amp;hl=en&amp;ct=clnk&amp;gl=hk" target="_blank" rel="noopener">https://webcache.googleusercontent.com/search?q=cache:7OfvSBFki10J:https://www.ibm.com/developerworks/cn/linux/security/openssh/part2/+&amp;cd=7&amp;hl=en&amp;ct=clnk&amp;gl=hk</a> keychainä»‹ç»</p><h3><span id="å®‰è£…-sshd-å’Œ-debug">å®‰è£… sshd å’Œ debug</span></h3><p>sshd æœ‰è‡ªå·±çš„ä¸€å¯¹æˆ–å¤šå¯¹å¯†é’¥ã€‚å®ƒä½¿ç”¨å¯†é’¥å‘å®¢æˆ·ç«¯è¯æ˜è‡ªå·±çš„èº«ä»½ã€‚æ‰€æœ‰å¯†é’¥éƒ½æ˜¯å…¬é’¥å’Œç§é’¥æˆå¯¹å‡ºç°ï¼Œå…¬é’¥çš„æ–‡ä»¶åä¸€èˆ¬æ˜¯ç§é’¥æ–‡ä»¶ååŠ ä¸Šåç¼€<code>.pub</code>ã€‚</p><p>DSA æ ¼å¼çš„å¯†é’¥æ–‡ä»¶é»˜è®¤ä¸º <code>/etc/ssh/ssh_host_dsa_key</code>ï¼ˆå…¬é’¥ä¸º<code>ssh_host_dsa_key.pub</code>ï¼‰ï¼ŒRSA æ ¼å¼çš„å¯†é’¥ä¸º <code>/etc/ssh/ssh_host_rsa_key</code>ï¼ˆå…¬é’¥ä¸º <code>ssh_host_rsa_key.pub</code>ï¼‰ã€‚å¦‚æœéœ€è¦æ”¯æŒ SSH 1 åè®®ï¼Œåˆ™å¿…é¡»æœ‰å¯†é’¥<code>/etc/ssh/ssh_host_key</code>ã€‚</p><p>å¦‚æœå¯†é’¥ä¸æ˜¯é»˜è®¤æ–‡ä»¶ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶ <code>sshd_config</code> çš„ <code>HostKey</code> é…ç½®é¡¹æŒ‡å®šã€‚é»˜è®¤å¯†é’¥çš„ <code>HostKey</code> è®¾ç½®å¦‚ä¸‹ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># HostKey for protocol version 1</span><br><span class="line"># HostKey &#x2F;etc&#x2F;ssh&#x2F;ssh_host_key</span><br><span class="line"></span><br><span class="line"># HostKeys for protocol version 2</span><br><span class="line"># HostKey &#x2F;etc&#x2F;ssh&#x2F;ssh_host_rsa_key</span><br><span class="line"># HostKey &#x2F;etc&#x2F;ssh&#x2F;ssh_host_dsa_ke</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œå¦‚æœé‡è£… sshdï¼Œ<code>/etc/ssh</code>ä¸‹çš„å¯†é’¥éƒ½ä¼šé‡æ–°ç”Ÿæˆï¼ˆè¿™äº›å¯†é’¥å¯¹ç”¨äºéªŒè¯Serverçš„èº«ä»½ï¼‰ï¼Œå¯¼è‡´å®¢æˆ·ç«¯é‡æ–° ssh è¿æ¥æœåŠ¡å™¨æ—¶ï¼Œä¼šè·³å‡ºè­¦å‘Šï¼Œæ‹’ç»è¿æ¥ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œå¯ä»¥åœ¨é‡è£… sshd æ—¶ï¼Œå…ˆå¤‡ä»½<code>/etc/ssh</code>ç›®å½•ï¼Œé‡è£…åå†æ¢å¤è¿™ä¸ªç›®å½•ã€‚</p><blockquote><p>è°ƒè¯•ï¼šéåå°(-D)å’Œdebug(-d)æ¨¡å¼å¯åŠ¨sshdï¼ŒåŒæ—¶ç›‘å¬2222å’Œ3333ç«¯å£</p><p>sshd -D -d -p 2222 -p 3333</p></blockquote><p>sshd config é…ç½®å¤šç«¯å£</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#cat &#x2F;etc&#x2F;ssh&#x2F;sshd_config</span><br><span class="line">Port 22022</span><br><span class="line">Port 22</span><br><span class="line">#AddressFamily any</span><br><span class="line">#ListenAddress 0.0.0.0</span><br></pre></td></tr></table></figure><h3><span id="scp-è®¾ç½®-socks-ä»£ç†">Scp è®¾ç½® socks ä»£ç†</span></h3><blockquote><p>scp -o â€œProxyCommand=nc -X 5 -x <strong>[SOCKS_HOST]</strong>:<strong>[SOCKS_PORT]</strong> %h %pâ€ <strong>[LOCAL/FILE/PATH]</strong> <strong>[REMOTE_USER]</strong>@<strong>[REMOTE_HOST]</strong>:<strong>[REMOTE/FILE/PATH]</strong></p></blockquote><p>å…¶ä¸­[SOCKS_HOST]å’Œ[SOCKS_PORT]æ˜¯ Socks ä»£ç†çš„ LOCAL_ADDRESS å’Œ LOCAL_PORTã€‚[LOCAL/FILE/PATH]ã€[REMOTE_USER]ã€[REMOTE_HOST]å’Œ[REMOTE/FILE/PATH] åˆ†åˆ«æ˜¯è¦å¤åˆ¶æ–‡ä»¶çš„æœ¬åœ°è·¯å¾„ã€è¦å¤åˆ¶åˆ°çš„è¿œç«¯ä¸»æœºçš„ç”¨æˆ·åã€è¦å¤åˆ¶åˆ°çš„è¿œç«¯ä¸»æœºåã€è¦å¤åˆ¶æ–‡ä»¶çš„è¿œç«¯è·¯å¾„ï¼Œè¿™äº›å‚æ•°ä¸ä¸ä½¿ç”¨ä»£ç†æ—¶ä¸€æ ·ã€‚â€œProxyCommand=ncâ€ è¡¨ç¤ºå½“å‰è¿è¡Œå‘½ä»¤çš„ä¸»æœºä¸Šéœ€è¦æœ‰ nc å‘½ä»¤ã€‚</p><h3><span id="proxycommand">ProxyCommand</span></h3><blockquote><p>Specifies the proxy command for the connection. This command is launched prior to making the connection to Hostname. %h is replaced with the host defined in HostName and %p is replaced with 22 or is overridden by a Port directive.</p></blockquote><p>åœ¨ SSH è¿æ¥ç›®æ ‡ä¸»æœºå‰å…ˆæ‰§è¡Œ ProxyCommand ä¸­çš„å‘½ä»¤ï¼Œæ¯”å¦‚ <code>.ssh/config</code> ä¸­æœ‰å¦‚ä¸‹é…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">host remote-host</span><br><span class="line">ProxyCommand ssh -l root -p 52146 1.2.3.4 exec &#x2F;usr&#x2F;bin&#x2F;nc %h %p</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;ä»¥ä¸Šé…ç½®ç­‰ä»·ä¸‹é¢çš„å‘½ä»¤</span><br><span class="line">ssh -o ProxyCommand&#x3D;&quot;ssh -l root -p 52146 1.2.3.4 exec &#x2F;usr&#x2F;bin&#x2F;nc %h %p&quot; remote-host</span><br><span class="line">&#x2F;&#x2F;or ç­‰ä»·</span><br><span class="line">ssh -o ProxyCommand&#x3D;&quot;ssh -l root -p 52146 -W %h:%p 1.2.3.4 &quot; remote-host</span><br><span class="line">&#x2F;&#x2F;or ç­‰ä»· debug1: Setting implicit ProxyCommand from ProxyJump: ssh -l root -p 52146 -vvv -W &#39;[%h]:%p&#39; 1.2.3.4</span><br><span class="line">ssh -J root@1.2.3.4:52146 remote-host</span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šé…ç½®æŒ‡çš„æ˜¯ï¼Œå¦‚æœæ‰§è¡Œssh remote-host å‘½ä¸­hostè§„åˆ™ï¼Œé‚£ä¹ˆå…ˆæ‰§è¡Œå‘½ä»¤ ssh -l root -p 52146 1.2.3.4 exec /usr/bin/nc åŒæ—¶æŠŠremote-hostå’Œç«¯å£(é»˜è®¤22)ä¼ ç»™nc</p><p>ProxyCommand å’Œ ProxyJump å¾ˆç±»ä¼¼ï¼ŒProxyJump ä½¿ç”¨ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//sshåˆ°centos8æœºå™¨ä¸Šï¼Œèµ°çš„æ˜¯gfè¿™å°è·³æ¿æœºï¼Œæœ¬åœ°ä¸€èˆ¬å’Œcentos8ä¸é€š</span><br><span class="line">ssh -J gf:22 centos8</span><br></pre></td></tr></table></figure><h3><span id="proxyjump">ProxyJump</span></h3><p>éœ€è¦ <code>OpenSSH 7.3</code> ä»¥ä¸Šç‰ˆæœ¬æ‰å¯ä»¥ä½¿ç”¨ <code>ProxyJump</code>, ç›¸å¯¹ ProxyCommand æ›´ç®€æ´æ–¹ä¾¿äº›</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#ssh 116 å°±å¯ä»¥é€šè¿‡ jumpserver:50023 è¿ä¸Š root@1.116.2.1:22</span><br><span class="line">Host 116</span><br><span class="line">    HostName 1.116.2.1</span><br><span class="line">    Port 22</span><br><span class="line">    User root</span><br><span class="line">    ProxyJump admin@jumpserver:50023</span><br><span class="line"></span><br><span class="line">#ssh 1.112.ä»»æ„ip éƒ½ä¼šé»˜è®¤èµ° jumpserver è·³è½¬è¿‡å»</span><br><span class="line">Host 1.112.*.*</span><br><span class="line">    Port 22</span><br><span class="line">    User root</span><br><span class="line">    ProxyJump root@jumpserver</span><br></pre></td></tr></table></figure><h3><span id="åŠ å¯†ç®—æ³•"></span></h3><p>åˆ—å‡ºæœ¬åœ°æ‰€æ”¯æŒé»˜è®¤çš„åŠ å¯†ç®—æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#ssh -Q key                                                            </span><br><span class="line">ssh-ed25519</span><br><span class="line">ssh-ed25519-cert-v01@openssh.com</span><br><span class="line">ssh-rsa</span><br><span class="line">ssh-dss</span><br><span class="line">ecdsa-sha2-nistp256</span><br><span class="line">ecdsa-sha2-nistp384</span><br><span class="line">ecdsa-sha2-nistp521</span><br><span class="line">ssh-rsa-cert-v01@openssh.com</span><br><span class="line">ssh-dss-cert-v01@openssh.com</span><br><span class="line">ecdsa-sha2-nistp256-cert-v01@openssh.com</span><br><span class="line">ecdsa-sha2-nistp384-cert-v01@openssh.com</span><br><span class="line">ecdsa-sha2-nistp521-cert-v01@openssh.com</span><br><span class="line"></span><br><span class="line">ssh -Q cipher       # List supported ciphers</span><br><span class="line">ssh -Q mac          # List supported MACs</span><br><span class="line">ssh -Q key          # List supported public key types</span><br><span class="line">ssh -Q kex          # List supported key exchange algorithms</span><br></pre></td></tr></table></figure><p>æ¯”å¦‚è¿æœåŠ¡å™¨æŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">debug1: kex: algorithm: (no match)</span><br><span class="line">Unable to negotiate with server port 22: no matching key exchange method found. Their offer: diffie-hellman-group1-sha1,diffie-hellman-group14-sha1</span><br></pre></td></tr></table></figure><p>è¡¨ç¤ºæœåŠ¡ç«¯æ”¯æŒ diffie-hellman-group1-sha1,diffie-hellman-group14-sha1 åŠ å¯†ï¼Œä½†æ˜¯clientç«¯ä¸æ”¯æŒï¼Œé‚£ä¹ˆå¯ä»¥æŒ‡å®šç®—æ³•æ¥å¼ºåˆ¶clientç«¯ä½¿ç”¨æŸç§å’Œserverä¸€è‡´çš„åŠ å¯†æ–¹å¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ssh  -oKexAlgorithms&#x3D;+diffie-hellman-group14-sha1 -l user</span><br><span class="line"></span><br><span class="line">æˆ–è€…configä¸­é…ç½®ï¼š</span><br><span class="line">host server_ip</span><br><span class="line">KexAlgorithms +diffie-hellman-group1-sha1</span><br></pre></td></tr></table></figure><p>å¦‚æœä»ç„¶æŠ¥ä»¥ä¸‹é”™è¯¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">debug2: first_kex_follows 0</span><br><span class="line">debug2: reserved 0</span><br><span class="line">debug1: kex: algorithm: diffie-hellman-group14-sha1</span><br><span class="line">debug1: kex: host key algorithm: (no match)</span><br><span class="line">Unable to negotiate with server_ip port 22: no matching host key type found. Their offer: ssh-rsa</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆå¯ä»¥é…ç½®æ¥è§£å†³ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Host *</span><br><span class="line">    HostKeyAlgorithms +ssh-rsa</span><br><span class="line">    PubkeyAcceptedKeyTypes +ssh-rsa</span><br></pre></td></tr></table></figure><p>When an SSH client connects to a server, each side offers lists of connection parameters to the other. These are, with the corresponding <a href="https://man.openbsd.org/ssh_config.5" target="_blank" rel="noopener">ssh_config</a> keyword:</p><ul><li><code>KexAlgorithms</code>: the key exchange methods that are used to generate per-connection keys</li><li><code>HostkeyAlgorithms</code>: the public key algorithms accepted for an SSH server to authenticate itself to an SSH client</li><li><code>Ciphers</code>: the ciphers to encrypt the connection</li><li><code>MACs</code>: the message authentication codes used to detect traffic modification</li></ul><h2><span id="æ— æ‰€ä¸èƒ½çš„-ssh-ä¸‰å¤§è½¬å‘æ¨¡å¼">æ— æ‰€ä¸èƒ½çš„ SSH ä¸‰å¤§è½¬å‘æ¨¡å¼</span></h2><p>äº†è§£å®Œå‰é¢çš„ä¸€äº›å°çŸ¥è¯†ï¼Œå†æ¥çœ‹çœ‹æ— æ‰€ä¸èƒ½çš„ä¸‰å¤§æ€æ‹›ã€‚ä¸Šé¢çš„å„ç§ä»£ç†åŸºæœ¬éƒ½æ˜¯ç”±è¿™ä¸‰ç§è½¬å‘æ¨¡å¼å®ç°çš„ã€‚</p><p>SSH èƒ½å¤ŸåšåŠ¨æ€è½¬å‘ã€æœ¬åœ°è½¬å‘ã€è¿œç¨‹è½¬å‘ã€‚å…ˆç®€è¦æ¦‚è¿°ä¸‹ä»–ä»¬çš„ç‰¹ç‚¹å’Œä½¿ç”¨åœºæ™¯</p><p><strong><a href="https://www.skywind.me/blog/archives/2546" target="_blank" rel="noopener">ä¸‰ä¸ªè½¬å‘æ¨¡å¼çš„æ¯”è¾ƒ</a>ï¼š</strong></p><ul><li>åŠ¨æ€è½¬å‘å®Œå…¨å¯ä»¥ä»£æ›¿æœ¬åœ°è½¬å‘ï¼Œåªæ˜¯åŠ¨æ€è½¬å‘æ˜¯ <code>socks5åè®®</code>ï¼Œå½“æ­£ç¡®ä¸Šç½‘ç”¨ï¼Œæœ¬åœ°è½¬å‘æ˜¯ TCP åè®®</li><li>æœ¬åœ°è½¬å‘å®Œå…¨æ˜¯æŠŠåŠ¨æ€è½¬å‘ç‰¹ä¾‹åŒ–åˆ°è®¿é—®æŸä¸ªå›ºå®šç›®æ ‡çš„è½¬å‘ï¼Œç±»ä¼¼ Iptable çš„ Port Forwarding</li><li>è¿œç¨‹è½¬å‘æ˜¯å¯åŠ¨è½¬ç«¯å£çš„æœºå™¨åŒæ—¶è¿ä¸Šä¸¤ç«¯çš„ä¸¤ä¸ªæœºå™¨ï¼ŒæŠŠæœ¬æ¥ä¸è¿é€šçš„ä¸¤ç«¯æ‹¼æ¥èµ·æ¥ï¼Œä¸­é—´æ˜¾å¾—å¤šäº†ä¸ªèŠ‚ç‚¹ã€‚</li><li>ä¸‰ä¸ªè½¬å‘æ¨¡å¼å¯ä»¥ä¸²è”ä½¿ç”¨</li></ul><p>åŠ¨æ€è½¬å‘å¸¸ç”¨æ¥æ­£ç¡®ä¸Šç½‘ï¼Œæœ¬åœ°è½¬å‘ç”¨æ¥æ‰“æ´ï¼Œè¿™ä¸¤ç§è½¬å‘å¯åŠ¨çš„ç«¯å£éƒ½æ˜¯åœ¨æœ¬åœ°ï¼›è¿œç¨‹è½¬å‘ä¹Ÿæ˜¯æ‰“æ´çš„ä¸€ç§ï¼Œåªä¸è¿‡å¯ç”¨çš„ç«¯å£åœ¨è¿œç¨‹æœºå™¨ä¸Šã€‚</p><p><img src="https://img.hi-linux.com/staticfile/sKbEgK-2024-01-22-mnPbqn.png" alt></p><h3><span id="åŠ¨æ€è½¬å‘-d-socks5-åè®®">åŠ¨æ€è½¬å‘ (-D)  SOCKS5 åè®®</span></h3><p>åŠ¨æ€è½¬å‘æŒ‡çš„æ˜¯ï¼Œæœ¬æœºä¸ SSH æœåŠ¡å™¨ä¹‹é—´åˆ›å»ºäº†ä¸€ä¸ªåŠ å¯†è¿æ¥ï¼Œç„¶åæœ¬æœºå†…éƒ¨é’ˆå¯¹æŸä¸ªç«¯å£çš„é€šä¿¡ï¼Œéƒ½é€šè¿‡è¿™ä¸ªåŠ å¯†è¿æ¥è½¬å‘ã€‚å®ƒçš„ä¸€ä¸ªä½¿ç”¨åœºæ™¯å°±æ˜¯ï¼Œè®¿é—®æ‰€æœ‰å¤–éƒ¨ç½‘ç«™ï¼Œéƒ½é€šè¿‡ SSH è½¬å‘ã€‚</p><p>åŠ¨æ€è½¬å‘éœ€è¦æŠŠæœ¬åœ°ç«¯å£ç»‘å®šåˆ° SSH æœåŠ¡å™¨ã€‚<strong>è‡³äº SSH æœåŠ¡å™¨è¦å»è®¿é—®å“ªä¸€ä¸ªç½‘ç«™ï¼Œå®Œå…¨æ˜¯åŠ¨æ€çš„ï¼Œå–å†³äºåŸå§‹é€šä¿¡ï¼Œæ‰€ä»¥å«åšåŠ¨æ€è½¬å‘</strong>ã€‚</p><p>åŠ¨æ€çš„æ„æ€å°±æ˜¯ï¼šéœ€è¦è®¿é—®çš„ç›®æ ‡ã€ç«¯å£è¿˜ä¸ç¡®å®šã€‚åé¢è¦è®²çš„æœ¬åœ°è½¬å‘ã€è¿œç¨‹è½¬å‘éƒ½æ˜¯é’ˆå¯¹å…·ä½“ IPã€Port çš„è½¬å‘ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ssh -D 4444 ssh-server -N</span></span><br><span class="line">//æˆ–è€…å¦‚ä¸‹æ–¹å¼ï¼š</span><br><span class="line">nohup ssh -qTfnN -D *:13658 root@jump vmstat 10  &gt;/dev/null 2&gt;&amp;1</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œè¿™ç§è½¬å‘é‡‡ç”¨äº† SOCKS5 åè®®ã€‚è®¿é—®å¤–éƒ¨ç½‘ç«™æ—¶ï¼Œéœ€è¦æŠŠ HTTP è¯·æ±‚è½¬æˆ SOCKS5 åè®®ï¼Œæ‰èƒ½æŠŠæœ¬åœ°ç«¯å£çš„è¯·æ±‚è½¬å‘å‡ºå»ã€‚<code>-N</code>å‚æ•°è¡¨ç¤ºï¼Œè¿™ä¸ª SSH è¿æ¥ä¸èƒ½æ‰§è¡Œè¿œç¨‹å‘½ä»¤ï¼Œåªèƒ½å……å½“éš§é“ã€‚</p><p><img src="https://img.hi-linux.com/staticfile/8wIxNP-2024-01-22-qJOasK.png" alt></p><p>ä¸‹é¢æ˜¯ SSH  éš§é“å»ºç«‹åçš„ä¸€ä¸ª<strong>ä½¿ç”¨å®ä¾‹</strong>ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -x socks5://localhost:4444 http://www.example.com</span><br><span class="line">or</span><br><span class="line">curl --socks5-hostname localhost:4444 https://www.twitter.com</span><br></pre></td></tr></table></figure><p>ä¸Šé¢å‘½ä»¤ä¸­ï¼Œcurl çš„ <code>-x</code> å‚æ•°æŒ‡å®šä»£ç†æœåŠ¡å™¨ï¼Œå³é€šè¿‡ SOCKS5 åè®®çš„æœ¬åœ°<code>3000</code>ç«¯å£ï¼Œè®¿é—®<code>http://www.example.com</code>ã€‚</p><p>å®˜æ–¹æ–‡æ¡£å…³äº <code>-D</code> çš„ä»‹ç»</p><blockquote><p>-D [bind_address:]port<br>Specifies a local â€œdynamicâ€ application-level port forwarding.  This works by allocatâ€<br>ing a socket to listen to port on the local side, optionally bound to the specified<br>bind_address.  Whenever a connection is made to this port, the connection is forwarded<br>over the secure channel, and the application protocol is then used to determine where<br>to connect to from the remote machine.  Currently the SOCKS4 and SOCKS5 protocols are<br>supported, and ssh will act as a SOCKS server.  Only root can forward privileged ports.<br>Dynamic port forwardings can also be specified in the configuration file.</p></blockquote><p>ç‰¹åˆ«æ³¨æ„ï¼Œå¦‚æœ <code>ssh -D</code> è¦å¯åŠ¨çš„æœ¬åœ° Port å·²ç»è¢«å ç”¨äº†æ˜¯ä¸ä¼šæŠ¥é”™çš„ï¼Œä½†æ˜¯å®é™… Socks ä»£ç†ä¼šæ²¡å¯åŠ¨æˆåŠŸã€‚</p><h3><span id="æœ¬åœ°è½¬å‘-l">æœ¬åœ°è½¬å‘ (-L)</span></h3><p>æœ¬åœ°è½¬å‘ï¼ˆLocal Forwardingï¼‰æŒ‡çš„æ˜¯ï¼ŒSSH æœåŠ¡å™¨ä½œä¸ºä¸­ä»‹çš„è·³æ¿æœºï¼Œå»ºç«‹æœ¬åœ°è®¡ç®—æœºä¸ç‰¹å®š<code>ç›®æ ‡ç½‘ç«™</code>ä¹‹é—´çš„åŠ å¯†è¿æ¥ã€‚æœ¬åœ°è½¬å‘æ˜¯åœ¨æœ¬åœ°è®¡ç®—æœºçš„ SSH å®¢æˆ·ç«¯å»ºç«‹çš„è½¬å‘è§„åˆ™ã€‚</p><p>å…¸å‹ä½¿ç”¨åœºæ™¯å°±æ˜¯ï¼Œæ‰“æ´ï¼Œç»è¿‡è·³æ¿æœºè®¿é—®æ— æ³•ç›´æ¥è¿é€šçš„æœåŠ¡ã€‚</p><p>å®ƒä¼šæŒ‡å®šä¸€ä¸ªæœ¬åœ°ç«¯å£ï¼ˆLocal-Portï¼‰ï¼Œæ‰€æœ‰å‘å‘é‚£ä¸ªç«¯å£çš„è¯·æ±‚ï¼Œéƒ½ä¼šè½¬å‘åˆ° SSH è·³æ¿æœºï¼ˆssh-serverï¼‰ï¼Œç„¶å SSH è·³æ¿æœºä½œä¸ºä¸­ä»‹ï¼Œå°†æ”¶åˆ°çš„è¯·æ±‚å‘åˆ°ç›®æ ‡æœåŠ¡å™¨ï¼ˆtarget-hostï¼‰çš„ç›®æ ‡ç«¯å£ï¼ˆtarget-portï¼‰ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ssh -L :<span class="built_in">local</span>-port:target-host:target-port ssh-server  //target-hostæ˜¯ssh-serverçš„target-host, target-host åŸŸåè§£æã€è·¯ç”±éƒ½æ˜¯ç”± ssh-server å®Œæˆ</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢å‘½ä»¤ä¸­ï¼Œ<code>-L</code>å‚æ•°è¡¨ç¤ºæœ¬åœ°è½¬å‘ï¼Œ<code>local-port</code>æ˜¯æœ¬åœ°ç«¯å£ï¼Œ<code>target-host</code>æ˜¯ä½ æƒ³è¦è®¿é—®çš„ç›®æ ‡æœåŠ¡å™¨ï¼Œ<code>target-port</code>æ˜¯ç›®æ ‡æœåŠ¡å™¨çš„ç«¯å£ï¼Œ<code>ssh-server</code> æ˜¯ SSH è·³æ¿æœºã€‚å½“ä½ è®¿é—® localhost:local-port çš„æ—¶å€™ä¼šé€šè¿‡ ssh-server æŠŠè¯·æ±‚è½¬ç»™ target-host:target-port</p><p><img src="https://img.hi-linux.com/staticfile/INjeHZ-2024-01-22-EWAI33.png" alt></p><p>ä¸Šå›¾å¯¹åº”çš„å‘½ä»¤æ˜¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -L 53682:remote-server:53682 ssh-server</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œè®¿é—®æœ¬æœºçš„ 53682 ç«¯å£ï¼Œå°±æ˜¯è®¿é—® <code>remote-server</code> çš„ 53682 ç«¯å£.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl http:&#x2F;&#x2F;localhost:53682</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œ<strong>æœ¬åœ°ç«¯å£è½¬å‘é‡‡ç”¨ HTTP åè®®ï¼Œä¸ç”¨è½¬æˆ SOCKS5 åè®®</strong>ã€‚å¦‚æœéœ€è¦ HTTP çš„åŠ¨æ€ä»£ç†ï¼Œå¯ä»¥å…ˆèµ· Socks5 åŠ¨æ€ä»£ç†ï¼Œç„¶åå†èµ·ä¸€ä¸ªæœ¬åœ°è½¬å‘ç»™åŠ¨æ€ä»£ç†çš„ Socks5 ç«¯å£ï¼Œè¿™æ ·å°±æœ‰ä¸€ä¸ª HTTP ä»£ç†äº†ï¼Œèƒ½ç»™ Yumã€Docker ä¹‹ç±»çš„ä½¿ç”¨ã€‚</p><p>è¿™ä¸ªå‘½ä»¤æœ€å¥½åŠ ä¸Š<code>-N</code>å‚æ•°ï¼Œè¡¨ç¤ºä¸åœ¨ SSH è·³æ¿æœºæ‰§è¡Œè¿œç¨‹å‘½ä»¤ï¼Œè®© SSH åªå……å½“éš§é“ã€‚å¦å¤–è¿˜æœ‰ä¸€ä¸ª<code>-f</code>å‚æ•°è¡¨ç¤º SSH è¿æ¥åœ¨åå°è¿è¡Œã€‚</p><p>å¦‚æœç»å¸¸ä½¿ç”¨æœ¬åœ°è½¬å‘ï¼Œå¯ä»¥å°†è®¾ç½®å†™å…¥ SSH å®¢æˆ·ç«¯çš„ç”¨æˆ·ä¸ªäººé…ç½®æ–‡ä»¶ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Host test.example.com</span><br><span class="line">LocalForward client-IP:client-port server-IP:server-port</span><br></pre></td></tr></table></figure><h3><span id="è¿œç¨‹è½¬å‘-r">è¿œç¨‹è½¬å‘(-R)</span></h3><p>è¿œç¨‹ç«¯å£æŒ‡çš„æ˜¯åœ¨è¿œç¨‹ SSH æœåŠ¡å™¨å»ºç«‹çš„è½¬å‘è§„åˆ™ã€‚ä¸»è¦æ˜¯æ‰§è¡Œ SSH è½¬å‘çš„æœºå™¨åˆ«äººè¿ä¸ä¸Šï¼Œæ‰€ä»¥éœ€è¦ä¸€å° Client èƒ½è¿ä¸Šçš„æœºå™¨å½“è¿œç¨‹è½¬å‘ç«¯å£ï¼Œè¦ä¸å°±æ˜¯æœ¬åœ°è½¬å‘äº†ã€‚</p><p>ç”±äºæœ¬æœºæ— æ³•è®¿é—®å†…ç½‘ SSH è·³æ¿æœºï¼Œå°±æ— æ³•ä»å¤–ç½‘å‘èµ· SSH éš§é“ï¼Œå»ºç«‹ç«¯å£è½¬å‘ã€‚å¿…é¡»åè¿‡æ¥ï¼Œä» SSH è·³æ¿æœºå‘èµ·éš§é“ï¼Œå»ºç«‹ç«¯å£è½¬å‘ï¼Œè¿™æ—¶å°±å½¢æˆäº†è¿œç¨‹ç«¯å£è½¬å‘ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -fNR 30.1.2.3:30081:166.100.64.1:3128 root@30.1.2.3 -p 2728</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„å‘½ä»¤ï¼Œé¦–å…ˆéœ€è¦æ³¨æ„ï¼Œ<strong>ä¸æ˜¯åœ¨ 30.1.2.3 æˆ–è€… 166.100.64.1 ä¸Šæ‰§è¡Œçš„ï¼Œè€Œæ˜¯æ‰¾ä¸€å°èƒ½è”é€š 30.1.2.3 å’Œ 166.100.64.1 çš„æœºå™¨æ¥æ‰§è¡Œ</strong>ï¼Œåœ¨æ‰§è¡Œå‰ Remote Clients èƒ½è¿ä¸Š 30.1.2.3 ä½†æ˜¯ 30.1.2.3 å’Œ 166.100.64.1 ä¸é€šï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªä¸­ä»‹å°† 30.1.2.3 å’Œ166.100.64.1æ‰“é€šï¼Œè¿™ä¸ªä¸­ä»‹å°±æ˜¯ä¸‹å›¾ä¸­çš„MobaXtermæ‰€åœ¨çš„æœºå™¨ï¼Œå‘½ä»¤åœ¨ MobaXterm æœºå™¨ä¸Šæ‰§è¡Œ</p><p><img src="https://img.hi-linux.com/staticfile/PER8yY-2024-01-22-IvkyqB.png" alt></p><p>æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ä»¥åï¼Œè·³æ¿æœº 30.1.2.3 åˆ° 166.100.64.1 çš„éš§é“å·²ç»å»ºç«‹äº†ï¼Œè¿™ä¸ªéš§é“æ˜¯ä¾èµ–ä¸¤è¾¹éƒ½èƒ½è¿é€šçš„ MobaXterm æœºå™¨ã€‚ç„¶åï¼Œå°±å¯ä»¥ä» Remote Client è®¿é—®ç›®æ ‡æœåŠ¡å™¨äº†ï¼Œå³åœ¨ Remote Client ä¸Šæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl http:&#x2F;&#x2F;30.1.2.3:30081</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ä»¥åï¼Œå‘½ä»¤å°±ä¼šè¾“å‡ºæœåŠ¡å™¨ 166.100.64.1 çš„3128ç«¯å£è¿”å›çš„å†…å®¹ã€‚</p><p>å¦‚æœç»å¸¸æ‰§è¡Œè¿œç¨‹ç«¯å£è½¬å‘ï¼Œå¯ä»¥å°†è®¾ç½®å†™å…¥ SSH å®¢æˆ·ç«¯çš„ç”¨æˆ·ä¸ªäººé…ç½®æ–‡ä»¶ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Host test.example.com</span><br><span class="line">RemoteForward local-IP:local-port target-ip:target-port</span><br></pre></td></tr></table></figure><p>æ³¨æ„è¿œç¨‹è½¬å‘éœ€è¦ï¼š</p><blockquote><ol><li>sshd_config é‡Œè¦æ‰“å¼€ <code>AllowTcpForwarding</code> é€‰é¡¹ï¼Œå¦åˆ™ <code>-R</code> è¿œç¨‹ç«¯å£è½¬å‘ä¼šå¤±è´¥ã€‚</li><li>é»˜è®¤è½¬å‘åˆ°è¿œç¨‹ä¸»æœºä¸Šçš„ç«¯å£ç»‘å®šçš„æ˜¯ <code>127.0.0.1</code>ï¼Œ<a href="https://serverfault.com/questions/997124/ssh-r-binds-to-127-0-0-1-only-on-remote" target="_blank" rel="noopener">å¦‚è¦ç»‘å®š <code>0.0.0.0</code> éœ€è¦æ‰“å¼€ sshd_config é‡Œçš„ <code>GatewayPorts</code> é€‰é¡¹(ç„¶åssh -R ååŠ ä¸Š *:port )</a>ã€‚è¿™ä¸ªé€‰é¡¹å¦‚æœç”±äºæƒé™æ²¡æ³•æ‰“å¼€ä¹Ÿæœ‰åŠæ³•ï¼Œå¯é…åˆ <code>ssh -L</code> å°†ç«¯å£ç»‘å®šåˆ° <code>0.0.0.0</code>ã€‚</li></ol></blockquote><p>å¼€é€šè¿œç¨‹è½¬å‘åï¼Œå¦‚æœéœ€è¦åŠ¨æ€ä»£ç†ï¼ˆæ¯”å¦‚è®¿é—®æ‰€æœ‰ Web æœåŠ¡ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨ 30081 ç«¯å£æœºå™¨ä¸Š(30.1.2.3)æ‰§è¡Œï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup ssh -qTfnN -D *:13658 root@127.0.0.1 -p 30081 vmstat 10  &gt;&#x2F;dev&#x2F;null 2&gt;&amp;1</span><br></pre></td></tr></table></figure><p>è¡¨ç¤ºåœ¨ 30081 æœºå™¨ä¸Š(30.1.2.3)å¯åŠ¨äº†ä¸€ä¸ª Socks5 åŠ¨æ€ä»£ç†æœåŠ¡</p><h2><span id="è°ƒè¯•è½¬å‘-ä»£ç†æ˜¯å¦èƒ½è”é€š">è°ƒè¯•è½¬å‘ã€ä»£ç†æ˜¯å¦èƒ½è”é€š</span></h2><h3><span id="é€šè¿‡-curl-è°ƒè¯•"></span></h3><blockquote><p>curl -I --socks5-hostname localhost:13659 <a href="http://twitter.com" target="_blank" rel="noopener">twitter.com</a></p><p>curl -x socks5://localhost:13659 <a href="http://twitter.com" target="_blank" rel="noopener">twitter.com</a></p></blockquote><p>Suppose you have a socks5 proxy running on localhost:13659 .</p><p><a href="https://blog.emacsos.com/use-socks5-proxy-in-curl.html" target="_blank" rel="noopener">In curl &gt;= 7.21.7, you can use</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -x socks5h://localhost:13659 http://www.google.com/</span><br></pre></td></tr></table></figure><blockquote><p>In a proxy string, socks5h:// and socks4a:// mean that the hostname is<br>resolved by the SOCKS server. socks5:// and socks4:// mean that the<br>hostname is resolved locally. socks4a:// means to use SOCKS4a, which is<br>an extension of SOCKS4. Letâ€™s make urllib3 honor it.</p></blockquote><p>In curl &gt;= 7.18.0, you can use</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl --socks5-hostname localhost:13659 http://www.google.com/</span><br></pre></td></tr></table></figure><p><code>--proxy</code> å‚æ•°å«ä¹‰å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The --socks5 option is basically considered obsolete since curl 7.21.7. This is because starting in that release, you can now specify the proxy protocol directly in the string that you specify the proxy host name and port number with already. The server you specify with --proxy. If you use a socks5:&#x2F;&#x2F; scheme, curl will go with SOCKS5 with local name resolve but if you instead use socks5h:&#x2F;&#x2F; it will pick SOCKS5 with proxy-resolved host name.</span><br></pre></td></tr></table></figure><h3><span id="wget">wget</span></h3><p><strong>æŒ‡å®šå‘½ä»¤è¡Œå‚æ•°</strong>,é€šè¿‡å‘½ä»¤è¡ŒæŒ‡å®š HTTP ä»£ç†æœåŠ¡å™¨çš„æ–¹å¼å¦‚ä¸‹ï¼š</p><blockquote><p>wget -Y on -e â€œhttp_proxy=http://<strong>[HTTP_HOST]</strong>:<strong>[HTTP_PORT]</strong>â€ <a href="http://facebook.com/" target="_blank" rel="noopener">http://facebook.com/</a></p></blockquote><p>å…¶ä¸­ï¼š[HTTP_HOST]å’Œ[HTTP_PORT]æ˜¯ HTTP Proxy çš„ ADDRESS å’Œ PORTã€‚</p><ul><li>-Y è¡¨ç¤ºæ˜¯å¦ä½¿ç”¨ä»£ç†ï¼Œonè¡¨ç¤ºä½¿ç”¨ä»£ç†ã€‚</li><li>-e æ‰§è¡Œåé¢è·Ÿçš„å‘½ä»¤ï¼Œç›¸å½“äºåœ¨.wgetrcé…ç½®æ–‡ä»¶ä¸­æ·»åŠ äº†ä¸€æ¡å‘½ä»¤ï¼Œå°† http_proxy è®¾ç½®ä¸ºéœ€è¦ä½¿ç”¨çš„ä»£ç†æœåŠ¡å™¨ã€‚</li><li>â€“limit-rate=2.5k é™åˆ¶ä¸‹è½½é€Ÿåº¦ï¼Œè¿›è¡Œæµ‹è¯•</li></ul><h2><span id="pki-public-key-infrastructureè¯ä¹¦">PKI (Public Key Infrastructure)è¯ä¹¦</span></h2><p>X.509 åªæ˜¯ä¸€ç§å¸¸ç”¨çš„è¯ä¹¦æ ¼å¼ï¼Œä¸€èˆ¬ä»¥PEMç¼–ç ï¼ŒPEM ç¼–ç çš„è¯ä¹¦é€šå¸¸ä»¥ <strong><code>.pem</code>ã€<code>.crt</code> æˆ– <code>.cer</code></strong> ä¸ºåç¼€ã€‚å†æ¬¡æé†’ï¼Œè¿™åªæ˜¯â€œé€šå¸¸â€æƒ…å†µï¼Œå®é™…ä¸ŠæŸäº›å·¥å…·å¯èƒ½å¹¶ä¸éµå¾ªè¿™äº›æƒ¯ä¾‹ã€‚é€šè¿‡pemè¯ä¹¦å¯ä»¥è®¿é—®éœ€è¦è®¤è¯çš„ HTTPS æœåŠ¡(æ¯”å¦‚Etcdã€Apiserver ç­‰)</p><ul><li><strong>ASN.1 ç”¨äºå®šä¹‰æ•°æ®ç±»å‹</strong>ï¼Œä¾‹å¦‚è¯ä¹¦ï¼ˆcertificateï¼‰å’Œç§˜é’¥ï¼ˆkeyï¼‰â€”â€”å°±åƒç”¨ JSON å®šä¹‰ä¸€ä¸ª request body â€”â€” X.509 ç”¨ ASN.1 å®šä¹‰ã€‚</li><li>DER æ˜¯ä¸€ç»„å°† ASN.1 ç¼–ç æˆäºŒè¿›åˆ¶ï¼ˆæ¯”ç‰¹å’Œå­—èŠ‚ï¼‰çš„ç¼–ç è§„åˆ™ï¼ˆencoding rulesï¼‰ã€‚</li><li>PKCS#7 and PKCS#12 æ˜¯æ¯” X.509 æ›´å¤§çš„æ•°æ®ç»“æ„ï¼ˆå°è£…æ ¼å¼ï¼‰ï¼Œä¹Ÿç”¨ ASN.1 å®šä¹‰ï¼Œå…¶ä¸­èƒ½åŒ…å«é™¤äº†è¯ä¹¦ä¹‹å¤–çš„å…¶ä»–ä¸œè¥¿ã€‚äºŒè€…åˆ†åˆ«åœ¨ Java å’Œ Microsoft äº§å“ä¸­ä½¿ç”¨è¾ƒå¤šã€‚</li><li>DER ç¼–ç ä¹‹åæ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œä¸æ–¹ä¾¿å¤åˆ¶ç²˜è´´ï¼Œå› æ­¤å¤§éƒ¨åˆ†è¯ä¹¦éƒ½æ˜¯ç”¨ PEM ç¼–ç çš„ï¼Œå®ƒç”¨ base64 å¯¹ DER è¿›è¡Œç¼–ç ï¼Œç„¶åå†åŠ ä¸Šè‡ªå·±çš„ labelã€‚</li><li>ç§é’¥é€šå¸¸ç”¨æ˜¯ PEM ç¼–ç çš„ PKCS#8 å¯¹è±¡ï¼Œä½†æœ‰æ—¶ä¹Ÿä¼šç”¨å¯†ç æ¥åŠ å¯†ã€‚</li></ul><p>é€šè¿‡å‘½ä»¤ <code>cat /etc/kubernetes/pki/ca.crt | openssl x509 -text</code> ä¹Ÿå¯ä»¥å¾—åˆ°ä¸‹å›¾ä¿¡æ¯</p><p><img src="https://img.hi-linux.com/staticfile/6ET22D-2024-01-22-hjfjim.png" alt></p><h3><span id="å…¬é’¥-ç§é’¥å¸¸è§æ‰©å±•å">å…¬é’¥ã€ç§é’¥å¸¸è§æ‰©å±•å</span></h3><ul><li>å…¬é’¥ï¼š<code>.pub</code> or <code>.pem</code>ï¼Œ<code>ca.crt</code></li><li>ç§é’¥ï¼š<code>.prv,</code> <code>.key</code>, or <code>.pem</code> , <code>ca.key</code>ã€‚</li></ul><h3><span id="è¯ä¹¦ç”Ÿæˆè¿‡ç¨‹æ¼”ç¤º">è¯ä¹¦ç”Ÿæˆè¿‡ç¨‹æ¼”ç¤º</span></h3><p>å¹¶ä¸æ˜¯æ‰€æœ‰çš„åœºæ™¯éƒ½éœ€è¦å‘è¿™äº›å¤§å‹çš„ CA æœºæ„ç”³è¯·å…¬é’¥è¯ä¹¦ï¼Œåœ¨ä»»ä½•ä¸€ä¸ªä¼ä¸šï¼Œç»„ç»‡æˆ–æ˜¯å›¢ä½“å†…éƒ½å¯ä»¥è‡ªå·±å½¢è¿™æ ·çš„â€œå°ç‹å›½â€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥è‡ªè¡Œç”Ÿæˆè¿™æ ·çš„è¯ä¹¦ï¼Œåªéœ€è¦ä½ è‡ªå·±ä¿è¯è‡ªå·±çš„ç”Ÿæˆè¯ä¹¦çš„ç§é’¥çš„å®‰å…¨ï¼Œä»¥åŠä¸éœ€è¦æ‰©æ•£åˆ°æ•´ä¸ªäº’è”ç½‘ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬ç”¨ <code>openssl</code>å‘½ä»¤æ¥æ¼”ç¤ºè¿™ä¸ªè¿‡ç¨‹ã€‚</p><ol><li>ç”Ÿæˆ CA æœºæ„çš„è¯ä¹¦ï¼ˆå…¬é’¥ï¼‰ <code>ca.crt</code> å’Œç§é’¥ <code>ca.key</code></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">openssl req -newkey rsa:2048 \</span><br><span class="line">    -new -nodes -x509 \</span><br><span class="line">    -days 365 \</span><br><span class="line">    -out ca.crt \</span><br><span class="line">    -keyout ca.key \</span><br><span class="line">    -subj &quot;&#x2F;C&#x3D;SO&#x2F;ST&#x3D;Earth&#x2F;L&#x3D;Mountain&#x2F;O&#x3D;CoolShell&#x2F;OU&#x3D;HQ&#x2F;CN&#x3D;localhost&quot;</span><br></pre></td></tr></table></figure><ol start="2"><li>ç”Ÿæˆ alice çš„ç§é’¥</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl genrsa -out alice.key 2048</span><br></pre></td></tr></table></figure><ol start="3"><li>ç”Ÿæˆ Alice çš„ CSR â€“ Certificate Signing Request</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">openssl req -new -key alice.key -days 365 -out alice.csr \</span><br><span class="line">    -subj &quot;&#x2F;C&#x3D;CN&#x2F;ST&#x3D;Beijing&#x2F;L&#x3D;Haidian&#x2F;O&#x3D;CoolShell&#x2F;OU&#x3D;Test&#x2F;CN&#x3D;localhost.alice&quot;</span><br></pre></td></tr></table></figure><ol start="4"><li>ä½¿ç”¨ CA ç»™ Alice ç­¾åè¯ä¹¦</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">openssl x509  -req -in alice.csr \</span><br><span class="line">    -extfile &lt;(printf &quot;subjectAltName&#x3D;DNS:localhost.alice&quot;) \ </span><br><span class="line">    -CA ca.crt -CAkey ca.key  \</span><br><span class="line">    -days 365 -sha256 -CAcreateserial \</span><br><span class="line">    -out alice.crt</span><br></pre></td></tr></table></figure><h2><span id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™ï¼š</span></h2><ul><li><a href="http://docs.corp-inc.com/pages/editpage.action?pageId=203555361" target="_blank" rel="noopener">http://docs.corp-inc.com/pages/editpage.action?pageId=203555361</a></li><li><a href="https://wiki.archlinux.org/index.php/SSH_keys_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" target="_blank" rel="noopener">https://wiki.archlinux.org/index.php/SSH_keys_(ç®€ä½“ä¸­æ–‡)</a></li><li><a href="https://wangdoc.com/ssh/key.html" target="_blank" rel="noopener">https://wangdoc.com/ssh/key.html</a></li><li><a href="https://robotmoon.com/ssh-tunnels/" target="_blank" rel="noopener">https://robotmoon.com/ssh-tunnels/</a></li><li><a href="https://blog.gwlab.page/vpn-over-ssh-the-socks-proxy-8a8d7bdc7028" target="_blank" rel="noopener">é€šè¿‡SSHåŠ¨æ€è½¬å‘æ¥å»ºç«‹Socksä»£ä»¥åŠå„ç§åœºæ™¯åº”ç”¨æ¡ˆä¾‹</a></li><li><a href="https://daniel.haxx.se/blog/2020/05/26/curl-ootw-socks5/" target="_blank" rel="noopener">https://daniel.haxx.se/blog/2020/05/26/curl-ootw-socks5/</a></li><li><a href="http://www.allanjude.com/bsd/AsiaBSDCon2017_-_SSH_Performance.pdf" target="_blank" rel="noopener">SSH Performance</a></li><li><a href="https://stackoverflow.com/questions/8849240/why-when-i-transfer-a-file-through-sftp-it-takes-longer-than-ftp" target="_blank" rel="noopener">Why when I transfer a file through SFTP, it takes longer than FTP?</a></li><li><a href="https://zhuanlan.zhihu.com/p/413732839" target="_blank" rel="noopener">ä¸€è¡Œä»£ç è§£å†³scpåœ¨Internetä¼ è¾“æ…¢çš„é—®é¢˜</a></li><li><a href="https://www.cnxct.com/everything-about-pki-zh/" target="_blank" rel="noopener">å…³äºè¯ä¹¦ï¼ˆcertificateï¼‰å’Œå…¬é’¥åŸºç¡€è®¾æ–½ï¼ˆPKIï¼‰çš„ä¸€åˆ‡</a></li><li><a href="https://coolshell.cn/articles/21708.html" target="_blank" rel="noopener">ç½‘ç»œæ•°å­—èº«ä»½è®¤è¯æœ¯</a></li></ul><blockquote><p>æœ¬æ–‡è½¬è½½è‡ªï¼šã€Œ plantegg çš„åšå®¢ ã€ï¼ŒåŸæ–‡ï¼š<a href="http://tinyurl.com/25py66n3" target="_blank" rel="noopener">http://tinyurl.com/25py66n3</a> ï¼Œç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚æ¬¢è¿æŠ•ç¨¿ï¼ŒæŠ•ç¨¿é‚®ç®±: <a href="mailto:editor@hi-linux.com">editor@hi-linux.com</a>ã€‚</p></blockquote></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "10135-1588830050631-449",        "name": "ã€Œå¥‡å¦™çš„ Linux ä¸–ç•Œã€",        "qrcode": "https://www.hi-linux.com/img/wechat/mp_qrcode_12.jpg",        "keyword": "VIP"    });}</script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æˆ‘è§è¿‡å¤ªå¤šçš„è€é¸Ÿã€æ–°æ‰‹å¯¹ SSH åŸºæœ¬åªé™äº SSH åˆ°è¿œç¨‹æœºå™¨ï¼Œå®é™…è¿™ä¸ªå‘½ä»¤æˆ‘ä»¬ä¸€å¤©è¦ç”¨å¾ˆå¤šæ¬¡ï¼Œä½†æ˜¯å¯¹å®ƒçš„äº†è§£å¤ªå°‘äº†ï¼Œä»–çš„å¼ºå¤§è¿œè¿œè¶…å‡ºä½ çš„æƒ³è±¡ã€‚å½“äºä½ ä¹Ÿè®¸ä¼šè¯´å¤Ÿç”¨å°±å¤Ÿäº†ï¼Œç¡®å®æ²¡é”™ï¼Œä½†æ˜¯ä½ è€ƒè™‘è¿‡æ•ˆç‡æ²¡æœ‰ï¼Œæˆ–è€…è¿˜æœ‰å“ªäº›è„‘æ´å¤§å¼€çš„åŠŸèƒ½ä¼šè®©ä½ çˆ±æ­»ä»–ï¼Œè¿™äº›åŠŸèƒ½åˆä»…ä»…æ˜¯ä¸€è¡Œå‘½ä»¤å°±å¤Ÿäº†ã€‚&lt;/p&gt;
&lt;p&gt;ç–«æƒ…æœŸé—´ä¸€è¡Œ SSH å‘½ä»¤è®©æˆ‘èŠ‚çœäº† 70% çš„å‡ºå·®æ—¶é—´ï¼Œæ¥ï¼Œè®©æˆ‘ä»¬ä¸€èµ·èµ°ä¸€éï¼Œçœ‹çœ‹ä¼šä¸ä¼šè®©ä½ å¤§å¼€çœ¼ç•Œã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="SSH" scheme="https://www.hi-linux.com/categories/SSH/"/>
    
    
      <category term="æŠ€å·§" scheme="https://www.hi-linux.com/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="Linux" scheme="https://www.hi-linux.com/tags/Linux/"/>
    
      <category term="SSH" scheme="https://www.hi-linux.com/tags/SSH/"/>
    
  </entry>
  
  <entry>
    <title>å›½å†…å¤–å…¬å…±/åŠ å¯† DNS æœåŠ¡å™¨åˆ—è¡¨</title>
    <link href="https://www.hi-linux.com/posts/19661.html"/>
    <id>https://www.hi-linux.com/posts/19661.html</id>
    <published>2024-01-18T01:00:00.000Z</published>
    <updated>2024-01-18T09:01:06.242Z</updated>
    
    <content type="html"><![CDATA[<div id="vip-container"><p>å›½å†…å¤–å…¬å…± DNSï¼ŒåŠ å¯† DNS æ±‡æ€»ï¼Œå¯ç”¨ä½œå„ç§ DNS æœåŠ¡å™¨çš„ä¸Šæ¸¸æœåŠ¡å™¨ï¼Œåœ¨ä¸‹é¢çš„åˆ—è¡¨ä¸­ <strong>é€‰æ‹© 2-3 ä¸ªä¸ºå®œ</strong>ã€‚é€‰å¾—å¤šå¹¶ä¸æ˜¯æœ€ä¼˜è§£ï¼Œæœ›å‘¨çŸ¥ã€‚</p><p>ä½œä¸ºä¸Šæ¸¸æœåŠ¡å™¨åˆ—è¡¨æ—¶ï¼Œå› ä¸º UDP ä¼ è¾“æ—¶é—´çŸ­ï¼Œå…¬å…± DNS ç»Ÿä¸€é€‰æ‹© <code>udp</code>ï¼Œè€Œ<strong>åŠ å¯† DNS</strong> ç»Ÿä¸€é€‰æ‹©ï¼š<code>https</code>ï¼Œå½“ç„¶<code>tls</code>ä¹Ÿå¯ä»¥ã€‚</p><h2><span id="å›½å†…-dns-åˆ—è¡¨">å›½å†… DNS åˆ—è¡¨:</span></h2><h3><span id="1-å›½å†…å…¬å…±-dns-åˆ—è¡¨">1. å›½å†…å…¬å…± DNS åˆ—è¡¨</span></h3><h4><span id="é˜¿é‡Œå…¬å…±-dns">é˜¿é‡Œå…¬å…± DNSï¼š</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">223.5.5.5</span><br><span class="line">223.6.6.6</span><br></pre></td></tr></table></figure><h4><span id="è…¾è®¯å…¬å…±-dns">è…¾è®¯å…¬å…± DNS:</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">119.29.29.29</span><br></pre></td></tr></table></figure><a id="more"></a><h4><span id="ç™¾åº¦å…¬å…±-dns">ç™¾åº¦å…¬å…± DNSï¼š</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">180.76.76.76</span><br></pre></td></tr></table></figure><h4><span id="360-å…¬å…±-dns">360 å…¬å…± DNS</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ç”µä¿¡ã€ç§»åŠ¨ã€é“é€šï¼š</span><br><span class="line">101.226.4.6</span><br><span class="line">218.30.118.6</span><br><span class="line">è”é€šï¼š</span><br><span class="line">123.125.81.6</span><br><span class="line">140.207.198.6</span><br></pre></td></tr></table></figure><h4><span id="114-å…¬å…±-dns">114 å…¬å…± DNSï¼š</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">114.114.114.114</span><br><span class="line">114.114.115.115</span><br></pre></td></tr></table></figure><h3><span id="2å›½å†…åŠ å¯†-dns-åˆ—è¡¨">2.å›½å†…åŠ å¯† DNS åˆ—è¡¨ï¼š</span></h3><h4><span id="é˜¿é‡ŒåŠ å¯†-dns">é˜¿é‡ŒåŠ å¯† DNSï¼š</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alidns_ip&#x2F;dns-query</span><br><span class="line">dns.alidns.com&#x2F;dns-query</span><br></pre></td></tr></table></figure><h4><span id="è…¾è®¯åŠ å¯†-dns">è…¾è®¯åŠ å¯† DNSï¼š</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">doh.pub&#x2F;dns-query</span><br><span class="line">sm2.doh.pub&#x2F;dns-query</span><br></pre></td></tr></table></figure><h2><span id="å›½å¤–-dns-åˆ—è¡¨">å›½å¤– DNS åˆ—è¡¨ï¼š</span></h2><h3><span id="1-å›½å¤–å…¬å…±-dns-åˆ—è¡¨">1. å›½å¤–å…¬å…± DNS åˆ—è¡¨</span></h3><h4><span id="cloudflare-å…¬å…±-dns">Cloudflare å…¬å…± DNSï¼š</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.1.1.1</span><br></pre></td></tr></table></figure><h4><span id="google-å…¬å…±-dns">Google å…¬å…± DNSï¼š</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">8.8.8.8</span><br><span class="line">8.8.4.4</span><br></pre></td></tr></table></figure><h4><span id="norton-å…¬å…±-dns">Norton å…¬å…± DNSï¼š</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">199.85.126.10    </span><br><span class="line">199.85.127.10</span><br></pre></td></tr></table></figure><h4><span id="å¨ç‘ä¿¡-å…¬å…±-dns">å¨ç‘ä¿¡ å…¬å…± DNSï¼š</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">64.6.64.6</span><br><span class="line">64.6.65.6</span><br></pre></td></tr></table></figure><h4><span id="comodo-å…¬å…±-dns">Comodo å…¬å…± DNSï¼š</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">8.26.56.2  </span><br><span class="line">68.20.247.2</span><br></pre></td></tr></table></figure><h4><span id="dns-watch-å…¬å…±-dns">DNS Watch å…¬å…± DNSï¼š</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">84.200.69.80</span><br><span class="line">84.200.70.40</span><br></pre></td></tr></table></figure><h4><span id="opendns-å…¬å…±-dns">OpenDNS å…¬å…± DNSï¼š</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">208.67.222.222</span><br></pre></td></tr></table></figure><h3><span id="2-å›½å¤–åŠ å¯†-dns-åˆ—è¡¨">2. å›½å¤–åŠ å¯† DNS åˆ—è¡¨</span></h3><h4><span id="google-åŠ å¯†-dns">Google åŠ å¯† DNSï¼š</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dns.google&#x2F;dns-query   ç±»å‹é€‰æ‹©ï¼šhttps</span><br><span class="line">dns.google   ç±»å‹é€‰æ‹©ï¼štls</span><br></pre></td></tr></table></figure><h4><span id="cloudflare-åŠ å¯†-dns">Cloudflare åŠ å¯† DNSï¼š</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.1.1.1&#x2F;dns-query   ç±»å‹é€‰æ‹©ï¼štls</span><br></pre></td></tr></table></figure><h4><span id="quda9-åŠ å¯†-dns">Quda9 åŠ å¯† DNSï¼š</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dns11.quad9.net&#x2F;dns-query ç±»å‹é€‰æ‹©ï¼šhttps</span><br></pre></td></tr></table></figure><h4><span id="opendns-åŠ å¯†dns">OpenDNS åŠ å¯†DNSï¼š</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">doh.opendns.com&#x2F;dns-query</span><br></pre></td></tr></table></figure><h2><span id="å›½å†…å¤–å…¬å…±-dns-åˆ—è¡¨åˆé›†">å›½å†…å¤–å…¬å…± DNS åˆ—è¡¨åˆé›†</span></h2><h3><span id="1-å…¬ç”¨-dns-æœåŠ¡å™¨">1. å…¬ç”¨ DNS æœåŠ¡å™¨</span></h3><table><thead><tr><th>åç§°</th><th>DNS æœåŠ¡å™¨ IP åœ°å€</th><th></th></tr></thead><tbody><tr><td><strong>114 DNS</strong></td><td>114.114.114.114</td><td>114.114.115.115</td></tr><tr><td><strong>é˜¿é‡Œ AliDNS</strong></td><td>223.5.5.5</td><td>223.6.6.6</td></tr><tr><td><strong>ç™¾åº¦ BaiduDNS</strong></td><td>180.76.76.76</td><td></td></tr><tr><td><strong>DNSPod DNS+</strong></td><td>119.29.29.29</td><td>182.254.116.116</td></tr><tr><td><strong>CNNIC SDNS</strong></td><td>1.2.4.8</td><td>210.2.4.8</td></tr><tr><td><strong>oneDNS</strong></td><td>117.50.11.11</td><td>117.50.22.22</td></tr><tr><td><strong>DNS æ´¾ç”µä¿¡/ç§»åŠ¨/é“é€š</strong></td><td>101.226.4.6</td><td>218.30.118.6</td></tr><tr><td><strong>DNS æ´¾ è”é€š</strong></td><td>123.125.81.6</td><td>140.207.198.6</td></tr><tr><td><strong>Google DNS</strong></td><td>8.8.8.8</td><td>8.8.4.4</td></tr><tr><td><strong>Google IPv6 DNS</strong></td><td>2001:4860:4860::8888</td><td>2001:4860:4860::8844</td></tr><tr><td><strong>IBM Quad9</strong></td><td>9.9.9.9</td><td></td></tr><tr><td><strong>OpenDNS</strong></td><td>208.67.222.222</td><td>208.67.220.220</td></tr><tr><td><strong>V2EX DNS</strong></td><td>199.91.73.222</td><td>178.79.131.110</td></tr><tr><td><strong>Verizon DNS</strong></td><td>4.2.2.1</td><td>4.2.2.2</td></tr><tr><td><strong>ä¸­å›½å°æ¹¾ä¸­åç”µä¿¡ HiNet DNS</strong></td><td>168.95.192.1</td><td>168.95.1.1</td></tr><tr><td><strong>ä¸­ç§‘å¤§DNS</strong></td><td>202.141.162.123ï¼ˆä¸­å›½ç”µä¿¡ï¼‰</td><td>202.38.93.153 ï¼ˆæ•™è‚²ç½‘ï¼‰</td></tr><tr><td></td><td>202.141.176.93 ï¼ˆä¸­å›½ç§»åŠ¨ï¼‰</td><td></td></tr><tr><td><strong>éŸ©å›½KT DNS</strong></td><td>168.126.63.1</td><td>168.126.63.2</td></tr></tbody></table><h3><span id="2-å»å¹¿å‘Š-dns-æœåŠ¡å™¨åˆ—è¡¨">2. å»å¹¿å‘Š DNS æœåŠ¡å™¨åˆ—è¡¨</span></h3><table><thead><tr><th>åç§°</th><th>DNS æœåŠ¡å™¨ IP åœ°å€</th><th></th></tr></thead><tbody><tr><td><strong>FUN DNS</strong></td><td>119.23.248.241</td><td></td></tr><tr><td><strong>Pure DNS</strong></td><td>123.207.137.88</td><td>115.159.220.214</td></tr><tr><td><strong>CuteDns</strong></td><td>120.77.212.84(å—æ–¹)</td><td>101.236.28.23ï¼ˆåŒ—æ–¹ï¼‰</td></tr><tr><td><strong>aixyz DNS</strong></td><td>115.159.146.99(å—æ–¹)</td><td>123.206.21.48ï¼ˆåŒ—æ–¹ï¼‰</td></tr><tr><td><strong>BAI DNS</strong></td><td>106.14.152.170</td><td></td></tr><tr><td><strong>ä¸çŸ¥åDNS</strong></td><td>180.97.235.30</td><td>115.159.96.69</td></tr><tr><td></td><td>123.206.21.48</td><td>123.207.137.88</td></tr></tbody></table><h3><span id="3-å„åœ°ç”µä¿¡-dns-åˆ—è¡¨">3. å„åœ°ç”µä¿¡ DNS åˆ—è¡¨</span></h3><table><thead><tr><th>åç§°</th><th>DNS æœåŠ¡å™¨ IP åœ°å€</th><th></th></tr></thead><tbody><tr><td><strong>å®‰å¾½ç”µä¿¡ DNS</strong></td><td>61.132.163.68</td><td>202.102.213.68</td></tr><tr><td><strong>åŒ—äº¬ç”µä¿¡ DNS</strong></td><td>219.141.136.10</td><td>219.141.140.10</td></tr><tr><td><strong>é‡åº†ç”µä¿¡ DNS</strong></td><td>61.128.192.68</td><td>61.128.128.68</td></tr><tr><td><strong>ç¦å»ºç”µä¿¡ DNS</strong></td><td>218.85.152.99</td><td>218.85.157.99</td></tr><tr><td><strong>ç”˜è‚ƒç”µä¿¡ DNS</strong></td><td>202.100.64.68</td><td>61.178.0.93</td></tr><tr><td><strong>å¹¿ä¸œç”µä¿¡ DNS</strong></td><td>202.96.128.86</td><td>202.96.128.166</td></tr><tr><td></td><td>202.96.128.68</td><td>202.96.134.33</td></tr><tr><td><strong>å¹¿è¥¿ç”µä¿¡ DNS</strong></td><td>202.103.225.68</td><td>202.103.224.68</td></tr><tr><td><strong>è´µå·ç”µä¿¡ DNS</strong></td><td>202.98.192.67</td><td>202.98.198.167</td></tr><tr><td><strong>æ²³å—ç”µä¿¡ DNS</strong></td><td>222.88.88.88</td><td>222.85.85.85</td></tr><tr><td><strong>é»‘é¾™æ±Ÿç”µä¿¡</strong></td><td>219.147.198.230</td><td>219.147.198.242</td></tr><tr><td><strong>æ¹–åŒ—ç”µä¿¡ DNS</strong></td><td>202.103.24.68</td><td>202.103.0.68</td></tr><tr><td><strong>æ¹–å—ç”µä¿¡ DNS</strong></td><td>222.246.129.80</td><td>59.51.78.211</td></tr><tr><td><strong>æ±Ÿè‹ç”µä¿¡ DNS</strong></td><td>218.2.2.2</td><td>218.4.4.4</td></tr><tr><td></td><td>218.2.135.1</td><td>61.147.37.1</td></tr><tr><td><strong>æ±Ÿè¥¿ç”µä¿¡ DNS</strong></td><td>202.101.224.69</td><td>202.101.226.68</td></tr><tr><td><strong>å†…è’™å¤ç”µä¿¡</strong></td><td>219.148.162.31</td><td>222.74.39.50</td></tr><tr><td><strong>å±±ä¸œç”µä¿¡ DNS</strong></td><td>219.146.1.66</td><td>219.147.1.66</td></tr><tr><td><strong>é™•è¥¿ç”µä¿¡ DNS</strong></td><td>218.30.19.40</td><td>61.134.1.4</td></tr><tr><td><strong>ä¸Šæµ·ç”µä¿¡ DNS</strong></td><td>202.96.209.133</td><td>116.228.111.118</td></tr><tr><td></td><td>108.168.255.118</td><td>202.96.209.5</td></tr><tr><td><strong>å››å·ç”µä¿¡ DNS</strong></td><td>61.139.2.69</td><td>218.6.200.139</td></tr><tr><td><strong>å¤©æ´¥ç”µä¿¡ DNS</strong></td><td>219.150.32.132</td><td>219.146.0.132</td></tr><tr><td><strong>äº‘å—ç”µä¿¡ DNS</strong></td><td>222.172.200.68</td><td>61.166.150.123</td></tr><tr><td><strong>æµ™æ±Ÿç”µä¿¡ DNS</strong></td><td>202.101.172.35</td><td>61.153.177.196</td></tr><tr><td></td><td>60.191.244.5</td><td>61.153.81.75</td></tr></tbody></table><h3><span id="4-è”é€š-dns-æœåŠ¡å™¨åˆ—è¡¨">4. è”é€š DNS æœåŠ¡å™¨åˆ—è¡¨</span></h3><table><thead><tr><th>åç§°</th><th>DNS æœåŠ¡å™¨ IP åœ°å€</th><th></th></tr></thead><tbody><tr><td><strong>åŒ—äº¬è”é€š DNS</strong></td><td>123.123.123.123</td><td>123.123.123.124</td></tr><tr><td></td><td>202.106.195.68</td><td>202.106.0.20</td></tr><tr><td><strong>é‡åº†è”é€š DNS</strong></td><td>221.5.203.98</td><td>221.7.92.98</td></tr><tr><td><strong>å¹¿ä¸œè”é€š DNS</strong></td><td>210.21.196.6</td><td>221.5.88.88</td></tr><tr><td><strong>æ²³åŒ—è”é€š DNS</strong></td><td>202.99.160.68</td><td>202.99.166.4</td></tr><tr><td><strong>æ²³å—è”é€š DNS</strong></td><td>202.102.224.68</td><td>202.102.227.68</td></tr><tr><td><strong>é»‘é¾™æ±Ÿè”é€šDNS</strong></td><td>202.97.224.69</td><td>202.97.224.68</td></tr><tr><td><strong>å‰æ—è”é€š DNS</strong></td><td>202.98.0.68</td><td>202.98.5.68</td></tr><tr><td><strong>æ±Ÿè‹è”é€š DNS</strong></td><td>221.6.4.66</td><td>221.6.4.67</td></tr><tr><td><strong>å†…è’™å¤è”é€š DNS</strong></td><td>202.99.224.68</td><td>202.99.224.8</td></tr><tr><td><strong>å±±ä¸œè”é€š DNS</strong></td><td>202.102.128.68</td><td>202.102.152.3</td></tr><tr><td></td><td>202.102.154.3</td><td>202.102.134.68</td></tr><tr><td><strong>å±±è¥¿è”é€š DNS</strong></td><td>202.99.192.66</td><td>202.99.192.68</td></tr><tr><td><strong>é™•è¥¿è”é€š DNS</strong></td><td>221.11.1.67</td><td>221.11.1.68</td></tr><tr><td><strong>ä¸Šæµ·è”é€š DNS</strong></td><td>210.22.70.3</td><td>210.22.84.3</td></tr><tr><td><strong>å››å·è”é€š DNS</strong></td><td>119.6.6.6</td><td>124.161.87.155</td></tr><tr><td><strong>å¤©æ´¥è”é€š DNS</strong></td><td>202.99.104.68</td><td>202.99.96.68</td></tr><tr><td><strong>æµ™æ±Ÿè”é€š DNS</strong></td><td>221.12.1.227</td><td>221.12.33.227</td></tr><tr><td><strong>è¾½å®è”é€š DNS</strong></td><td>202.96.69.38</td><td>202.96.64.68</td></tr></tbody></table><h3><span id="5-ç§»åŠ¨-dns-æœåŠ¡å™¨åˆ—è¡¨">5. ç§»åŠ¨ DNS æœåŠ¡å™¨åˆ—è¡¨</span></h3><table><thead><tr><th>åç§°</th><th>DNS æœåŠ¡å™¨ IP åœ°å€</th><th></th></tr></thead><tbody><tr><td><strong>æ±Ÿè‹ç§»åŠ¨ DNS</strong></td><td>221.131.143.69</td><td>112.4.0.55</td></tr><tr><td><strong>å®‰å¾½ç§»åŠ¨ DNS</strong></td><td>211.138.180.2</td><td>211.138.180.3</td></tr><tr><td><strong>å±±ä¸œç§»åŠ¨ DNS</strong></td><td>218.201.96.130</td><td>211.137.191.26</td></tr><tr><td><strong>å››å·ç§»åŠ¨ DNS</strong></td><td>223.87.238.22</td><td></td></tr></tbody></table><blockquote><p>æœ¬æ–‡è½¬è½½è‡ªï¼šã€Œå†ä»å¤´çš„åšå®¢ ã€ï¼ŒåŸæ–‡ï¼š<a href="https://url.hi-linux.com/pWijO" target="_blank" rel="noopener">https://url.hi-linux.com/pWijO</a> ï¼Œç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚æ¬¢è¿æŠ•ç¨¿ï¼ŒæŠ•ç¨¿é‚®ç®±: <a href="mailto:editor@hi-linux.com">editor@hi-linux.com</a>ã€‚</p></blockquote></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "10135-1588830050631-449",        "name": "ã€Œå¥‡å¦™çš„ Linux ä¸–ç•Œã€",        "qrcode": "https://www.hi-linux.com/img/wechat/mp_qrcode_12.jpg",        "keyword": "VIP"    });}</script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å›½å†…å¤–å…¬å…± DNSï¼ŒåŠ å¯† DNS æ±‡æ€»ï¼Œå¯ç”¨ä½œå„ç§ DNS æœåŠ¡å™¨çš„ä¸Šæ¸¸æœåŠ¡å™¨ï¼Œåœ¨ä¸‹é¢çš„åˆ—è¡¨ä¸­ &lt;strong&gt;é€‰æ‹© 2-3 ä¸ªä¸ºå®œ&lt;/strong&gt;ã€‚é€‰å¾—å¤šå¹¶ä¸æ˜¯æœ€ä¼˜è§£ï¼Œæœ›å‘¨çŸ¥ã€‚&lt;/p&gt;
&lt;p&gt;ä½œä¸ºä¸Šæ¸¸æœåŠ¡å™¨åˆ—è¡¨æ—¶ï¼Œå› ä¸º UDP ä¼ è¾“æ—¶é—´çŸ­ï¼Œå…¬å…± DNS ç»Ÿä¸€é€‰æ‹© &lt;code&gt;udp&lt;/code&gt;ï¼Œè€Œ&lt;strong&gt;åŠ å¯† DNS&lt;/strong&gt; ç»Ÿä¸€é€‰æ‹©ï¼š&lt;code&gt;https&lt;/code&gt;ï¼Œå½“ç„¶&lt;code&gt;tls&lt;/code&gt;ä¹Ÿå¯ä»¥ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å›½å†…-DNS-åˆ—è¡¨&quot;&gt;å›½å†… DNS åˆ—è¡¨:&lt;/h2&gt;
&lt;h3 id=&quot;1-å›½å†…å…¬å…±-DNS-åˆ—è¡¨&quot;&gt;1. å›½å†…å…¬å…± DNS åˆ—è¡¨&lt;/h3&gt;
&lt;h4 id=&quot;é˜¿é‡Œå…¬å…±-DNSï¼š&quot;&gt;é˜¿é‡Œå…¬å…± DNSï¼š&lt;/h4&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;223.5.5.5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;223.6.6.6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;è…¾è®¯å…¬å…±-DNS&quot;&gt;è…¾è®¯å…¬å…± DNS:&lt;/h4&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;119.29.29.29&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/categories/Linux/"/>
    
    
      <category term="æŠ€å·§" scheme="https://www.hi-linux.com/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="Linux" scheme="https://www.hi-linux.com/tags/Linux/"/>
    
      <category term="DNS" scheme="https://www.hi-linux.com/tags/DNS/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ç¯‡è¶…çº§å®ç”¨çš„è£å‘˜åŠ³åŠ¨ä»²è£æŒ‡å—</title>
    <link href="https://www.hi-linux.com/posts/60168.html"/>
    <id>https://www.hi-linux.com/posts/60168.html</id>
    <published>2023-12-12T01:00:00.000Z</published>
    <updated>2023-12-11T08:49:19.501Z</updated>
    
    <content type="html"><![CDATA[<div id="vip-container"><p>å…¶å®æœ¬æ¥å¦ä¸€ç¯‡æ–‡ç« å·²ç»å†™å¥½äº†ï¼Œä½†è€ƒè™‘åˆ°ä¸´è¿‘å¹´åº•ï¼ŒåŠ³åŠ¨ä»²è£æŒ‡å—çš„å®ç”¨æ€§å¯èƒ½ä¼šæ›´å¤§ï¼Œäºæ˜¯ä¾¿æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚ä½œä¸ºåŠ³åŠ¨ä»²è£æ›¾ç»çš„äº²å†è€…ï¼Œreizhi å¸Œæœ›èƒ½å¤Ÿå€Ÿè¿™ç¯‡æ–‡ç« æŠŠåŠ³åŠ¨ä»²è£è¿™ä»¶äº‹ç»™è¯´æ˜ç™½ã€‚è™½ç„¶å¸Œæœ›å„ä½éƒ½ç”¨ä¸ä¸Šï¼Œä½†å¤šäº†è§£ä¸€äº›æ€»æ˜¯å¥½çš„ã€‚</p><p>åœ¨åŠ³åŠ¨åˆåŒç­¾ç«‹çš„è¿‡ç¨‹ä¸­ï¼Œç”¨äººå•ä½å¾€å¾€å¤„äºæå…¶å¼ºåŠ¿çš„åœ°ä½ã€‚å¯¹åº”çš„ï¼ŒåŠ³åŠ¨è€…æ¯«æ— ç–‘é—®å±äºå¼±åŠ¿çš„ä¸€æ–¹ã€‚åœ¨åŒæ–¹å°±åŠ³åŠ¨åˆåŒçš„å±¥è¡Œäº§ç”Ÿäº‰è®®æ—¶ï¼Œä¾é å‹å¥½åå•†æœ‰æ—¶å¹¶ä¸èƒ½è¾¾æˆè®©äººæ»¡æ„çš„ç»“æœï¼Œäºæ˜¯ä¾¿æœ‰äº†åŠ³åŠ¨äº‰è®®ä»²è£å§”å‘˜ä¼šã€‚æ— è®ºåŠ³åŠ¨è€…æ˜¯å¦æœ‰ä¸ç”¨äººå•ä½è¿›è¡Œåå•†ï¼Œåªè¦äº§ç”ŸåŠ³åŠ¨äº‰è®®ï¼Œå‡å¯ä»¥æäº¤åŠ³åŠ¨ä»²è£ç”³è¯·ã€‚æœ¬æ–‡æ¥ä¸‹æ¥å°†ä¸“æ³¨äºå› è£å‘˜å¯¼è‡´äº§ç”ŸåŠ³åŠ¨ä»²è£çš„æƒ…å½¢ã€‚</p><a id="more"></a><h2><span id="1å…¬å¸å¯ä»¥åˆæ³•è§£é™¤åŠ³åŠ¨åˆåŒçš„æƒ…å½¢">1.å…¬å¸å¯ä»¥åˆæ³•è§£é™¤åŠ³åŠ¨åˆåŒçš„æƒ…å½¢</span></h2><p>é™¤å¼€è¯•ç”¨æœŸå¤–ï¼Œä»¥ä¸‹æƒ…å½¢å…¬å¸å¯ä»¥å•æ–¹é¢è§£é™¤åŠ³åŠ¨åˆåŒï¼Œä¸éœ€è¦æ”¯ä»˜è¡¥å¿é‡‘æˆ–è€…èµ”å¿é‡‘ï¼ˆè¿‡å¤±ç±»ï¼‰ï¼š</p><ol><li>åŠ³åŠ¨è€…ä¸¥é‡è¿åç”¨äººå•ä½çš„è§„ç« åˆ¶åº¦</li><li>åŠ³åŠ¨è€…ä¸¥é‡å¤±èŒï¼Œè¥ç§èˆå¼Šï¼Œç»™ç”¨äººå•ä½é€ æˆé‡å¤§æŸå®³</li><li>åŠ³åŠ¨è€…åŒæ—¶ä¸å…¶ä»–ç”¨äººå•ä½å»ºç«‹åŠ³åŠ¨å…³ç³»ï¼Œå¯¹å®Œæˆæœ¬å•ä½çš„å·¥ä½œä»»åŠ¡é€ æˆä¸¥é‡å½±å“ï¼Œæˆ–è€…ç»ç”¨äººå•ä½æå‡ºï¼Œæ‹’ä¸æ”¹æ­£</li><li>å…·æœ‰ä»¥æ¬ºè¯ˆã€èƒè¿«çš„æ‰‹æ®µæˆ–è€…ä¹˜äººä¹‹å±ï¼Œä½¿å¯¹æ–¹åœ¨è¿èƒŒçœŸå®æ„æ€çš„æƒ…å†µä¸‹è®¢ç«‹æˆ–è€…å˜æ›´åŠ³åŠ¨åˆåŒçš„æƒ…å½¢è‡´ä½¿åŠ³åŠ¨åˆåŒæ— æ•ˆ</li><li>åŠ³åŠ¨è€…è¢«ä¾æ³•è¿½ç©¶åˆ‘äº‹è´£ä»»</li></ol><p>ä»¥ä¸Šè¿™äº›æƒ…å½¢ç›¸ä¿¡å¤§å®¶åº”è¯¥ä¸å¤ªèƒ½å¤Ÿé‡åˆ°ï¼ŒåŒæ—¶å¦‚æœæå‡ºè¿‡å¤±ç±»è§£é™¤éœ€è¦ç”¨äººå•ä½è¿›è¡Œä¸¾è¯ï¼Œè¿™é‡Œä¾¿ä¸å±•å¼€ä»‹ç»äº†ã€‚</p><h2><span id="2å…¬å¸éœ€è¦æ”¯ä»˜è¡¥å¿é‡‘æ‰èƒ½è§£é™¤åŠ³åŠ¨åˆåŒçš„æƒ…å½¢">2.å…¬å¸éœ€è¦æ”¯ä»˜è¡¥å¿é‡‘æ‰èƒ½è§£é™¤åŠ³åŠ¨åˆåŒçš„æƒ…å½¢</span></h2><p>ä»¥ä¸‹è¿™äº›æƒ…å½¢æ˜¯å¤§å®¶å¸¸è¯´çš„ N æˆ–è€… N+1 è¡¥å¿çš„æƒ…å½¢ï¼š</p><ol><li>åŒæ–¹åå•†ä¸€è‡´ï¼Œè§£é™¤åŠ³åŠ¨åˆåŒï¼ˆç”±å…¬å¸æå‡ºï¼‰</li><li>åŠ³åŠ¨è€…æ‚£ç—…æˆ–è€…éå› å·¥è´Ÿä¼¤ï¼ŒåŒ»ç–—æœŸæ»¡åï¼Œä¸èƒ½ä»äº‹åŸå·¥ä½œä¹Ÿä¸èƒ½ä»äº‹ç”±ç”¨äººå•ä½å¦è¡Œå®‰æ’çš„å·¥ä½œ</li><li>åŠ³åŠ¨è€…ä¸èƒ½èƒœä»»å·¥ä½œï¼Œç»è¿‡åŸ¹è®­æˆ–è€…è°ƒæ•´å·¥ä½œå²—ä½ï¼Œä»ä¸èƒ½èƒœä»»å·¥ä½œ</li><li>åŠ³åŠ¨åˆåŒè®¢ç«‹æ—¶æ‰€ä¾æ®çš„å®¢è§‚æƒ…å†µå‘ç”Ÿé‡å¤§å˜åŒ–ï¼Œè‡´ä½¿åŸåŠ³åŠ¨åˆåŒæ— æ³•å±¥è¡Œï¼Œç»å½“äº‹äººåå•†ä¸èƒ½å°±å˜æ›´åŠ³åŠ¨åˆåŒè¾¾æˆåè®®</li><li>ç”¨äººå•ä½æ¿’ä¸´ç ´äº§è¿›è¡Œæ³•å®šæ•´é¡¿æœŸé—´æˆ–è€…ç”Ÿäº§ç»è¥çŠ¶å†µå‘ç”Ÿä¸¥é‡å›°éš¾ï¼Œç¡®éœ€è£å‡äººå‘˜çš„ï¼Œåº”å½“æå‰ä¸‰åæ—¥å‘å·¥ä¼šæˆ–è€…å…¨ä½“èŒå·¥è¯´æ˜æƒ…å†µï¼Œå¬å–å·¥ä¼šæˆ–è€…èŒå·¥çš„æ„è§ï¼Œç»å‘åŠ³åŠ¨è¡Œæ”¿éƒ¨é—¨æŠ¥å‘Šåï¼Œå¯ä»¥è£å‡äººå‘˜</li></ol><p>å…¶ä¸­ï¼Œé€‚ç”¨ç¬¬äºŒã€ä¸‰ã€å››æ¡è¿›è¡ŒåŠ³åŠ¨å…³ç³»è§£é™¤æ—¶ï¼Œç”¨äººå•ä½éœ€è¦æå‰30æ—¥ä¹¦é¢å‘ŠçŸ¥åŠ³åŠ¨è€…ï¼Œå¦åˆ™éœ€è¦æ”¯ä»˜é¢å¤–çš„ä¸€ä¸ªæœˆå·¥èµ„ï¼Œå³ N+1 ã€‚å…¶ä»–æƒ…å½¢éœ€è¦æ”¯ä»˜ N è¡¥å¿ï¼Œå…·ä½“å¦‚ä½•è®¡ç®—åé¢è¿˜ä¼šè®²åˆ°ã€‚</p><p>çœ‹åˆ°è¿™é‡Œå¯èƒ½æœ‰äººå·²ç»å¼€å§‹æ‰“é€€å ‚é¼“äº†ï¼Œæ˜¯å¦åªè¦å…¬å¸æå‡ºåŠ³åŠ¨è€…ä¸èƒ½èƒœä»»å·¥ä½œï¼Œå¹¶ä»¥ç»©æ•ˆå®Œæˆæƒ…å†µä½œä¸ºè¯æ˜å°±èƒ½é€‚ç”¨ N æˆ– N+1 è¾é€€å‘¢ï¼Ÿå…¶å®å¹¶ä¸æ˜¯ï¼Œå¦‚æœéœ€è¦é€‚ç”¨ç¬¬ä¸‰æ¡çš„ä¸èƒ½èƒœä»»å·¥ä½œï¼Œå…¬å¸éœ€è¦é¦–å…ˆè¿›è¡ŒåŸ¹è®­æˆ–è€…è°ƒæ•´å·¥ä½œå²—ä½ï¼Œä¸”èƒ½å¤Ÿæä¾›å¯¹åº”çš„è¯æ˜ææ–™ã€‚å…¶æ¬¡å…¬å¸éœ€è¦æä¾›çš„è¯æ˜ææ–™è¾ƒå¤šï¼ŒåŒ…æ‹¬ï¼šé¦–æ¬¡ä¸èƒ½èƒœä»»çš„ç›¸å…³è¯æ˜ï¼Œè¿›è¡Œäº†åˆç†çš„åŸ¹è®­æˆ–è€…è°ƒæ•´å²—ä½çš„è¯æ˜ï¼Œå†æ¬¡ä¸èƒ½èƒœä»»çš„ç›¸å…³è¯æ˜ã€‚</p><p>æ•…è™½ç„¶æ­¤ç‚¹å¯èƒ½ä½œä¸ºäººäº‹çš„æ‰˜è¯ï¼Œä½†å®é™…ä¸¾è¯éš¾åº¦è¾ƒå¤§ï¼Œä¸”ç»©æ•ˆè€ƒæ ¸æ ‡å‡†çš„è®¢ç«‹å¯æ“ä½œç©ºé—´å¤§ï¼Œåœ¨å®é™…ä»²è£ä¹ƒè‡³è¯‰è®¼è¿‡ç¨‹ä¸­ï¼Œç”¨äººå•ä½è¢«åˆ¤å®šä¸ºä¸åˆ©çš„æ¦‚ç‡æé«˜ã€‚ä¸€æ—¦æ­¤ç‚¹è®¤å®šå¤±è´¥ï¼Œå°†ç›´æ¥è¢«è®¤å®šä¸ºéæ³•è§£é™¤åŠ³åŠ¨åˆåŒï¼Œä»è€Œè‡´ä½¿è¡¥å¿é‡‘ N+1 å‡çº§ä¸ºèµ”å¿é‡‘ 2N ã€‚</p><p>å…¶ä¸­çš„ç¬¬å››æ¡å®¢è§‚æƒ…å†µå‘ç”Ÿé‡å¤§å˜åŒ–ï¼Œä¹Ÿæ¯”è¾ƒå–œæ¬¢è¢«æŸäº›äººäº‹åŠ ä»¥åˆ©ç”¨ã€‚éœ€è¦æ˜ç¡®çš„æ˜¯æ­¤ç‚¹åŒ…å«ä¸¤æ¡é‡è¦çº¦æŸï¼Œå³å®¢è§‚å’Œé‡å¤§å˜åŒ–ã€‚å³å˜åŒ–æ‰€äº§ç”Ÿçš„åŸå› å¹¶éç”¨äººå•ä½æ‰€èƒ½ä¸»è§‚å†³å®šå’Œæ§åˆ¶ï¼Œè€Œéå•çº¯çš„å› ä¸ºç»„ç»‡æ¶æ„è°ƒæ•´å°±èƒ½å¤Ÿå¼•ç”¨æ­¤æ¡äºˆä»¥è¾é€€ã€‚å¦å¤–ï¼Œåœ¨è§£é™¤åŠ³åŠ¨åˆåŒå‰ä¹Ÿéœ€è¦ä¸åŠ³åŠ¨è€…è¿›è¡Œåå•†ï¼Œæä¾›ç›¸è¿‘æˆ–ç±»ä¼¼çš„å·¥ä½œå²—ä½ï¼Œå¹¶ä¸”å¾…é‡ä¸èƒ½ä½äºåŸå²—ä½ã€‚åœ¨åŠ³åŠ¨è€…æ‹’ç»çš„æƒ…å†µä¸‹ï¼Œæ‰èƒ½é€‚ç”¨æœ¬æ¡ã€‚</p><p>æœ€åï¼Œå¯¹äºè°ƒå²—çš„æƒ…å½¢ï¼Œéœ€æ˜ç¡®è°ƒå²—åçš„èŒçº§ã€å·¥ä½œå†…å®¹ä¸åŸå²—ä½ç›¸è¿‘ï¼Œä¸”å¾…é‡ä¸ä½äºåŸå²—ä½ï¼Œæ–°å²—ä½ä¸å­˜åœ¨ä»»ä½•æ­§è§†æ€§ã€ä¾®è¾±æ€§ã€‚ç”¨äººå•ä½è¡Œä½¿æ³•å®šè°ƒå²—æƒï¼Œåº”å¯¹è°ƒå²—çš„åˆç†ä¾æ®æ‰¿æ‹…ä¸¾è¯è´£ä»»ã€‚</p><h2><span id="3è¿æ³•è§£é™¤åŠ³åŠ¨åˆåŒçš„æƒ…å½¢">3.è¿æ³•è§£é™¤åŠ³åŠ¨åˆåŒçš„æƒ…å½¢</span></h2><p>æ‰€æœ‰ä¸é€‚ç”¨ä»¥ä¸Šæƒ…å½¢çš„æƒ…å†µï¼Œç”±å…¬å¸æå‡ºè§£é™¤åŠ³åŠ¨åˆåŒçš„æƒ…å½¢ï¼Œå‡å±äºè¿æ³•è§£é™¤ã€‚å¦‚æœå…¬å¸æ–¹é¢ä¸»å¼ å› ä¸ºä»¥ä¸Šæƒ…å½¢è§£é™¤åŠ³åŠ¨å…³ç³»ï¼Œåˆ™éœ€è¦ç”±å…¬å¸è¿›è¡Œä¸¾è¯ã€‚åœ¨å…¬å¸æ— æ³•æ‹¿å‡ºå……åˆ†è¯æ®äºˆä»¥è¯æ˜çš„æƒ…å†µä¸‹ï¼ŒåŒæ ·ä¼šè¢«è®¤å®šä¸ºè¿æ³•è§£é™¤ã€‚</p><p>æ‰€æœ‰çš„è¿æ³•è§£é™¤åŠ³åŠ¨åˆåŒçš„æƒ…å½¢ï¼Œèµ”å¿é‡‘ä¸º 2N ã€‚</p><h2><span id="4è¡¥å¿é‡‘æˆ–èµ”å¿é‡‘å¦‚ä½•è®¡ç®—">4.è¡¥å¿é‡‘æˆ–èµ”å¿é‡‘å¦‚ä½•è®¡ç®—</span></h2><p>è¡¥å¿é‡‘ = åœ¨èŒå¹´é™ï¼ˆNï¼‰x å·¥èµ„åŸºæ•°</p><p>èµ”å¿é‡‘ = 2 x åœ¨èŒå¹´é™ï¼ˆNï¼‰x å·¥èµ„åŸºæ•°</p><p>æ— è®ºæ˜¯ç¬¬äºŒèŠ‚ä¸­æåˆ°çš„è¡¥å¿é‡‘ï¼Œè¿˜æ˜¯ç¬¬ä¸‰èŠ‚ä¸­æåˆ°çš„èµ”å¿é‡‘ï¼Œå…¶é‡‘é¢åŸºæ•°å‡ä¸ºåŠ³åŠ¨åˆåŒè§£é™¤æˆ–è€…ç»ˆæ­¢å‰åäºŒä¸ªæœˆçš„å¹³å‡å·¥èµ„ï¼Œå«å¥–é‡‘ã€æ´¥è´´å’Œè¡¥è´´ã€‚å¦‚å·¥ä½œä¸æ»¡åäºŒä¸ªæœˆï¼ŒæŒ‰ç…§å®é™…å·¥ä½œçš„æœˆæ•°è®¡ç®—å¹³å‡å·¥èµ„ã€‚</p><p>å…¶ä¸­çš„åœ¨èŒå¹´é™ï¼Œé™¤å»æ•´å¹´éƒ¨åˆ†åï¼Œæ»¡å…­ä¸ªæœˆä»¥ä¸Šçš„è®¡ä¸€å¹´ï¼Œä¸æ»¡å…­ä¸ªæœˆçš„è®¡åŠå¹´ã€‚ä¾‹ï¼šä¸€å¹´ä¸‰ä¸ªæœˆæŒ‰ç…§1.5å¹´è®¡ç®—ï¼Œä¸¤å¹´åä¸ªæœˆæŒ‰ç…§3å¹´è®¡ç®—ã€‚</p><p>å¯¹äºç¬¬äºŒèŠ‚ä¸­æœ‰æåˆ°éœ€æå‰30æ—¥ä¹¦é¢å‘ŠçŸ¥åŠ³åŠ¨è€…çš„æƒ…å½¢ï¼Œå¦‚æœ‰è¿›è¡Œå‘ŠçŸ¥åˆ™æ— éœ€å†é¢å¤–è¡¥å¿ä¸€ä¸ªæœˆå·¥èµ„ã€‚å¦‚æœªå‘ŠçŸ¥åˆ™éœ€è¡¥å¿ N+1 ã€‚</p><p>ç»¼ä¸Šï¼Œå¯¹äºæ³•å®šèŒƒå›´å†…çš„è¡¥å¿é‡‘æˆ–èµ”å¿é‡‘ï¼Œä»…æœ‰ï¼šN, N+1, 2N ä¸‰ç§æƒ…å½¢ã€‚åœ¨é€’äº¤åŠ³åŠ¨ä»²è£ç”³è¯·æ—¶ï¼ŒåŠ¡å¿…æŒ‰ç…§å¯¹åº”çš„æƒ…å½¢è®¡ç®—å¯èƒ½çš„æœ€å¤§è¡¥å¿ï¼ˆæˆ–èµ”å¿ï¼‰é‡‘é¢ã€‚å…·ä½“é‡‘é¢åœ¨ä»²è£å®¡ç†æ—¶ä¼šè¿›è¡Œé‡æ–°è®¡ç®—ï¼Œä½†ä¸ä¼šè¶…è¿‡ä»²è£ç”³è¯·æ—¶æ‰€æäº¤çš„é‡‘é¢ã€‚</p><h2><span id="5ç”³è¯·åŠ³åŠ¨ä»²è£éœ€è¦æäº¤å“ªäº›ææ–™">5.ç”³è¯·åŠ³åŠ¨ä»²è£éœ€è¦æäº¤å“ªäº›ææ–™</span></h2><p>å¦‚æœæˆ‘ä»¬å·²ç»ç¡®å®šè¦æäº¤åŠ³åŠ¨ä»²è£ç”³è¯·ï¼Œå¿…ç„¶è¦å…ˆçŸ¥é“æ‰€éœ€ææ–™ã€‚å„åœ°å¯¹äºåŠ³åŠ¨ä»²è£ç”³è¯·æ‰€éœ€çš„ææ–™ç•¥æœ‰å‡ºå…¥ï¼Œä½†å¤§ä½“ä¸ŠåŒ…å«ä»¥ä¸‹è¿™äº›ï¼š</p><ul><li>èº«ä»½è¯å¤å°ä»¶</li><li>å·¥ä½œè¯æ˜å¤å°ä»¶ï¼ˆå¦‚åŠ³åŠ¨åˆåŒï¼‰</li><li>ç¦»èŒè¯æ˜</li><li>å…¬å¸å·¥å•†ä¿¡æ¯</li><li>åŠ³åŠ¨ä»²è£ç”³è¯·è¡¨</li><li>ç›¸å…³è¯æ˜ææ–™</li><li>å·¥èµ„æ¡ï¼Œå·¥èµ„æµæ°´</li></ul><p>å…·ä½“çš„è¦æ±‚å¯ä»¥åœ¨ç½‘ä¸Šæœç´¢å½“åœ°åœ°ååŠ åŠ³åŠ¨ä»²è£ï¼Œæˆ–ç›´æ¥å‰å¾€åŠ³åŠ¨ä»²è£åº­å’¨è¯¢äº†è§£ã€‚å…¶ä¸­çš„å…¬å¸å·¥å•†ä¿¡æ¯å¯åœ¨å½“åœ°çš„â€œä¼ä¸šä¿¡ç”¨ä¿¡æ¯å…¬ç¤ºç³»ç»Ÿâ€ç½‘ç«™æŒ‰ç…§ä¼ä¸šåç§°æœç´¢å¹¶æ‰“å°å³å¯ï¼ŒåŠ³åŠ¨ä»²è£ç”³è¯·è¡¨ä¸€èˆ¬åœ¨å½“åœ°æ”¿åºœæ”¿åŠ¡ç½‘ç«™æˆ–ä»²è£æœºæ„çš„ç½‘ç«™ä¸Šå¯ä»¥ä¸‹è½½ã€‚</p><p>å¯¹äºè£å‘˜è¯·æ±‚ç»æµè¡¥å¿æˆ–èµ”å¿çš„æƒ…å†µï¼Œç¦»èŒè¯æ˜å±äºå¿…è¦ææ–™ï¼Œéœ€ç”±å…¬å¸å¼€å…·ã€‚å¦‚å…¬å¸æ¨è„±æˆ–è€…æ‹’ç»å¼€å…·ï¼Œä¸€èˆ¬å¯ä»¥å‘å½“åœ°åŠ³åŠ¨ç›‘å¯Ÿå¤§é˜Ÿä¸¾æŠ¥ã€‚</p><p>åŠ³åŠ¨ä»²è£ç”³è¯·çš„éƒ¨åˆ†ï¼Œå¯å‚ç…§å‚è€ƒä¿¡æ¯ä¸­çš„é“¾æ¥äºŒï¼Œä¹Ÿå¯ä»¥åœ¨ç½‘ä¸Šæœç´¢å½“åœ°åœ°ååŠ åŠ³åŠ¨ä»²è£æŒ‡å—ã€‚</p><p>å¤šæ•°æƒ…å†µä¸‹å·¥ä½œè¯æ˜å³åŠ³åŠ¨åˆåŒï¼Œå¦‚æœªæœ‰ç­¾è®¢åŠ³åŠ¨åˆåŒä¹Ÿå¯ä»¥æäº¤å…¶ä»–è¯æ˜ææ–™å¦‚ç¤¾ä¿ç¼´çº³è®°å½•ï¼Œå·¥èµ„æ¡ï¼Œæ‰“å¡è€ƒå‹¤è®°å½•ç­‰ã€‚</p><p>å…¶ä»–å¯èƒ½ç”¨å¾—ä¸Šçš„è¯æ˜ææ–™å¦‚ï¼šåŸ¹è®­è®°å½•ã€è°ƒå²—è®°å½•ã€ç»©æ•ˆè€ƒæ ¸æ ‡å‡†ã€ç»©æ•ˆè€ƒæ ¸é‚®ä»¶ã€å…¶ä»–å†…éƒ¨é‚®ä»¶ã€æ²Ÿé€šè®°å½•æˆªå›¾ç­‰å‡å¯ä»¥æäº¤ã€‚</p><h2><span id="6åç»­æµç¨‹">6.åç»­æµç¨‹</span></h2><p>åœ¨ææ–™é€’äº¤åï¼Œä»²è£åº­é¦–å…ˆä¼šå‘ŠçŸ¥æ˜¯å¦å—ç†ï¼Œä»¥åŠå—ç†åçš„å¼€åº­æ—¶é—´ã€‚åŠ³åŠ¨è€…æœ¬äººåªéœ€æŒ‰æ—¶å‡ºåº­å³å¯ï¼Œç”¨äººå•ä½æ˜¯å¦å‡ºå¸­ä¸å½±å“è£å®šã€‚è¿™é‡Œæˆ‘å¹¶æ²¡æœ‰å®æ“ç»éªŒï¼Œä½†å¤§å®¶åªéœ€è¦æ®å®åº”å¯¹ï¼Œäº‰å–åˆæ³•æƒç›Šå³å¯ã€‚æ­£å› ä¸ºæˆ‘ä»¬ä¹‹å‰ä¸€ç›´æœ‰æåˆ°åŠ³åŠ¨è€…åœ¨åˆåŒå…³ç³»ä¸­å¤„äºå¼±åŠ¿æ–¹ï¼Œä»²è£åº­åŸºæœ¬ä¸Šè¿˜æ˜¯ä¼šå°½é‡å‡ºäºç»´æŠ¤åŠ³åŠ¨è€…æƒç›Šçš„è§’åº¦è¿›è¡Œè£å®šã€‚</p><p>å¦å¤–ä¸€æ–¹é¢ï¼Œåœ¨åŠ³åŠ¨ä»²è£ä¸­ç”¨äººå•ä½æ–¹æŒæ¡å¹¶ä¸”æ§åˆ¶äº†å¤§é‡çš„ä¿¡æ¯ï¼Œæ‰€ä»¥ç›¸å…³æ³•æ¡ä¹Ÿæœ‰è¿›è¡Œè§„å®šï¼šä¸äº‰è®®äº‹é¡¹æœ‰å…³çš„è¯æ®å±äºç”¨äººå•ä½æŒæ¡ç®¡ç†çš„ï¼Œç”¨äººå•ä½åº”å½“æä¾›ï¼›ç”¨äººå•ä½ä¸æä¾›çš„ï¼Œåº”å½“æ‰¿æ‹…ä¸åˆ©åæœã€‚</p><p>æ—¢ç„¶å¤§å®¶å·²ç»é€‰æ‹©äº†è¿›è¡ŒåŠ³åŠ¨ä»²è£ï¼Œå°±åº”è¯¥å……åˆ†ä¿¡ä»»ä»²è£åº­èƒ½å¤Ÿç»™äºˆå…¬æ­£å®¢è§‚çš„è£å®šç»“æœã€‚æ¯•ç«Ÿè®¾ç«‹åŠ³åŠ¨ä»²è£åº­çš„ç›®çš„å°±æ˜¯ä¸ºäº†ä¿æŠ¤åŠ³åŠ¨è€…çš„åˆæ³•æƒç›Šï¼Œæ€»ä¸ä¼šæœ‰å“ªä¸ªç”¨äººå•ä½å»ç”³è¯·ä»²è£å§ï¼Ÿ</p><p>è£å®šç»“æœå‡ºæ¥åï¼Œå¦‚æœå¯¹äºæˆ‘ä»¬çš„ä¸»å¼ è¯‰æ±‚äºˆä»¥æ”¯æŒï¼Œç›´æ¥æ‰¾å…¬å¸è¦é’±å³å¯ã€‚å¦‚å…¬å¸æ‹’ç»ï¼Œåœ¨è¶…è¿‡é™å®šæ—¶é—´åå¯ä»¥å‘æ³•é™¢ç”³è¯·å¼ºåˆ¶æ‰§è¡Œã€‚è¿™äº›åç»­ç»†èŠ‚è£å®šä¹¦ä¸­åº”è¯¥ä¼šæœ‰è¯´æ˜ï¼Œä¸ç”¨å¤ªæ‹…å¿ƒã€‚</p><p>ä»»æ„ä¸€æ–¹å¯¹äºè£å®šç»“æœä¸æœï¼Œéƒ½å¯ä»¥æèµ·è¯‰è®¼ã€‚æ¶‰åŠåˆ°æ‰“å®˜å¸å·²ç»è¶…å‡ºæœ¬æ–‡çš„ç§‘æ™®èŒƒå›´äº†ï¼Œå»ºè®®å’¨è¯¢å¾‹å¸ˆã€‚</p><p>åœ¨å®é™…æ“ä½œè¿‡ç¨‹ä¸­å¯èƒ½å­˜åœ¨ä»²è£å¼€åº­å‰å…¬å¸æ³¨é”€çš„æƒ…å†µå‘ç”Ÿï¼Œreizhi å¯¹æ­¤ç±»é—®é¢˜æ²¡æœ‰æ“ä½œç»éªŒï¼ŒåŒæ ·å»ºè®®å’¨è¯¢å¾‹å¸ˆï¼Œæœ‰å¯èƒ½éœ€è¦é€šè¿‡è¯‰è®¼è§£å†³ã€‚</p><h2><span id="7åå•†">7.åå•†</span></h2><p>ä¸Šé¢è¿™äº›ä¿¡æ¯å¯¹äºäººäº‹æ¥è¯´éƒ½æ˜¯å¿…çŸ¥å¿…ä¼šï¼Œä½†å¯¹æ–¹æœ‰å¯èƒ½åˆ©ç”¨ä¿¡æ¯å·®åœ¨åå•†ä¸­å æ®ä¼˜åŠ¿ã€‚åœ¨æˆ‘ä»¬äº†è§£å…¨éƒ¨çš„ç›¸å…³çŸ¥è¯†åï¼Œä¾¿å¯ä»¥ä»å®¹çš„ä¸äººäº‹å±•å¼€åå•†è°ˆåˆ¤äº†ã€‚å¦‚æœä½ å·²ç»åšå¥½äº†åŠ³åŠ¨ä»²è£çš„å†³å¿ƒï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§æ‰˜è¯çš„åº”å¯¹é€»è¾‘ï¼š</p><p><strong>æ— æ³•èƒœä»»</strong>ï¼šéœ€ç”±å…¬å¸ä¸¾è¯ï¼Œä¸”ä¸¾è¯éš¾åº¦å¤§ï¼›éœ€å…ˆè°ƒå²—æˆ–åŸ¹è®­ï¼›ç»©æ•ˆè€ƒæ ¸å­˜åœ¨ä¸»è§‚æ€§ï¼Œå¯æ“ä½œç©ºé—´å¤§ï¼Œç½®ä¿¡åº¦ä½</p><p><strong>å®¢è§‚æƒ…å†µå‘ç”Ÿé‡å¤§å˜åŒ–</strong>ï¼šéœ€è¦æ˜¯å®¢è§‚çš„ä¸å¯æŠ—åŠ›ï¼›é‡å¤§å˜åŒ–è¶³ä»¥å½±å“å…¬å¸ç»è¥æˆ–åˆåŒæ‰§è¡Œï¼›éœ€æä¾›è°ƒå²—æœºä¼š</p><p><strong>æ—¶é—´å‘¨æœŸé•¿ï¼Œç»“æœä¸ç¡®å®š</strong>ï¼šä»²è£åº­çš„æœ¬è´¨æ˜¯åŠ³åŠ¨è€…ä¿æŠ¤ç»„ç»‡ï¼›å…¬å¸ä¸¾è¯è´£ä»»å¤šã€éš¾åº¦å¤§ï¼›åŠ³åŠ¨ä»²è£è®°å½•åœ¨ä¼æŸ¥æŸ¥ç­‰ç½‘ç«™å‡å¯æŸ¥åˆ°ï¼Œæ— è®ºç»“æœå¯¹äºå…¬å¸éƒ½æ²¡æœ‰å¥½å¤„</p><p>å¦‚æœå…¬å¸æ–¹å·²ç»æ–©é’‰æˆªé“çš„è¡¨ç¤ºæ— æ³•ç»™åˆ°åº”æœ‰çš„æ ‡å‡†ï¼Œä½†å¯ä»¥é€‚å½“é™ä½è¿›è¡Œè¡¥å¿ï¼Œåˆ™æ˜¯å¦æ¥å—éœ€è¦å–å†³äºè‡ªèº«ã€‚</p><h2><span id="8å‚è€ƒä¿¡æ¯">8.å‚è€ƒä¿¡æ¯</span></h2><blockquote><p><a href="https://www.gov.cn/banshi/2005-05/25/content_905.htm" target="_blank" rel="noopener">https://www.gov.cn/banshi/2005-05/25/content_905.htm</a></p><p><a href="https://www.moj.gov.cn/pub/sfbgw/jgsz/jgszzsdw/zsdwflyzzx/flyzzxgzpt/gzptwlpx/202007/t20200702_190436.html" target="_blank" rel="noopener">https://www.moj.gov.cn/pub/sfbgw/jgsz/jgszzsdw/zsdwflyzzx/flyzzxgzpt/gzptwlpx/202007/t20200702_190436.html</a></p><p><a href="https://rlsbt.zj.gov.cn/art/2020/11/19/art_1450623_58919888.html" target="_blank" rel="noopener">https://rlsbt.zj.gov.cn/art/2020/11/19/art_1450623_58919888.html</a></p><p><a href="https://www.dehenglaw.com/CN/tansuocontent/0008/029228/7.aspx?AID=&amp;BID=00000000000000001988&amp;MID=0902" target="_blank" rel="noopener">https://www.dehenglaw.com/CN/tansuocontent/0008/029228/7.aspx?AID=&amp;BID=00000000000000001988&amp;MID=0902</a></p><p><a href="https://www.yiyang.gov.cn/rsj/4509/4516/5735/content_305410.html" target="_blank" rel="noopener">https://www.yiyang.gov.cn/rsj/4509/4516/5735/content_305410.html</a></p><p><a href="https://gchzfy.hncourt.gov.cn/public/detail.php?id=3294" target="_blank" rel="noopener">https://gchzfy.hncourt.gov.cn/public/detail.php?id=3294</a></p><p><a href="https://www.gov.cn/flfg/2007-12/29/content_847310.htm" target="_blank" rel="noopener">https://www.gov.cn/flfg/2007-12/29/content_847310.htm</a></p></blockquote><blockquote><p>æœ¬æ–‡è½¬è½½è‡ªï¼šã€Œ reizhi çš„åšå®¢ ã€ï¼ŒåŸæ–‡ï¼š<a href="https://url.hi-linux.com/KXvBv" target="_blank" rel="noopener">https://url.hi-linux.com/KXvBv</a> ï¼Œç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚æ¬¢è¿æŠ•ç¨¿ï¼ŒæŠ•ç¨¿é‚®ç®±: <a href="mailto:editor@hi-linux.com">editor@hi-linux.com</a>ã€‚</p></blockquote></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "10135-1588830050631-449",        "name": "ã€Œå¥‡å¦™çš„ Linux ä¸–ç•Œã€",        "qrcode": "https://www.hi-linux.com/img/wechat/mp_qrcode_12.jpg",        "keyword": "VIP"    });}</script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…¶å®æœ¬æ¥å¦ä¸€ç¯‡æ–‡ç« å·²ç»å†™å¥½äº†ï¼Œä½†è€ƒè™‘åˆ°ä¸´è¿‘å¹´åº•ï¼ŒåŠ³åŠ¨ä»²è£æŒ‡å—çš„å®ç”¨æ€§å¯èƒ½ä¼šæ›´å¤§ï¼Œäºæ˜¯ä¾¿æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚ä½œä¸ºåŠ³åŠ¨ä»²è£æ›¾ç»çš„äº²å†è€…ï¼Œreizhi å¸Œæœ›èƒ½å¤Ÿå€Ÿè¿™ç¯‡æ–‡ç« æŠŠåŠ³åŠ¨ä»²è£è¿™ä»¶äº‹ç»™è¯´æ˜ç™½ã€‚è™½ç„¶å¸Œæœ›å„ä½éƒ½ç”¨ä¸ä¸Šï¼Œä½†å¤šäº†è§£ä¸€äº›æ€»æ˜¯å¥½çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨åŠ³åŠ¨åˆåŒç­¾ç«‹çš„è¿‡ç¨‹ä¸­ï¼Œç”¨äººå•ä½å¾€å¾€å¤„äºæå…¶å¼ºåŠ¿çš„åœ°ä½ã€‚å¯¹åº”çš„ï¼ŒåŠ³åŠ¨è€…æ¯«æ— ç–‘é—®å±äºå¼±åŠ¿çš„ä¸€æ–¹ã€‚åœ¨åŒæ–¹å°±åŠ³åŠ¨åˆåŒçš„å±¥è¡Œäº§ç”Ÿäº‰è®®æ—¶ï¼Œä¾é å‹å¥½åå•†æœ‰æ—¶å¹¶ä¸èƒ½è¾¾æˆè®©äººæ»¡æ„çš„ç»“æœï¼Œäºæ˜¯ä¾¿æœ‰äº†åŠ³åŠ¨äº‰è®®ä»²è£å§”å‘˜ä¼šã€‚æ— è®ºåŠ³åŠ¨è€…æ˜¯å¦æœ‰ä¸ç”¨äººå•ä½è¿›è¡Œåå•†ï¼Œåªè¦äº§ç”ŸåŠ³åŠ¨äº‰è®®ï¼Œå‡å¯ä»¥æäº¤åŠ³åŠ¨ä»²è£ç”³è¯·ã€‚æœ¬æ–‡æ¥ä¸‹æ¥å°†ä¸“æ³¨äºå› è£å‘˜å¯¼è‡´äº§ç”ŸåŠ³åŠ¨ä»²è£çš„æƒ…å½¢ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/categories/Linux/"/>
    
    
      <category term="æŠ€å·§" scheme="https://www.hi-linux.com/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="Linux" scheme="https://www.hi-linux.com/tags/Linux/"/>
    
      <category term="èŒåœº" scheme="https://www.hi-linux.com/tags/%E8%81%8C%E5%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ä»½è¶…å®ç”¨çš„ Nginx Location é…ç½®è¯¦è§£</title>
    <link href="https://www.hi-linux.com/posts/51752.html"/>
    <id>https://www.hi-linux.com/posts/51752.html</id>
    <published>2023-12-11T01:00:00.000Z</published>
    <updated>2023-12-11T03:42:28.101Z</updated>
    
    <content type="html"><![CDATA[<div id="vip-container"><h2><span id="å‰è¨€">å‰è¨€</span></h2><p>Location æ˜¯ Nginx ä¸­ä¸€ä¸ªéå¸¸æ ¸å¿ƒçš„é…ç½®ï¼Œè¿™ç¯‡é‡ç‚¹è®²è§£ä¸€ä¸‹ Location çš„é…ç½®é—®é¢˜ä»¥åŠä¸€äº›æ³¨æ„äº‹é¡¹ã€‚</p><h2><span id="è¯­æ³•">è¯­æ³•</span></h2><p>å…³äº Locationï¼Œä¸¾ä¸ªç®€å•çš„é…ç½®ä¾‹å­ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">http</span> &#123; </span><br><span class="line">  <span class="section">server</span> &#123;</span><br><span class="line">      <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">        <span class="attribute">server_name</span> www.yayujs.com;</span><br><span class="line">        <span class="attribute">location</span> / &#123;</span><br><span class="line">          <span class="attribute">root</span> /home/www/ts/;</span><br><span class="line">          <span class="attribute">index</span> index.html;</span><br><span class="line">        &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><p>å¤§è‡´çš„æ„æ€æ˜¯ï¼Œå½“ä½ è®¿é—® <code>www.yayujs.com</code> çš„ <code>80</code> ç«¯å£çš„æ—¶å€™ï¼Œè¿”å› <code>/home/www/ts/index.html</code> æ–‡ä»¶ã€‚</p><p>æˆ‘ä»¬çœ‹ä¸‹ Location çš„å…·ä½“è¯­æ³•ï¼š</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">location</span> <span class="title">[ = | ~ | ~* | ^~ ] uri</span> &#123; ... &#125;</span><br></pre></td></tr></table></figure><p>é‡ç‚¹çœ‹æ–¹æ‹¬å·ä¸­çš„ <code>[ = | ~ | ~* | ^~ ]</code>ï¼Œå…¶ä¸­ <code>|</code> åˆ†éš”çš„å†…å®¹è¡¨ç¤ºä½ å¯èƒ½ä¼šç”¨åˆ°çš„è¯­æ³•ï¼Œå…¶ä¸­ï¼š</p><ul><li><code>=</code> è¡¨ç¤ºç²¾ç¡®åŒ¹é…ï¼Œæ¯”å¦‚ï¼š</li></ul><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">location</span> <span class="title">= /test</span> &#123;</span><br><span class="line">  return <span class="number">200</span> <span class="string">"hello"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># /test ok</span></span><br><span class="line"><span class="comment"># /test/ not ok</span></span><br><span class="line"><span class="comment"># /test2 not ok</span></span><br><span class="line"><span class="comment"># /test/2 not ok</span></span><br></pre></td></tr></table></figure><ul><li><code>~</code> è¡¨ç¤ºåŒºåˆ†å¤§å°å†™çš„æ­£åˆ™åŒ¹é…ï¼Œæ¯”å¦‚ï¼š</li></ul><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">location</span> <span class="title">~ ^/test</span>$ &#123;</span><br><span class="line">  [ configuration ] </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># /test ok</span></span><br><span class="line"><span class="comment"># /Test not ok</span></span><br><span class="line"><span class="comment"># /test/ not ok</span></span><br><span class="line"><span class="comment"># /test2 not ok</span></span><br></pre></td></tr></table></figure><ul><li><code>~*</code> è¡¨ç¤ºä¸åŒºåˆ†å¤§å°å†™çš„æ­£åˆ™åŒ¹é…</li></ul><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">location</span> <span class="title">~* ^/test</span>$ &#123;     </span><br><span class="line">    [ configuration ] </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># /test ok</span></span><br><span class="line"><span class="comment"># /Test ok</span></span><br><span class="line"><span class="comment"># /test/ not ok</span></span><br><span class="line"><span class="comment"># /test2 not ok</span></span><br></pre></td></tr></table></figure><ul><li><code>^~</code> è¡¨ç¤º uri ä»¥æŸä¸ªå­—ç¬¦ä¸²å¼€å¤´</li></ul><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">location</span> <span class="title">^~ /images</span>/ &#123;    </span><br><span class="line">    [ configuration ] </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># /images/1.gif ok</span></span><br></pre></td></tr></table></figure><p>è€Œå½“ä½ ä¸ä½¿ç”¨è¿™äº›è¯­æ³•çš„æ—¶å€™ï¼Œåªå†™ uri çš„æ—¶å€™ï¼š</p><p><code>/</code> è¡¨ç¤ºé€šç”¨åŒ¹é…ï¼š</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">location</span> <span class="title">/ &#123;     </span></span><br><span class="line"><span class="title">    [ configuration</span> ] </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># /index.html ok</span></span><br><span class="line"><span class="keyword">location</span> <span class="title">/test</span> &#123;</span><br><span class="line">    [ configuration ] </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># /test ok</span></span><br><span class="line"><span class="comment"># /test2 ok</span></span><br><span class="line"><span class="comment"># /test/ ok</span></span><br></pre></td></tr></table></figure><h2><span id="åŒ¹é…é¡ºåº">åŒ¹é…é¡ºåº</span></h2><p>å½“å­˜åœ¨å¤šä¸ª location çš„æ—¶å€™ï¼Œä»–ä»¬çš„åŒ¹é…é¡ºåºå¼•ç”¨ <a href="https://link.segmentfault.com/?enc=sah%2Br0st4OoDSH53K0i1lA%3D%3D.IeNU1hnVBfLtvwt4TWcSRag6FLaayC8NDRbkNSiZVvpwANmQuEigx0kLfgTlKJhRuaFlCOH38WFatOeN8H0E4t0rzJimS%2BW8CHUTzh5P%2B7s%3D" target="_blank" rel="noopener">Nginx å®˜æ–¹æ–‡æ¡£</a>å°±æ˜¯ï¼š</p><blockquote><p>A location can either be defined by a prefix string, or by a regular expression. Regular expressions are specified with the preceding â€œ~*â€ modifier (for case-insensitive matching), or the â€œ~â€ modifier (for case-sensitive matching). To find location matching a given request, nginx first checks locations defined using the prefix strings (prefix locations). Among them, the location with the longest matching prefix is selected and remembered. Then regular expressions are checked, in the order of their appearance in the configuration file. The search of regular expressions terminates on the first match, and the corresponding configuration is used. If no match with a regular expression is found then the configuration of the prefix location remembered earlier is used.</p><p>If the longest matching prefix location has the â€œ^~â€ modifier then regular expressions are not checked.</p><p>Also, using the â€œ=â€ modifier it is possible to define an exact match of URI and location. If an exact match is found, the search terminates. For example, if a â€œ/â€ request happens frequently, defining â€œlocation = /â€ will speed up the processing of these requests, as search terminates right after the first comparison. Such a location cannot obviously contain nested locations.</p></blockquote><p>ç¿»è¯‘æ•´ç†åå°±æ˜¯ï¼š</p><p>location çš„å®šä¹‰åˆ†ä¸ºä¸¤ç§ï¼š</p><ul><li>å‰ç¼€å­—ç¬¦ä¸²ï¼ˆprefix stringï¼‰</li><li>æ­£åˆ™è¡¨è¾¾å¼ï¼ˆregular expressionï¼‰ï¼Œå…·ä½“ä¸ºå‰é¢å¸¦ <code>~*</code> å’Œ <code>~</code> ä¿®é¥°ç¬¦çš„</li></ul><p>è€ŒåŒ¹é… location çš„é¡ºåºä¸ºï¼š</p><ol><li>æ£€æŸ¥ä½¿ç”¨å‰ç¼€å­—ç¬¦ä¸²çš„ locationsï¼Œåœ¨ä½¿ç”¨å‰ç¼€å­—ç¬¦ä¸²çš„ locations ä¸­é€‰æ‹©æœ€é•¿åŒ¹é…çš„ï¼Œå¹¶å°†ç»“æœè¿›è¡Œå‚¨å­˜</li><li>å¦‚æœç¬¦åˆå¸¦æœ‰ <code>=</code> ä¿®é¥°ç¬¦çš„ URIï¼Œåˆ™ç«‹åˆ»åœæ­¢åŒ¹é…</li><li>å¦‚æœç¬¦åˆå¸¦æœ‰ <code>^~</code> ä¿®é¥°ç¬¦çš„ URIï¼Œåˆ™ä¹Ÿç«‹åˆ»åœæ­¢åŒ¹é…ã€‚</li><li>ç„¶åæŒ‰ç…§å®šä¹‰æ–‡ä»¶çš„é¡ºåºï¼Œæ£€æŸ¥æ­£åˆ™è¡¨è¾¾å¼ï¼ŒåŒ¹é…åˆ°å°±åœæ­¢</li><li>å½“æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ä¸åˆ°çš„æ—¶å€™ï¼Œä½¿ç”¨ä¹‹å‰å‚¨å­˜çš„å‰ç¼€å­—ç¬¦ä¸²</li></ol><p>å†æ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼š</p><p>åœ¨é¡ºåºä¸Šï¼Œå‰ç¼€å­—ç¬¦ä¸²é¡ºåºä¸é‡è¦ï¼ŒæŒ‰ç…§åŒ¹é…é•¿åº¦æ¥ç¡®å®šï¼Œæ­£åˆ™è¡¨è¾¾å¼åˆ™æŒ‰ç…§å®šä¹‰é¡ºåºã€‚</p><p>åœ¨ä¼˜å…ˆçº§ä¸Šï¼Œ<code>=</code> ä¿®é¥°ç¬¦æœ€é«˜ï¼Œ<code>^~</code> æ¬¡ä¹‹ï¼Œå†è€…æ˜¯æ­£åˆ™ï¼Œæœ€åæ˜¯å‰ç¼€å­—ç¬¦ä¸²åŒ¹é…ã€‚</p><p>æˆ‘ä»¬ä¸¾å‡ ä¸ªç®€å•çš„ä¾‹å­å¤ä¹ ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    location &#x2F;doc &#123;</span><br><span class="line">        [ configuration A ] </span><br><span class="line">    &#125;</span><br><span class="line">    location &#x2F;docu &#123;</span><br><span class="line">        [ configuration B ] </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># è¯·æ±‚ &#x2F;document ä½¿ç”¨ configuration B</span><br><span class="line"># è™½ç„¶ &#x2F;doc ä¹Ÿèƒ½åŒ¹é…åˆ°ï¼Œä½†åœ¨é¡ºåºä¸Šï¼Œå‰ç¼€å­—ç¬¦ä¸²é¡ºåºä¸é‡è¦ï¼ŒæŒ‰ç…§åŒ¹é…é•¿åº¦æ¥ç¡®å®š</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    location ~ ^&#x2F;doc &#123;</span><br><span class="line">        [ configuration A ] </span><br><span class="line">    &#125;</span><br><span class="line">    location ~ ^&#x2F;docu &#123;</span><br><span class="line">        [ configuration B ] </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># è¯·æ±‚ &#x2F;document ä½¿ç”¨ configuration A</span><br><span class="line"># è™½ç„¶ ~ ^&#x2F;docu ä¹Ÿèƒ½åŒ¹é…åˆ°ï¼Œä½†æ­£åˆ™è¡¨è¾¾å¼åˆ™æŒ‰ç…§å®šä¹‰é¡ºåº</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    location ^~ &#x2F;doc &#123;</span><br><span class="line">        [ configuration A ] </span><br><span class="line">    &#125;</span><br><span class="line">    location ~ ^&#x2F;docu &#123;</span><br><span class="line">        [ configuration B ] </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># è¯·æ±‚ &#x2F;document ä½¿ç”¨ configuration A</span><br><span class="line"># è™½ç„¶ ~ ^&#x2F;docu ä¹Ÿèƒ½åŒ¹é…åˆ°ï¼Œä½† ^~ çš„ä¼˜å…ˆçº§æ›´é«˜</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    location &#x2F;document &#123;</span><br><span class="line">        [ configuration A ] </span><br><span class="line">    &#125;</span><br><span class="line">    location ~ ^&#x2F;docu &#123;</span><br><span class="line">        [ configuration B ] </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># è¯·æ±‚ &#x2F;document ä½¿ç”¨ configuration B</span><br><span class="line"># è™½ç„¶ &#x2F;document ä¹Ÿèƒ½åŒ¹é…åˆ°ï¼Œä½†æ­£åˆ™çš„ä¼˜å…ˆçº§æ›´é«˜</span><br></pre></td></tr></table></figure><h2><span id="root-ä¸-alias-çš„åŒºåˆ«">root ä¸ alias çš„åŒºåˆ«</span></h2><p>å½“æˆ‘ä»¬è¿™æ ·è®¾ç½® <code>root</code> çš„æ—¶å€™ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">location <span class="regexp">/i/</span> &#123;</span><br><span class="line">    root <span class="regexp">/data/</span>w3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“è¯·æ±‚ <code>/i/top.gif</code> ï¼Œ<code>/data/w3/i/top.gif</code> ä¼šè¢«è¿”å›ã€‚</p><p>å½“æˆ‘ä»¬è¿™æ ·è®¾ç½® <code>alias</code> çš„æ—¶å€™ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">location <span class="regexp">/i/</span> &#123;</span><br><span class="line">    alias <span class="regexp">/data/</span>w3<span class="regexp">/images/</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“è¯·æ±‚ <code>/i/top.gif</code> ï¼Œ<code>/data/w3/images/top.gif</code> ä¼šè¢«è¿”å›ã€‚</p><p>ä¹ä¸€çœ‹ä¸¤è€…å¾ˆåƒï¼Œä½†ç»†ä¸€çœ‹ï¼Œå°±èƒ½çœ‹å‡ºä¸¤è€…çš„åŒºåˆ«ï¼Œroot æ˜¯ç›´æ¥æ‹¼æ¥ <code>root</code> + <code>location</code> è€Œ alias æ˜¯ç”¨ <code>alias</code> æ›¿æ¢ <code>location</code>ï¼Œæ‰€ä»¥ root ä¸­æœ€åçš„è·¯å¾„é‡Œæœ‰ <code>/i/</code>ï¼Œè€Œ alias ä¸­æœ€åçš„è·¯å¾„é‡Œæ²¡æœ‰ <code>/i/</code> ã€‚</p><p>æ‰€ä»¥å¦‚æœä½ è¿™æ ·ä½¿ç”¨ allias å®šä¹‰ä¸€ä¸ªè·¯å¾„ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">location <span class="regexp">/images/</span> &#123;</span><br><span class="line">    alias <span class="regexp">/data/</span>w3<span class="regexp">/images/</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶å®ä½¿ç”¨ root ä¼šæ›´å¥½ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">location <span class="regexp">/images/</span> &#123;</span><br><span class="line">    root <span class="regexp">/data/</span>w3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2><span id="server-å’Œ-location-ä¸­çš„-root">server å’Œ location ä¸­çš„ root</span></h2><p>server å’Œ location ä¸­éƒ½å¯ä»¥ä½¿ç”¨ rootï¼Œä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">http &#123; </span><br><span class="line">  server &#123;</span><br><span class="line">      listen <span class="number">80</span>;</span><br><span class="line">        server_name www.yayujs.com;</span><br><span class="line">        root <span class="regexp">/home/</span>www<span class="regexp">/website/</span>;</span><br><span class="line">        location <span class="regexp">/ &#123;</span></span><br><span class="line"><span class="regexp">          root /</span>home<span class="regexp">/www/</span>ts<span class="regexp">/;</span></span><br><span class="line"><span class="regexp">          index index.html;</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä¸¤è€…éƒ½å‡ºç°ï¼Œæ˜¯æ€æ ·çš„ä¼˜å…ˆçº§å‘¢ï¼Ÿ</p><p>ç®€å•çš„æ¥è¯´ï¼Œå°±æ˜¯å°±è¿‘åŸåˆ™ï¼Œå¦‚æœ location ä¸­èƒ½åŒ¹é…åˆ°ï¼Œå°±æ˜¯ç”¨ location ä¸­çš„ root é…ç½®ï¼Œå¿½ç•¥ server ä¸­çš„ rootï¼Œå½“ location ä¸­åŒ¹é…ä¸åˆ°çš„æ—¶å€™ï¼Œåˆ™ä½¿ç”¨ server ä¸­çš„ root é…ç½®ã€‚</p><blockquote><p>æœ¬æ–‡è½¬è½½è‡ªï¼šã€Œ å†´ç¾½çš„JavaScriptåšå®¢ ã€ï¼ŒåŸæ–‡ï¼š<a href="https://url.hi-linux.com/e0P8z" target="_blank" rel="noopener">https://url.hi-linux.com/e0P8z</a> ï¼Œç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚æ¬¢è¿æŠ•ç¨¿ï¼ŒæŠ•ç¨¿é‚®ç®±: <a href="mailto:editor@hi-linux.com">editor@hi-linux.com</a>ã€‚</p></blockquote></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "10135-1588830050631-449",        "name": "ã€Œå¥‡å¦™çš„ Linux ä¸–ç•Œã€",        "qrcode": "https://www.hi-linux.com/img/wechat/mp_qrcode_12.jpg",        "keyword": "VIP"    });}</script>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;Location æ˜¯ Nginx ä¸­ä¸€ä¸ªéå¸¸æ ¸å¿ƒçš„é…ç½®ï¼Œè¿™ç¯‡é‡ç‚¹è®²è§£ä¸€ä¸‹ Location çš„é…ç½®é—®é¢˜ä»¥åŠä¸€äº›æ³¨æ„äº‹é¡¹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è¯­æ³•&quot;&gt;è¯­æ³•&lt;/h2&gt;
&lt;p&gt;å…³äº Locationï¼Œä¸¾ä¸ªç®€å•çš„é…ç½®ä¾‹å­ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight nginx&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;section&quot;&gt;http&lt;/span&gt; &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;section&quot;&gt;server&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attribute&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;80&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;server_name&lt;/span&gt; www.yayujs.com;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;location&lt;/span&gt; / &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;attribute&quot;&gt;root&lt;/span&gt; /home/www/ts/;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;attribute&quot;&gt;index&lt;/span&gt; index.html;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/categories/Linux/"/>
    
    
      <category term="æŠ€å·§" scheme="https://www.hi-linux.com/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="Linux" scheme="https://www.hi-linux.com/tags/Linux/"/>
    
      <category term="Nginx" scheme="https://www.hi-linux.com/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€æ–‡å¸¦ä½ ææ‡‚æ—è·¯ç”±çš„åŸç†ä¸é…ç½®</title>
    <link href="https://www.hi-linux.com/posts/38236.html"/>
    <id>https://www.hi-linux.com/posts/38236.html</id>
    <published>2023-10-17T01:00:00.000Z</published>
    <updated>2023-10-17T09:28:18.953Z</updated>
    
    <content type="html"><![CDATA[<div id="vip-container"><p>æœ€æ—©å¬åˆ°æ—è·¯ç”±è¿™ä¸ªè¯æ˜¯åœ¨ 2020 å¹´æŠ˜è…¾ N1 çš„æ—¶å€™ï¼Œè¿™å°å•ç½‘å£çš„å°ç›’å­åªèƒ½ç”¨ç½‘ä¸Šæ‰€è¯´çš„æ—è·¯ç”±æ–¹æ¡ˆæ¥å…¥å±€åŸŸç½‘æ¥å®ç°æœŸæœ›çš„åŠŸèƒ½ã€‚ç°åœ¨å›æƒ³èµ·æ¥ï¼Œæ—è·¯ç”±è¿™ä¸ªè¯æœ‰å¯èƒ½å°±æ˜¯åœ¨é‚£ä¸ªå‘çƒ§å‹å¤§é‡æŠ˜è…¾æ–è®¯ N1/P1/T1 çš„æ—¶æœŸè¢«å‘æ˜å‡ºæ¥çš„ã€‚</p><p>ä½ æ²¡åŠæ³•åœ¨å‘çƒ§å‹åœˆå­å¤–çš„äº’è”ç½‘åŠå„ç§å­¦æœ¯ææ–™ä¸­æ‰¾åˆ°å¯¹æ—è·¯ç”±çš„æè¿°å’Œå®šä¹‰ï¼Œå½“ç„¶ä¹Ÿæ‰¾ä¸åˆ°åˆé€‚çš„è‹±æ–‡ç¿»è¯‘ï¼ˆå¯¼è‡´è¿™ç¯‡æ–‡ç« çš„ slug å®šä¹‰å›°éš¾ï¼‰ï¼›ä»æ‹“æ‰‘ä¸Šçœ‹ï¼Œæ—è·¯ç”±æ›´åƒæ˜¯æ‚ç³…äº†äºŒçº§è·¯ç”±å’Œé€æ˜ç½‘å…³çš„æ¦‚å¿µï¼Œé™¤äº†å®ä½“ç¡®å®å¤šæ¥äº†æ ¹ç½‘çº¿æ”¾åœ¨ä¸»è·¯ç”±æ—è¾¹ï¼Œå…¶æœ¬èº«å¹¶æ²¡æœ‰çœŸæ­£åœ°å¼€å¯ä¸€æ¡æ—è·¯ï¼Œåšçš„äº‹æƒ…ä¹ŸåŸºæœ¬å¯ä»¥å’Œç½‘å…³çš„å®šä¹‰å¯¹é½ã€‚</p><p>ä¸è¿‡ï¼Œç”±äºè¿™ä¸ªè¯´æ³•ä¸»è¦é›†ä¸­äºç½‘å‹çš„äº¤æµè®¨è®ºä¹‹ä¸­ï¼Œè€Œä¸”å‡ å¹´æ¥åœ¨æœ‰ç›¸å…³éœ€æ±‚çš„å¹¿å¤§ç”¨æˆ·ä¸­è¢«å¹¿ä¸ºæ¥å—ï¼Œæ‰€ä»¥åªè¦è¿™ä¸ªè¯ä¸å˜ä¸ºä¸€ä¸ªå­¦æœ¯æ¦‚å¿µï¼Œé‚£æˆ‘å€’ä¹Ÿä¸è§‰å¾—æœ‰ä»€ä¹ˆä¸å¦¥ã€‚ä¸‹æ–‡ä¹Ÿä»ç„¶ä¼šç”¨ã€Œæ—è·¯ç”±ã€ä¸€è¯æ¥æŒ‡ä»£åœ¨æ­¤ç±»æ‹“æ‰‘ç»“æ„ä¸­æ‹…ä»»ä»£ç†ç½‘å…³è§’è‰²çš„è·¯ç”±å™¨ã€‚</p><p>æ­¤å¤–ï¼Œæœ¬æ–‡å¯¹äºåŸç†çš„è§£é‡Šåå¤šä¸”ä¸ºæ–°æ‰‹å‘ï¼Œå¯¹äºå·²ç»ç†ŸçŸ¥ç›¸å…³æ¦‚å¿µçš„è¯»è€…åˆ™å¯ä»¥å°†æœ¬æ–‡ä½œä¸º cheat sheet é£Ÿç”¨ã€‚</p><a id="more"></a><h2><span id="æ—è·¯ç”±çš„é€‚ç”¨åœºæ™¯">æ—è·¯ç”±çš„é€‚ç”¨åœºæ™¯</span></h2><p>æœ‰äººè®¤ä¸ºæ—è·¯ç”±çš„åŠ å…¥ï¼ˆæ‰‹åŠ¨æŒ‡å®šæ–¹å¼ï¼‰ä¸ä¼šåœ¨å…¶å‡ºç°é—®é¢˜æ—¶å½±å“æ•´ä¸ªç½‘ç»œçš„å¯ç”¨æ€§ï¼Œæ‰€ä»¥åº”è¯¥æŠŠéè·¯ç”±åŠŸèƒ½éƒ½äº¤ç»™æ—è·¯ç”±æ¥å®ç°ã€‚ä½†å®é™…ä¸Šå¦‚æœä»…ä»…æ˜¯ä¸ºäº†è¾¾æˆè¿™ä¸ªç›®æ ‡ï¼Œé‚£åœ¨ä¸»è·¯ç”±ä¸Šç›´æ¥åˆ†æµä¼šæ˜¯ä¸ªæ›´å¥½çš„æ–¹æ¡ˆï¼Œå› ä¸ºè¿™æ ·ä¸ä»…ä¼šå¤§é‡å‡å°‘ç–‘éš¾æ‚ç—‡çš„å‡ºç°ï¼Œè€Œä¸”è¿˜å¯ä»¥é€šè¿‡è®¾ç½® fallback çš„æ–¹å¼è¿›ä¸€æ­¥æå‡ç½‘ç»œçš„å¯ç”¨æ€§ã€‚</p><p>æ‰€ä»¥æˆ‘è®¤ä¸ºæ—è·¯ç”±å®é™…ä¸Šåªé€‚ç”¨äºä¸€ä¸ªåœºæ™¯ï¼Œé‚£å°±æ˜¯å‡ºäºæŸç§è€ƒè™‘ï¼Œä¸»è·¯ç”±ä¸èƒ½è¢«æ›¿æ¢æˆ–è¢«å¤§é‡ä¿®æ”¹ï¼Œè€Œä¸»è·¯ç”±çš„å›ºä»¶åˆä¸èƒ½æ»¡è¶³åŠŸèƒ½è¯‰æ±‚ï¼Œè¿™æ—¶å€™æ—è·¯ç”±ä¾¿æ˜¯ä¸€ä¸ªå¯é€‰çš„è§£å†³æ–¹æ¡ˆã€‚</p><h2><span id="æ—è·¯ç”±çš„åŸç†">æ—è·¯ç”±çš„åŸç†</span></h2><p>ç½‘ä¸Šå…³äºæ—è·¯ç”±çš„é…ç½®æ•™ç¨‹å¤šå¦‚ç‰›æ¯›ï¼Œå…¶ä¸­å¤§éƒ¨åˆ†æ˜¯åŸºäº F å¤§çš„ N1 OpenWrt å›ºä»¶ä½¿ç”¨æ•™ç¨‹æ¥å†™çš„ï¼Œä¹Ÿæœ‰å¾ˆå¤šæ˜¯ç»“åˆäº†è‡ªå·±çš„è¸©å‘ç»éªŒçš„ç»†åŒ–ç‰ˆæœ¬ã€‚ç”±äºç‰ˆæœ¬å¤ªå¤šã€å®Œæ•´çš„è¯´æ˜å¤ªå°‘ï¼Œè€Œä¸”å¤§éƒ¨åˆ†æ²¡æœ‰è®²æ¸…æ¥šæ•™ç¨‹çš„ç¯å¢ƒä¸Šä¸‹æ–‡å’ŒåŸç†ï¼Œå¯¼è‡´æŒ‰ç…§è¿™äº›æ•™ç¨‹æ¥é…ç½®çš„ç”¨æˆ·å¾€å¾€ä¸å¾—ä¸ä¸€ééåœ°æŠ˜è…¾é‡è¯•ï¼Œç”šè‡³ä¼šé‡åˆ°é€æ­¥é…ç½®æœ€ç»ˆå´æ–­ç½‘ã€è®¿é—®ä¸äº†éƒ¨åˆ†ç½‘ç«™ç­‰ä»¤äººå¤´ç–¼çš„é—®é¢˜ã€‚</p><p>æˆä¹‹ä»¥é±¼ä¸å¦‚æˆä¹‹ä»¥æ¸”ï¼Œä¸ºäº†èƒ½å½»åº•è®²æ¸…æ¥šæ—è·¯ç”±è¯¥å¦‚ä½•é…ç½®ï¼Œæˆ‘ä»¬æš‚ä¸”ä¸è°ˆå…·ä½“æ­¥éª¤ï¼Œè€Œæ˜¯å…ˆææ˜ç™½æ—è·¯ç”±çš„è¿ä½œåŸç†ã€‚</p><h3><span id="åè¯è§£é‡Š">åè¯è§£é‡Š</span></h3><p>ç”±äºè®¡ç®—æœºç½‘ç»œçš„æœ¯è¯­åœ¨ä¸åŒæ—¶æœŸã€ä¸åŒç¯å¢ƒä¸‹ï¼Œå¯¹äºç»†èŠ‚çš„å«ä¹‰å…¶å®æœ‰æ¯”è¾ƒå¤§çš„å·®å¼‚ï¼Œæ•…é¦–å…ˆæˆ‘ä»¬å…ˆå®šä¹‰å¥½ä¸‹æ–‡ä¸­å°†ä½¿ç”¨åˆ°çš„å„ç±»ä¸“æœ‰åè¯çš„å«ä¹‰ï¼Œä»¥å…å‡ºç°ä¿¡æ¯ä¸å¯¹ç§°çš„æƒ…å†µã€‚åŒæ—¶ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œæˆ‘ä»¬ä¹Ÿå°½é‡å’Œ OpenWrt çš„åè¯å¯¹é½ï¼Œå¹¶å°è¯•ä¸ç°å®ç”Ÿæ´»åœºæ™¯è¿›è¡Œç±»æ¯”ã€‚</p><ol><li><strong>è·¯ç”±</strong>ï¼šå°†æ•°æ®ä»æºåœ°å€ä¼ è¾“åˆ°ç›®çš„åœ°å€çš„è¡Œä¸ºã€‚å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸ªè¡Œä¸ºæŠ½è±¡æ¶µç›–äº†ä¸¤ä¸ªåŠ¨ä½œï¼Œä¸€æ˜¯æ‰¾åˆ°åœ°å€ã€äºŒæ˜¯è½¬å‘æ•°æ®ã€‚å¯ä»¥ç±»æ¯”ä¸ºç½‘è´­æ—¶å¿«é€’å…¬å¸å°†å•†å“ä»å–å®¶å‘é€ç»™ä¹°å®¶çš„è¿‡ç¨‹ã€‚</li><li><strong>è·¯ç”±è¡¨</strong>ï¼šå¯ä»¥ç®€å•ç†è§£ä¸ºè·¯ç”±è¿‡ç¨‹ä¸­çš„åœ°å€å…³è”ä¿¡æ¯çš„åˆé›†ï¼Œä¹Ÿå°±æ˜¯ç°å®ä¸­å‘è´§åœ°å€å’Œæ”¶è´§åœ°å€çš„æ˜ å°„å…³ç³»ã€‚</li><li><strong>è·¯ç”±å™¨</strong>ï¼šæœ¬æ–‡ä¸­æŒ‡å®¶ç”¨çš„ã€å…·å¤‡è·¯ç”±åŠŸèƒ½çš„å®ä½“ç½‘ç»œè®¾å¤‡ï¼Œå…¶æœ¬èº«å¹¶ä¸ä¸€å®šéœ€è¦çœŸçš„æ‰¿æ‹…æˆ–åªæ‰¿æ‹…è·¯ç”±åŠŸèƒ½ï¼Œå¯ä»¥æŠ½è±¡ç†è§£ä¸ºå°±æ˜¯ä¸€å°æ™®é€šçš„ç”µè„‘æˆ–æœåŠ¡å™¨ã€‚å½“ç„¶ï¼Œå®ƒä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå®¹å™¨å®ä¾‹ã€ä¸€ä¸ªè™šæ‹Ÿæœºã€‚å¯¹åº”åˆ°ç°å®ä¸­å°±æ˜¯å¿«é€’å…¬å¸ã€‚</li><li><strong>æ¥å£</strong>ï¼šè¿™é‡Œç‰¹æŒ‡ç½‘ç»œæ¥å£ï¼ŒæŒ‡ä¸¤ä¸ªç½‘ç»œè®¾å¤‡æˆ–åè®®å±‚çš„è¿æ¥ç‚¹ã€‚ç°å®ä¸­è¿æ¥è·¯ç”±å™¨æ—¶ï¼Œwan/lan ä¸åŒçš„ç½‘çº¿æ’æ§½å…¶å®å°±å¯ä»¥ç†è§£ä¸ºæ¥å£ã€‚åªä¸è¿‡æ¥å£å¹¶ä¸ä¸€å®šæ˜¯ç‰©ç†å®ä½“ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰ä¼šåœ¨ OpenWrt çš„æ¥å£è®¾ç½®é‡Œçœ‹åˆ°ç”šè‡³æ–°å¢è®¸å¤šç‰©ç†è®¾å¤‡ä¸Šæ‰€æ²¡æœ‰çš„æ¥å£ã€‚</li><li><strong>ç½‘å…³</strong>ï¼šè¿™é‡Œç‰¹æŒ‡ç½‘ç»œä¸­çš„ç½‘å…³ï¼Œè´Ÿè´£æ‰§è¡Œæ•°æ®è½¬å‘çš„æŸä¸ªæŠ½è±¡è®¾å¤‡ã€‚è¿™é‡Œå¯èƒ½å®¹æ˜“ä¸è·¯ç”±å™¨çš„åŠŸèƒ½æ··æ·†ï¼Œæ¯•ç«Ÿè·¯ç”±å™¨å¦‚æœç”¨æ¥åšè·¯ç”±ä¼¼ä¹ä¹Ÿæ˜¯åœ¨åšè½¬å‘çš„å·¥ä½œã€‚å®é™…ä¸Šè¿™æ˜¯ç”±äºæœ¯è¯­çš„å†å²ä½¿ç”¨ç¼ºå°‘è§„èŒƒå¯¼è‡´çš„è¾¹ç•Œä¸å¤Ÿæ¸…æ™°ï¼Œå¯ä»¥ç²—ç•¥ç†è§£ä¸ºæ‰¿æ‹…è·¯ç”±åŠŸèƒ½çš„è·¯ç”±å™¨å°±æ˜¯ç½‘å…³ï¼Œä½†ç½‘å…³ä¸ä¸€å®šæ˜¯åªèƒ½ç”±è·¯ç”±å™¨æ‹…ä»»ã€‚</li><li><strong>IP</strong>ï¼šæœ¬èº«æŒ‡ IP åè®®ï¼Œæœ¬æ–‡ä¸ºæ–¹ä¾¿ä¹Ÿå¯èƒ½å°†å…¶ä½œä¸º IP åœ°å€çš„ç®€ç§°ï¼Œä¸”é»˜è®¤ä¸º IPv4 ã€‚æœ¬èŠ‚æ‰€æœ‰çš„åè¯å…¶å®éƒ½æ˜¯åŸºäº IP åè®®è¿ä½œçš„ï¼Œè€Œ IP åœ°å€å³ä¸Šæ–‡å„ç±»ã€Œåœ°å€ã€çš„å®é™…å€¼ã€‚å¯ä»¥ç†è§£ä¸ºä½ ç”¨äºå‘é€å’Œæ¥æ”¶å¿«é€’çš„é—¨ç‰Œå·ã€‚</li><li><strong>DHCP</strong>ï¼šIP åœ°å€çš„ç®¡ç†å’Œåˆ†é…åè®®ï¼Œæœ¬æ–‡ä¸­ä¸å•å•æŒ‡åè®®æœ¬èº«ï¼Œè¿˜æŒ‡è´Ÿè´£æ‰§è¡Œè¯¥åè®®çš„è®¾å¤‡ã€‚å¯ä»¥ç†è§£ä¸ºç»™ä½ åˆ†é…é—¨ç‰Œå·çš„ç‰©ä¸šï¼Œåªä¸è¿‡è¿™ä¸ªé—¨ç‰Œå·æ˜¯åŠ¨æ€å˜åŒ–çš„ã€‚</li><li><strong>DNS</strong>ï¼šä¸Šæ–‡è¯´åˆ°æ•°æ®çš„ä¼ è¾“éœ€è¦æºåœ°å€å’Œç›®çš„åœ°å€ï¼Œè€Œè¿™ä¸ªåœ°å€å°±æ˜¯ IP åœ°å€ã€‚ä½†ç”±äº IP åœ°å€éš¾ä»¥è®°å¿†ï¼Œæ‰€ä»¥æ‰ä¼šæœ‰äº†å¯ä»¥ä½œä¸º IP åœ°å€åˆ«åçš„åŸŸåï¼Œè€Œ DNS å°±æ˜¯è´Ÿè´£è¿›è¡ŒåŸŸåå’Œ IP åœ°å€æ˜ å°„è½¬æ¢çš„ç³»ç»Ÿã€‚æœ¬æ–‡ä¸­ DNS ä¹ŸæŒ‡ä»£è´Ÿè´£è¿è¡Œè¯¥ç³»ç»Ÿçš„è®¾å¤‡ã€‚</li><li><strong>NAT</strong>ï¼šå‡ºäºå„ç§è€ƒè™‘ï¼Œå±€åŸŸç½‘ä¸å› ç‰¹ç½‘çš„ IP åœ°å€æ˜¯éš”ç¦»çš„ï¼ŒNAT å¯ä»¥ç†è§£ä¸ºå†…å¤–ç½‘ IP åœ°å€è½¬æ¢çš„æµç¨‹ã€‚ç±»æ¯”ç½‘è´­ï¼Œç›¸å½“äºå¿«é€’å…¬å¸æŠŠå¿«é€’é€åˆ°é™„è¿‘å¿«é€’ç«™ï¼Œå¿«é€’ç«™çš„å¿«é€’å‘˜å†æŠŠè´§ç‰©é€åˆ°ä½ å®¶é—¨å£çš„æµç¨‹ã€‚</li><li><strong>SNAT</strong>ï¼šNAT çš„ä¸€ç§ï¼Œæœ¬è´¨ä¸Šæ˜¯åœ¨ä¿®æ”¹ç½‘ç»œåŒ…çš„æºåœ°å€ï¼Œç›®çš„æ˜¯å¯ä»¥å¼ºåˆ¶ç½‘ç»œåŒ…è¿”å›æ—¶ç»è¿‡æœŸæœ›çš„åœ°å€ã€‚å¯ä»¥ç†è§£ä¸ºæ”¯ä»˜å®çš„ä½œç”¨ï¼Œå³é’±è™½ç„¶è¡¨é¢ä¸Šæ˜¯ç‚¹å¯¹ç‚¹è½¬è´¦çš„ï¼Œä½†ç»è¿‡æ”¯ä»˜å®åï¼Œæ”¯ä»˜å®å°±è¦æ±‚ç›¸å…³è½¬è´¦ä¿¡æ¯çš„å›æ‰§å¿…é¡»ç”±å®ƒä¸­è½¬ä¸€æ¬¡å†å‘ŠçŸ¥è½¬è´¦å‘èµ·äººã€‚</li></ol><h3><span id="ç½‘ç»œæ‹“æ‰‘">ç½‘ç»œæ‹“æ‰‘</span></h3><p><img src="https://img.hi-linux.com/staticfile/ee0724cd54a8e17f32a0971e2f4969fc-20231017155659529-2023-10-17-FjrDYN.png" alt="æ—è·¯ç”±æ¶æ„çš„ç½‘ç»œæ‹“æ‰‘å›¾"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œæ— è®ºå¦‚ä½•é…ç½®ï¼Œæˆ‘ä»¬éƒ½éœ€è¦ä¿è¯æ•°æ®æŒ‰å›¾ä¸­çš„æ‹“æ‰‘è¿›è¡Œæµè½¬ï¼Œæ‰èƒ½å®ç°æˆ‘ä»¬æ‰€å¸Œæœ›çš„åªåœ¨æ—è·¯ç”±å¢åŠ åŠŸèƒ½è€Œä¸ä¿®æ”¹ä¸»è·¯ç”±çš„ç›®çš„ã€‚ç”±äºæµé‡ï¼ˆè‡³å°‘ä¸Šè¡Œæµé‡ï¼‰æ€»ä¼šæµç»æ—è·¯ç”±ï¼Œæ‰€ä»¥æ—è·¯ç”±å®è´¨ä¸Šå°±æ˜¯ä¸€å±‚é€æ˜ä»£ç†ã€‚</p><h3><span id="å·¥ä½œåŸç†">å·¥ä½œåŸç†</span></h3><p>é‚£ä¹ˆæˆ‘ä»¬è¯¥æ€ä¹ˆå®ç°è¿™æ ·çš„ç½‘ç»œæ‹“æ‰‘å‘¢ï¼Ÿè®©æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹æ•°æ®åœ¨ç½‘ç»œçš„æ›´åº•å±‚æ˜¯å¦‚ä½•æµè½¬çš„ã€‚</p><p><img src="https://img.hi-linux.com/staticfile/d247c8b3d92cd3990245b622d5e7aa56-2023-10-17-axxUVL.png" alt="æ—è·¯ç”±æ¶æ„çš„æ•°æ®æµè½¬ç¤ºæ„å›¾"></p><p>ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå½“æˆ‘ä»¬ä»æ‰‹æœºç­‰ç»ˆç«¯è®¾å¤‡å‘å‡ºä¸€ä¸ªæ•°æ®åŒ…æ—¶ï¼Œæ•°æ®åŒ…æ€»æ˜¯ç”±æˆ‘ä»¬çš„ç»ˆç«¯è®¾å¤‡ç»ç”±ç½‘å…³è·¯ç”±è‡³ç›®çš„åœ°å€ï¼Œç›®çš„åœ°å€è¿”å›æ•°æ®æ—¶ä¹Ÿæ˜¯ç›¸åŒçš„è·¯å¾„ã€‚è¿™æ˜¯å› ä¸ºç»ˆç«¯è®¾å¤‡æœ¬èº«é€šå¸¸æ˜¯ä¸å…·å¤‡è·¯ç”±åŠŸèƒ½çš„ï¼Œå•å•ä¸€ä¸ªè·¯ç”±è¡¨ç»ˆç«¯è®¾å¤‡å°±æä¸å®šã€‚</p><p>æ—¢ç„¶æ•°æ®å¿…ç„¶ç»è¿‡ç½‘å…³ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªè¦å¼ºåˆ¶æŠŠæ—è·¯ç”±ä½œä¸ºç»ˆç«¯è®¾å¤‡å¯¹å¤–æ•°æ®äº¤äº’çš„ç¬¬ä¸€å±‚ç½‘å…³å³å¯ã€‚è‡³æ­¤æ—è·¯ç”±çš„å·¥ä½œåŸç†å…¶å®å°±å·²ç»è§£é‡Šæ¸…æ¥šäº†ï¼Œå³åœ¨å¦ä¸€å°è·¯ç”±å™¨ä¸Šå®ç°çš„åŸºäºç½‘å…³çš„é€æ˜ä»£ç†ã€‚è€Œç½‘ä¸Šå„å¼å„æ ·çš„æ•™ç¨‹å…¶å®éƒ½æ˜¯åœ¨æ•™æˆ‘ä»¬è§£å†³å¦‚ä½•é…ç½®ç½‘å…³çš„é—®é¢˜ã€‚</p><p>åœ¨è¿™ä¸€ç« èŠ‚è¿˜éœ€è¦è¯´æ˜çš„æ˜¯ä¸ºä»€ä¹ˆå„ä¸ªæ•™ç¨‹éƒ½è¦æ±‚æˆ‘ä»¬æŠŠæ—è·¯ç”±çš„ IP é…ç½®åœ¨å’Œä¸»è·¯ç”±ç›¸åŒçš„ IP ç½‘æ®µã€‚æ‰€è°“çš„ IP ç½‘æ®µå®é™…ä¸Šå°±æ˜¯å­ç½‘ï¼ŒåŒä¸€å­ç½‘ä¸‹çš„ä¸»æœºï¼ˆè®¾å¤‡ï¼‰å¯ä»¥ç›´æ¥é€šä¿¡ï¼Œè·¨å­ç½‘åˆ™éœ€è¦é€šè¿‡æŸç§å½¢å¼è½¬æ¢åæ‰èƒ½é€šä¿¡ï¼Œè€Œè¿™äº›è½¬æ¢è™½ç„¶å¯è¡Œä½†æ¯”è¾ƒå¤æ‚ï¼Œåœ¨æ—è·¯ç”±è¿™ä¸ªåœºæ™¯ä¸‹æ˜¾ç„¶æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚æœ¬ç€ä¸æ”¹å˜åŸæœ‰ç½‘ç»œæ‹“æ‰‘çš„åŸåˆ™ï¼Œæ—è·¯ç”±è‡ªç„¶ä¹Ÿè¦é…ç½®åœ¨å’Œä¸»è·¯ç”±åŠå…¶ä»–è®¾å¤‡ç›¸åŒçš„å­ç½‘æ‰è¡Œã€‚</p><h2><span id="æ—è·¯ç”±çš„é…ç½®">æ—è·¯ç”±çš„é…ç½®</span></h2><p>é‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•é…ç½®ç½‘å…³ä»¥è®©æ•°æ®æŒ‰ä¸Šæ–‡çš„å·¥ä½œåŸç†è¿›è¡Œæµè½¬å‘¢ï¼Ÿ</p><h3><span id="ä¸€æ—è·¯ç”±çš„ç½‘å…³è®¾ç½®">ï¼ˆä¸€ï¼‰æ—è·¯ç”±çš„ç½‘å…³è®¾ç½®</span></h3><p>é¦–å…ˆæˆ‘ä»¬å…ˆæ¥è§£å†³æ—è·¯ç”±çš„ç½‘å…³é—®é¢˜ã€‚åœ¨ä¸Šæ–‡çš„æ‹“æ‰‘å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ—è·¯ç”±è™½ç„¶æŒ‚ç€è·¯ç”±å™¨çš„åå­—ï¼Œä½†å®ƒæœ¬è´¨ä¸Šä¹Ÿæ˜¯ç½‘ç»œé“¾è·¯ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤å®ƒä¹Ÿéœ€è¦è¯·æ±‚ä¸Šå±‚ç½‘å…³æ‰èƒ½å®Œæˆæ•°æ®æµè½¬ã€‚è€Œä¸»è·¯ç”±æ˜¯è¿™ä¸ªç½‘ç»œæ‹“æ‰‘çš„å‡ºå£ï¼Œæ‰€ä»¥æ—è·¯ç”±çš„ç½‘å…³è‡ªç„¶è¦é…ç½®ä¸ºä¸»è·¯ç”±çš„ IP åœ°å€ã€‚è¿™ä¸€é¡¹é…ç½®æ˜¯å¿…é¡»ä¸”ä¸ä¼šéšç»ˆç«¯ç½‘å…³é…ç½®æ–¹å¼çš„å˜åŒ–è€Œæ”¹å˜çš„ï¼Œæ— è®ºå¦‚ä½•æŒ‡å®šç½‘å…³è¯·æ±‚æ—è·¯ç”±ï¼Œæ—è·¯ç”±æœ¬èº«éƒ½è¦ä¾èµ–æ­¤é…ç½®æ‰èƒ½å®Œæˆæ­£å¸¸çš„æµé‡è½¬å‘ã€‚</p><p>æ­¤å¤–ï¼Œè¿˜æœ‰å­ç½‘æ©ç éœ€è¦è¿›è¡Œé…ç½®ã€‚å‰é¢æœ‰æåˆ°ï¼Œåœ¨åŒä¸€å­ç½‘å†…çš„ä¸»æœºä¹‹é—´æ‰èƒ½ç›´æ¥é€šä¿¡ï¼Œè€Œ IP å’Œå­ç½‘æ©ç ç›¸ç»„åˆä¾¿èƒ½ç¡®å®šè®¾å¤‡å½“å‰æ‰€åœ¨çš„å­ç½‘ã€‚æ—è·¯ç”±å¹¶ä¸æ”¹å˜ç½‘ç»œæ‹“æ‰‘ï¼Œæ‰€ä»¥éœ€è¦å’Œä¸»è·¯ç”±åœ¨åŒä¸€å­ç½‘å†…ã€‚å› æ­¤å°†æ—è·¯ç”±çš„å­ç½‘æ©ç é…ç½®è®¾ç½®ä¸ºä¸»è·¯ç”±çš„å­ç½‘æ©ç å³å¯ã€‚åŒç†ï¼Œä¸‹æ–‡çš„æ‰€æœ‰å­ç½‘æ©ç é…ç½®ä¹Ÿå‡éœ€è¦ä¸ä¸»è·¯ç”±çš„ä¿æŒä¸€è‡´ã€‚</p><h3><span id="äºŒæ—è·¯ç”±çš„dhcpé…ç½®">ï¼ˆäºŒï¼‰æ—è·¯ç”±çš„DHCPé…ç½®</span></h3><p>è™½ç„¶é…ç½®äº†ç½‘å…³åæ•°æ®æµè½¬å›¾ä¸­çš„å·¦åŠè¾¹å·²ç»æˆå‹ï¼Œä½†å¦‚æœä¸å¯¹æ—è·¯ç”±çš„ DHCP è¿›è¡Œé…ç½®ï¼Œå®é™…ä¸Šä¼šå¯¼è‡´å„ç§å„æ ·çš„ç–‘éš¾æ‚ç—‡æˆ–ç›´æ¥æ— æ³•è”ç½‘ã€‚</p><p>åŸå› åœ¨äº DHCP ä½¿ç”¨äº† UDP åè®®ï¼ŒUDP æ˜¯æ²¡æœ‰è¿æ¥çš„ï¼Œå¦‚æœä¸»è·¯ç”±å’Œæ—è·¯ç”±åŒæ—¶å¼€å¯ DHCPï¼Œåˆ™ä»»æ„ä¸€ä¸ª DHCP æœåŠ¡å™¨éƒ½å¯èƒ½ä¼šåº”ç­”ç»ˆç«¯çš„ç”³è¯·ï¼Œè¿›è€Œå¯¼è‡´ IP ä¸‹å‘å’Œè·¯ç”±è¡¨çš„æ··ä¹±é€ æˆå„ç§æ— æ³•è¿æ¥çš„ç–‘éš¾æ‚ç—‡ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸¤ä¸ª DHCP çš„å­ç½‘ç½‘æ®µæ‹†åˆ†å¼€æ¥è§£å†³å…±å­˜é—®é¢˜ï¼Œä½†è¿™ä¸ªè¡Œä¸ºåœ¨æ—è·¯ç”±åœºæ™¯ä¸‹å¹¶æ²¡æœ‰å®é™…æ„ä¹‰ã€‚</p><p>å› æ­¤æˆ‘ä»¬éœ€è¦ä¿è¯ç½‘ç»œä¸­åªæœ‰ä¸€ä¸ªè®¾å¤‡æ‰¿æ‹… DHCP åŠŸèƒ½ï¼Œå‡ºäºä¸æ”¹å˜åŸç½‘ç»œæ‹“æ‰‘å’Œé¿å…æ— æ„ä¹‰ NAT çš„è€ƒè™‘ï¼Œæˆ‘ä»¬é€šå¸¸é€‰æ‹©å…³é—­æ—è·¯ç”±çš„ DHCP åŠŸèƒ½ï¼ˆå¯¹åº”åˆ° OpenWrt åˆ™é€‰æ‹©ã€Œå¿½ç•¥æ­¤æ¥å£ã€ï¼‰ã€‚</p><h3><span id="ä¸‰ç»ˆç«¯ç½‘å…³é…ç½®">ï¼ˆä¸‰ï¼‰ç»ˆç«¯ç½‘å…³é…ç½®</span></h3><p>å¯¹äºæ‰‹æœºã€ç”µè„‘ç­‰ç»ˆç«¯ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯å°†å…¶ç½‘å…³é…ç½®ä¸ºæ—è·¯ç”±çš„ IP ã€‚å®ç°æ–¹æ¡ˆå¾ˆå¤šï¼Œæˆæœ¬è¾ƒä½çš„ä¸»è¦ä¸ºä»¥ä¸‹ä¸¤ç§ã€‚</p><h4><span id="æ‰‹åŠ¨æŒ‡å®š">æ‰‹åŠ¨æŒ‡å®š</span></h4><p>é¡¾åæ€ä¹‰ï¼Œåªéœ€è¦åœ¨ç»ˆç«¯è®¾å¤‡çš„ç½‘ç»œè®¾ç½®ä¸­å°†ç½‘å…³æ‰‹åŠ¨é…ç½®ä¸ºæ—è·¯ç”±å³å¯ã€‚ä»¥ iOS ç³»ç»Ÿä¸ºä¾‹ï¼š</p><p><img src="https://img.hi-linux.com/staticfile/3f58fee3de6f48c714173df4f26aac2e-20231017155712142-2023-10-17-r8gGV8.jpg" alt="iOS ç½‘ç»œé…ç½®ç•Œé¢"></p><p>æ‰‹åŠ¨å¡«å†™ä¸€ä¸ªç½‘ç»œä¸Šæœªè¢«å ç”¨çš„ IP åœ°å€ï¼Œè€Œå­ç½‘æ©ç ä»¥ä¸»è·¯ç”±ä¸ºå‡†ï¼Œç½‘å…³åˆ™å¡«å†™æ—è·¯ç”±çš„ IP åœ°å€ã€‚</p><p>æ‰‹åŠ¨æŒ‡å®šçš„å¥½å¤„åœ¨äºå®Œå…¨ä¸å½±å“åŸç½‘ç»œçš„ä½¿ç”¨ï¼Œè®¾å¤‡æŒ‰éœ€é…ç½®æ˜¯å¦ä½¿ç”¨æ—è·¯ç”±ä½œä¸ºç½‘å…³ä»¥å®ç°ç‰¹å®šåŠŸèƒ½ã€‚å½“æ—è·¯ç”±æ•…éšœæ—¶ï¼Œæœªæ‰‹åŠ¨æŒ‡å®šçš„è®¾å¤‡ä»èƒ½æ­£å¸¸ä¸Šç½‘ã€‚</p><p>ç¼ºç‚¹åœ¨äºæ“ä½œçƒ¦çã€‚æ‰‹æœºã€ç”µè„‘è¿˜å¥½ï¼Œä½†ç”µè§†æˆ–æ ¹æœ¬æ²¡æœ‰å±å¹•çš„è®¾å¤‡è®¾ç½®èµ·æ¥å°±ä¼šå¾ˆéº»çƒ¦ã€‚</p><h4><span id="ä¾èµ–dhcpæŒ‡å®š">ä¾èµ–DHCPæŒ‡å®š</span></h4><p>DHCP é™¤äº†å¯ä»¥ç®¡ç† IP çš„åˆ†é…ï¼Œè¿˜ä¼šä¸‹å‘ç½‘å…³å’Œ DNS æœåŠ¡å™¨ä¿¡æ¯ï¼Œå› æ­¤æˆ‘ä»¬è¿˜å¯ä»¥å€ŸåŠ© DHCP çš„è¿™ä¸€æœºåˆ¶æ¥ä¸ºæ‰€æœ‰ç»ˆç«¯ç»Ÿä¸€è®¾ç½®ç½‘å…³ï¼Œè€Œä¸å†éœ€è¦é€ä¸ªæ‰‹åŠ¨ä¿®æ”¹ã€‚</p><p>å‰é¢æåˆ°ï¼Œæˆ‘ä»¬å…³é—­äº†æ—è·¯ç”±çš„ DHCP åŠŸèƒ½ï¼Œå› æ­¤è¿™ä¸ªç»Ÿä¸€ä¸‹å‘çš„å·¥ä½œå°±è¦äº¤ç»™ä¸»è·¯ç”±æ¥å®Œæˆã€‚åªéœ€è¦åœ¨ä¸»è·¯ç”±çš„ DHCP é…ç½®ä¸­å°†ç½‘å…³é…ç½®ä¸ºæ—è·¯ç”±çš„ IP åœ°å€å³å¯ã€‚</p><p><img src="https://img.hi-linux.com/staticfile/fc7f640460453d3eb1b6aa3d5c849c5c-2023-10-17-J0Xb4B.png" alt="OpenWrt çš„ DHCP é…ç½®ç•Œé¢"></p><p>ä»¥ OpenWrt ä¸ºä¾‹ï¼Œå°†ä¸»è·¯ç”± DHCP ä¸‹å‘çš„ç½‘å…³é…ç½®ä¸ºæ—è·¯ç”± IP åœ°å€å³å¯ï¼ˆ3 è¡¨ç¤ºç½‘å…³ï¼Œ6 è¡¨ç¤º DNS æœåŠ¡å™¨åœ°å€ï¼‰ã€‚</p><p>ä¸è¿‡æœ‰äº›è·¯ç”±å™¨çš„é»˜è®¤å›ºä»¶æ²¡æœ‰å¼€æ”¾è¯¥é…ç½®é¡¹ï¼Œå¯¹äºè¿™äº›è®¾å¤‡ï¼Œé™¤éå¯ä»¥ SSH è¿æ¥åæ‰‹åŠ¨æ”¹é…ç½®ï¼Œä¸ç„¶æ— æ³•ä½¿ç”¨æ­¤ç§æŒ‡å®šæ–¹å¼ã€‚</p><p>è¿™ç§æ–¹å¼çš„å¥½å¤„æ˜¾è€Œæ˜“è§ï¼Œä¸€æ¬¡é…ç½®å…¨å®¶å—ç”¨ï¼›ç¼ºç‚¹åœ¨äºå½“æ—è·¯ç”±å‡ºç°æ•…éšœæ—¶ï¼Œæ‰€æœ‰è¿æ¥çš„è®¾å¤‡éƒ½ä¼šæ— æ³•ä¸Šç½‘ã€‚</p><h3><span id="å››dnsçš„é…ç½®">ï¼ˆå››ï¼‰DNSçš„é…ç½®</span></h3><p>ç»†å¿ƒçš„è¯»è€…å¯èƒ½å‘ç°äº†ä¸Šæ–‡åªæåˆ°äº†ç½‘å…³çš„é…ç½®ï¼Œä½†æœªæåˆ°å¾ˆå¤šæ•™ç¨‹ä¸­çš„ DNS é…ç½®ã€‚å®é™…ä¸Šå•å•å°±æ—è·¯ç”±æœ¬èº«æ¥è¯´ï¼Œç½‘å…³é…ç½®å®Œæˆåæ•´ä¸ªç½‘ç»œæ‹“æ‰‘å°±å·²ç»æ­å»ºå®Œæ¯•äº†ã€‚ä½†å¯¹äºä¸€äº›ç‰¹å®šè¯‰æ±‚ï¼Œæ¯”å¦‚ä¾èµ–æ—è·¯ç”±è¿›è¡Œç»Ÿä¸€çš„ DNS åŠ«æŒï¼ˆå¾ˆå¤šåŠŸèƒ½çš„åº•å±‚éƒ½ä¾èµ–äºæ­¤ï¼‰ï¼Œåˆ™éœ€è¦å°†å¯¹åº”ä½ç½®çš„ DNS ä¹Ÿé…ç½®ä¸ºæ—è·¯ç”±çš„ IP ä»¥å°†åŸŸåè§£æå·¥ä½œä¹Ÿå®Œå…¨äº¤ç”±æ—è·¯ç”±å¤„ç†ã€‚</p><h2><span id="é…ç½®æ­¥éª¤æ€»ç»“">é…ç½®æ­¥éª¤æ€»ç»“</span></h2><h3><span id="æ‰‹åŠ¨æŒ‡å®šæ–¹æ¡ˆ">æ‰‹åŠ¨æŒ‡å®šæ–¹æ¡ˆ</span></h3><ol><li>ä¸ºæ—è·¯ç”±é…ç½®å’Œä¸»è·¯ç”±åŒç½‘æ®µçš„é™æ€ IP åœ°å€ï¼ŒåŒæ—¶å°†æ—è·¯ç”±çš„ç½‘å…³å’Œ DNS æŒ‡å‘ä¸»è·¯ç”±ï¼Œå­ç½‘æ©ç ä¸ä¸»è·¯ç”±ä¿æŒä¸€è‡´ã€‚</li><li>æ—è·¯ç”±å…³é—­ DHCP æœåŠ¡ã€‚</li><li>åœ¨ä¸»è·¯ç”±é˜²ç«å¢™å¼€å¯ SYN-flood é˜²å¾¡çš„æƒ…å†µä¸‹ï¼Œå…³é—­æ—è·¯ç”±é˜²ç«å¢™çš„ SYN-flood é˜²å¾¡ï¼ˆå¯é€‰ï¼‰ã€‚</li><li>åœ¨éœ€è¦æ¥å…¥æ—è·¯ç”±çš„ç»ˆç«¯è®¾å¤‡ä¸­ï¼Œå°†ç½‘å…³å’Œ DNS é…ç½®ä¸ºæ—è·¯ç”± IP åœ°å€ï¼Œé…ç½®åŒç½‘æ®µçš„ IP åœ°å€å’Œä¸ä¸»è·¯ç”±ç›¸åŒçš„å­ç½‘æ©ç ã€‚</li></ol><h3><span id="dhcpä¸‹å‘æ–¹æ¡ˆ">DHCPä¸‹å‘æ–¹æ¡ˆ</span></h3><ol><li>ä¸ºæ—è·¯ç”±é…ç½®å’Œä¸»è·¯ç”±åŒç½‘æ®µçš„é™æ€ IP åœ°å€ï¼ŒåŒæ—¶å°†æ—è·¯ç”±çš„ç½‘å…³å’Œ DNS æŒ‡å‘ä¸»è·¯ç”±ï¼Œå­ç½‘æ©ç ä¸ä¸»è·¯ç”±ä¿æŒä¸€è‡´ã€‚</li><li>æ—è·¯ç”±å…³é—­ DHCP æœåŠ¡ã€‚</li><li>åœ¨ä¸»è·¯ç”±é˜²ç«å¢™å¼€å¯ SYN-flood é˜²å¾¡çš„æƒ…å†µä¸‹ï¼Œå…³é—­æ—è·¯ç”±é˜²ç«å¢™çš„ SYN-flood é˜²å¾¡ï¼ˆå¯é€‰ï¼‰ã€‚</li><li>åœ¨ä¸»è·¯ç”±çš„ DHCP é…ç½®ä¸­ï¼Œå°†å…¶ä¸‹å‘çš„ç½‘å…³å’Œ DNS é…ç½®ä¸ºæ—è·¯ç”±çš„ IP åœ°å€ã€‚</li></ol><h2><span id="ç–‘éš¾æ‚ç—‡çš„è§£å†³">ç–‘éš¾æ‚ç—‡çš„è§£å†³</span></h2><p>è™½ç„¶é…ç½®æ­¥éª¤çœ‹ä¸Šå»å¾ˆç®€å•ï¼Œä½†å¾ˆå¤šäººåœ¨å®é™…ä½¿ç”¨ä¸­éƒ½ä¼šé‡åˆ°é€æ­¥é…ç½®å´ä¸Šä¸äº†ç½‘æˆ–ç½‘ç»œæ…¢çš„é—®é¢˜ï¼Œè¿™é‡ŒæŒ‘å‡ ä¸ªå…¸å‹æ¡ˆä¾‹æ¥è§£æã€‚</p><h3><span id="ä¸€è¯¥ä¸è¯¥è®¾ç½®iptablesçš„masquerade">ï¼ˆä¸€ï¼‰è¯¥ä¸è¯¥è®¾ç½®iptablesçš„MASQUERADE</span></h3><p>è¿™å¯èƒ½æ˜¯äº‰è®®æœ€å¤§çš„ä¸€æ¡ï¼Œæœ‰äººè¯´è¿™æ¡è§„åˆ™åŠ ä¸Šåå½±å“æ€§èƒ½è€Œä¸”æ²¡æ„ä¹‰ï¼Œä½†ä¹Ÿæœ‰å¾ˆå¤šäººè¡¨ç¤ºä¸é…è¿™æ¡å°±æ˜¯è¿ä¸ä¸Šç½‘ï¼ˆå¤§å¤šä¸ºè¿æ¥ä¸ä¸Šå›½å†…ç½‘ç»œï¼‰ã€‚</p><p>è¿™æ¡è§„åˆ™çš„ä½œç”¨æœ¬è´¨ä¸Šæ˜¯åœ¨æ—è·¯ç”±ä¸Šåš SNATï¼Œåªä¸è¿‡ä¿®æ”¹çš„åœ°å€ä¸éœ€è¦æŒ‡å®šè€Œæ˜¯åŠ¨æ€è·å–æ—è·¯ç”±å¯¹åº”æ¥å£ç½‘å¡çš„ IP åœ°å€ï¼Œåœ¨ OpenWrt é‡Œè¢«ç§°ä¸ºã€ŒIP ä¼ªè£…ã€ã€‚</p><p><img src="https://img.hi-linux.com/staticfile/2d0c6641e3f951044153129b3176ab66-20231017155721745-2023-10-17-FI1Wzy.png" alt="é…ç½® MASQUERADE åçš„æ•°æ®æµè½¬ç¤ºæ„å›¾"></p><p>å•ä»æ—è·¯ç”±çš„ç½‘ç»œæ‹“æ‰‘æ¥è¯´ï¼Œè¿™æ¡è§„åˆ™ç¡®å®æ²¡æ„ä¹‰ï¼Œå› ä¸ºä¸»è·¯ç”±ä½œä¸ºå¯¹å¤–å‡ºå£å¿…åš NATï¼Œä½†æ—è·¯ç”±æœ¬èº«å°±åœ¨å±€åŸŸç½‘å†…ä¸”åªæ˜¯é“¾è·¯ä¸Šçš„ä¸€ç¯ï¼Œæ²¡æœ‰å¿…è¦å†å¯¹å†…ç½‘ IP è¿›è¡Œè€—è´¹æ€§èƒ½çš„ NAT æ“ä½œã€‚</p><p>ä½†ä¸è¦å¿˜äº†ï¼Œç†è®ºå’Œç°å®æ˜¯ä¸¤å›äº‹ï¼Œç‰©ç†ç½‘ç»œæ‹“æ‰‘ä¸­çš„ä¸åŒè®¾å¤‡ã€ä¸åŒå›ºä»¶éƒ½æœ‰å¯èƒ½äº§ç”Ÿå„ç§å¥‡æ€ªçš„å…¼å®¹é—®é¢˜ã€‚æˆ‘è‡ªå·±å€’æ˜¯æ²¡æœ‰é‡åˆ°è¿‡è¯¥é—®é¢˜ï¼Œä½†æ£€ç´¢ç½‘å‹ä»¬çš„å„ç§å¸–å­ï¼Œå¤§æ¦‚å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç§åŸå› ï¼š</p><ol><li><strong>ä¸»è·¯ç”±å›ºä»¶æ•°æ®åŒ…å¤„ç†é—®é¢˜</strong>ï¼šéƒ¨åˆ†è·¯ç”±å™¨ï¼ˆä¼¼ä¹ä¸»è¦ä¸ºå›½äº§å“ç‰Œï¼‰çš„æ— çº¿ç½‘åœ¨æ¡¥æ¥å’Œ iptables å¤„ç†è¿‡ç¨‹ä¸­ï¼Œå½“æ—è·¯ç”±å°†å›½å†…æµé‡é‡æ–°è½¬å‘å›ä¸»è·¯ç”±æ—¶ï¼Œä¸»è·¯ç”±æ ¹æ®æµä¸­çš„é¦–ä¸ªæ•°æ®åŒ…çš„çŠ¶æ€åšåˆ¤æ–­å¯¼è‡´åç»­æ•°æ®åŒ…æœªè¿›è¡Œ NAT å°±ç›´æ¥è®¿é—®äº†äº’è”ç½‘ã€‚<a href="https://blog.csdn.net/qq1337715208/article/details/122271608" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>å¯¹æ­¤æœ‰æ¯”è¾ƒè¯¦ç»†çš„è®²è§£ï¼ˆCSDN ä¹Ÿæ˜¯æœ‰å¾ˆå¤šå¥½æ–‡ç« çš„ï¼‰ã€‚</li><li><strong>ä¸»è·¯ç”± NAT ç¡¬ä»¶åŠ é€Ÿå¯¼è‡´çš„é—®é¢˜</strong>ï¼šå¯èƒ½æ˜¯ç”±äºç¡¬ä»¶åŠ é€Ÿæµç¨‹å¯¹æ•°æ®åŒ…çš„å¤„ç†å‡ºç°äº†ç±»ä¼¼äºåŸå›  1 çš„é—®é¢˜å¯¼è‡´æ— æ³•æ­£ç¡®å®Œæˆæ•°æ®äº¤äº’ã€‚ç”±äºç¡¬ä»¶åŠ é€Ÿæœ¬è´¨ä¸Šæ˜¯åœ¨è¿è¡Œç‰¹æ®Šé©±åŠ¨ï¼Œè€Œå„å®¶å‚å•†çš„è¯¥é©±åŠ¨å‡ ä¹éƒ½æ˜¯é—­æºçš„ï¼Œæ‰€ä»¥ç½‘ä¸Šä¹Ÿæ²¡è§åˆ°æœ‰æ¢ç©¶æ·±å±‚åŸå› çš„èµ„æ–™ã€‚è¿™ç§æƒ…å†µä¸‹æŠŠç¡¬ä»¶åŠ é€Ÿå…³é—­å³å¯ï¼ˆä¼šä¸€å®šç¨‹åº¦ç‰ºç‰²ä¸»è·¯ç”± NAT æ€§èƒ½ï¼‰ã€‚</li><li><strong>IP å’Œ MAC æ ¡éªŒæœºåˆ¶å¯¼è‡´åŒ…è¢«ä¸¢å¼ƒçš„æ¨è®º</strong>ï¼šç”±æ—è·¯ç”±çš„ç½‘ç»œæ‹“æ‰‘å¯çŸ¥ï¼Œé…ç½®ç½‘å…³åä¸Šè¡Œæµé‡å¿…ç„¶ç»è¿‡æ—è·¯ç”±ï¼Œä½†åœ¨æ—è·¯ç”±ä¸è¿›è¡Œ NAT æ—¶æ•°æ®åŒ…ä¸­çš„ IP ä»ç„¶æ˜¯ç»ˆç«¯è®¾å¤‡çš„ï¼Œæ‰€ä»¥ç†è®ºä¸Šä¸‹è¡Œæ•°æ®å¹¶ä¸ä¼šç»è¿‡æ—è·¯ç”±è€Œæ˜¯ç”±ä¸»è·¯ç”±ç›´æ¥è½¬å‘è‡³ç»ˆç«¯ã€‚æ˜¾ç„¶ï¼Œç”±äºæ—è·¯ç”±çš„å­˜åœ¨ï¼ŒIP åœ°å€å’Œ MAC åœ°å€åœ¨æŸä¸ªç¯èŠ‚ä¼šæœ‰ä¸åŒ¹é…çš„æƒ…å†µï¼Œå¦‚æœä¸»è·¯ç”±å¯¹æ­¤æœ‰æ ¡éªŒï¼Œé‚£æ•°æ®åŒ…å°±ä¼šè¢«ä¸¢å¼ƒæ‰ã€‚ä½†è¿™ä¹Ÿåªæ˜¯ä¸ªæ¨è®ºæ²¡æœ‰è¯æ®ä½è¯ï¼ŒåŒæ—¶ç”±äºç½‘ç»œå¯èƒ½çš„å¤æ‚æ€§ï¼Œä¸»è·¯ç”±é€šå¸¸ä¹Ÿä¸ä¼šä¸»åŠ¨åšè¿™ç§æ ¡éªŒã€‚</li></ol><p>MASQUERADE é…ç½®å…¶å®å¹¶æ²¡æœ‰å®šå‘åœ°å»è§£å†³ä¸Šé¢è¿™äº›å…·ä½“é—®é¢˜ï¼Œè€Œæ˜¯é€šè¿‡ NAT æ¥éšè—ç»ˆç«¯è®¾å¤‡ã€åªå‘ä¸»è·¯ç”±æš´éœ²æ—è·¯ç”± IP çš„æ–¹å¼ï¼Œä¸€åˆ€åˆ‡åœ°é¿å…äº†ä¸Šè¿°åŸå› å¯¼è‡´çš„é—®é¢˜ã€‚ä½†ç”±äºä¸Šä¸‹è¡Œæµé‡éƒ½ä¼šç»è¿‡æ—è·¯ç”±ï¼Œæ‰€æœ‰æµé‡éƒ½ä¼šè¢«äºŒæ¬¡ NAT å’ŒäºŒæ¬¡è½¬å‘ï¼Œç½‘ç»œçš„ååä¼šæœ‰ä¸å°çš„ä¸‹é™ï¼Œç›´è§‚æ„Ÿå—å°±æ˜¯ä¸‹è½½é€Ÿåº¦å˜æ…¢äº†ã€‚</p><p><strong>æ‰€ä»¥æ¯”è¾ƒç†æƒ³çš„ç­–ç•¥æ˜¯ï¼Œå…ˆä¸åŠ  MASQUERADE è§„åˆ™è§‚å¯Ÿæ˜¯å¦æœ‰é—®é¢˜ï¼ˆå°¤å…¶æ˜¯å›½å†…æµé‡ï¼‰ï¼Œå¦‚æœç¡®å®æœ‰é—®é¢˜ï¼Œåœ¨æƒè¡¡å¯ä»¥æ¥å—æ€§èƒ½çš„æŸå¤±åå†é…ä¸Šè¯¥è§„åˆ™ã€‚</strong></p><h3><span id="äºŒlanå’Œwanæ˜¯å¦éœ€è¦ç»‘å®š">ï¼ˆäºŒï¼‰LANå’ŒWANæ˜¯å¦éœ€è¦ç»‘å®š</span></h3><p>å…·ä½“æ“ä½œæ˜¯å–æ¶ˆæ¡¥æ¥ï¼Œå†è®¾ç½® WAN å’Œ LAN å…±ç”¨åŒä¸€ä¸ªç½‘å¡ï¼ˆå¦‚ eth0 ï¼‰ã€‚è¿™ä¸ªæ“ä½œå…¶å®å’Œ MASQUERADE è§„åˆ™çš„æ•ˆæœç±»ä¼¼ï¼Œå› ä¸ºç»‘å®šåç»è¿‡ WAN çš„æµé‡å¿…ç„¶ä¼šè¢« SNAT ã€‚<strong>é€‚ç”¨äºç¡®å®é‡åˆ°äº†ç–‘éš¾æ‚ç—‡ä¸”èƒ½æ¥å—æ€§èƒ½æŸå¤±åœºæ™¯ä¸‹çš„å¤‡é€‰æ–¹æ¡ˆã€‚</strong></p><h3><span id="ä¸‰æ˜¯å¦éœ€è¦å…³é—­æ—è·¯ç”±æ¡¥æ¥">ï¼ˆä¸‰ï¼‰æ˜¯å¦éœ€è¦å…³é—­æ—è·¯ç”±æ¡¥æ¥</span></h3><p>åœ¨è®¸å¤šæ•™ç¨‹é‡Œï¼Œè¿™ä¸ªæ“ä½œå’Œæ·»åŠ  MASQUERADE è§„åˆ™æ˜¯é…å¥—çš„ã€‚ä½†æ¡¥æ¥ä¸å¦å®é™…ä¸Šå¹¶ä¸ä¼šå½±å“æ•´ä½“çš„ç½‘ç»œæ‹“æ‰‘ï¼Œè¿™çœ‹ä¸Šå»åˆæ˜¯ä¸€é¡¹æ²¡æœ‰æ„ä¹‰çš„é…ç½®ã€‚æˆ‘çŒœæµ‹å¯èƒ½æ˜¯ç½‘ä¸Šæµä¼ çš„æ·»åŠ  MASQUERADE è§„åˆ™çš„æ–¹å¼æ˜¯ä¸‹é¢è¿™æ¡å›ºå®šå‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -t nat -I POSTROUTING -o eth0 -j MASQUERADE</span><br></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯è¦æ±‚ SNAT æ—¶ä» eth0 ç½‘å¡åŠ¨æ€è·å– IP ã€‚è€Œåœ¨æ¡¥æ¥æ¨¡å¼ä¸‹ï¼ŒMASQUERADE æ—¶æ˜¯éœ€è¦ä» br-lan ï¼ˆå¸¸è§çš„æ¡¥æ¥åçš„é»˜è®¤ç½‘å¡åç§°ï¼Œä¹Ÿå¯èƒ½æ˜¯å…¶ä»–åç§°ï¼Œè¦è§†å®é™…æƒ…å†µè€Œå®šï¼‰è·å– IP çš„ï¼Œç›´æ¥å¤åˆ¶ç²˜è´´ä¸Šé¢çš„å‘½ä»¤ä¼šå¯¼è‡´ IP ä¼ªè£…å¤±è´¥ã€‚<strong>æ‰€ä»¥åªè¦æŠŠ -o å‚æ•°çš„å€¼æ”¹ä¸º br-lan å³å¯ï¼š</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -t nat -I POSTROUTING -o br-lan -j MASQUERADE</span><br></pre></td></tr></table></figure><p>ä½†ä¼¼ä¹ç¡®å®æœ‰ç½‘å‹ä¸å–æ¶ˆæ¡¥æ¥å°±æ— æ³•è”ç½‘ï¼Œè¿™ç§æƒ…å†µå¤§æ¦‚ç‡æ˜¯æ—è·¯ç”±å›ºä»¶å¯¹æ¡¥æ¥æ¨¡å¼çš„å¤„ç†æœ‰é—®é¢˜ï¼ˆå¤šè§äº ARM æ¶æ„çš„å›ºä»¶ï¼Œè¿™ç±»å›ºä»¶é€šå¸¸è¦åšå¾ˆå¤šçš„é­”æ”¹é€‚é…ï¼‰ï¼Œ<strong>å¦‚æœçœŸçš„é‡åˆ°è¿™ç§æƒ…å†µçš„è¯åˆ™ç¡®å®å¯ä»¥å–æ¶ˆæ¡¥æ¥å°è¯•ä¸‹</strong>ï¼Œæ¯•ç«Ÿå¤§å¤šæ•°æƒ…å†µä¸‹æ—è·¯ç”±å†…éƒ¨çš„æ¡¥æ¥ä¹Ÿæ²¡ä»€ä¹ˆå®é™…æ„ä¹‰ï¼Œå»æ‰åç”±äºå°‘äº†æµé‡åˆ¤æ–­æµç¨‹å¯èƒ½è¿˜ä¼šæœ‰éå¸¸å¾®å°çš„æ€§èƒ½æå‡ã€‚</p><p>è‡³äº N1 è¿™ç§è‡ªå¸¦æ— çº¿åŠŸèƒ½ä½†å®é™…ä¸Šæ²¡äººç”¨çš„è®¾å¤‡ï¼Œåœ¨å…³æ‰æ— çº¿åï¼Œç¡®å®å¯ä»¥é¡ºä¾¿å–æ¶ˆæ‰æ²¡æœ‰æ„ä¹‰çš„æ¡¥æ¥ã€‚åªæ˜¯åœ¨ OpenWrt å–æ¶ˆæ¡¥æ¥ä¿å­˜é…ç½®æ—¶ï¼Œè¦ç¡®å®šé€‰ä¸­äº†æœ‰çº¿ç½‘å¡å¯¹åº”çš„æ¥å£æ¯”å¦‚ LAN/eth0 ï¼Œä¸ç„¶å¦‚æœåå°çš„å‰ç«¯å­˜åœ¨ä½“éªŒé—®é¢˜è‡ªåŠ¨é€‰æ‹©äº† wlan ï¼Œé‚£ä¿å­˜åè·¯ç”±å™¨å¯å°±ç›´æ¥å¤±è”äº†ã€‚</p><h3><span id="å››æ˜¯å¦éœ€è¦è®¾ç½®dhcpå¼ºåˆ¶">ï¼ˆå››ï¼‰æ˜¯å¦éœ€è¦è®¾ç½®DHCPå¼ºåˆ¶</span></h3><p>å¦‚æœæˆ‘æƒ³é€šè¿‡ DHCP ä¸‹å‘ç½‘å…³ä½†åˆä¸æƒ³æ”¹å˜ä¸»è·¯ç”±çš„åŸé…ç½®è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿåœ¨ OpenWrt çš„æ¥å£ DHCP é…ç½®ä¸­æœ‰ä¸€ä¸ªé€‰é¡¹å«åšã€Œå¼ºåˆ¶ã€ï¼Œå‹¾é€‰åï¼Œæ­¤è®¾å¤‡ä¼šå¿½ç•¥ç½‘ç»œä¸Šå·²ç»å­˜åœ¨çš„ DHCP æœåŠ¡ï¼Œå¼ºåˆ¶å¯åŠ¨æœ¬æœºçš„ DHCP æœåŠ¡ï¼Œæ‰€ä»¥ä¼¼ä¹æˆ‘ä»¬åªéœ€è¦åœ¨æ—è·¯ç”±ä¸Šé…ç½®æ­¤é€‰é¡¹ï¼Œå¹¶åœ¨æ—è·¯ç”± DHCP ä¸­é…ç½®å¥½ç½‘å…³ï¼Œä¸»è·¯ç”±ä¸åšä»»ä½•å˜æ›´ï¼Œå³å¯å®ç°æœ¬æ®µå¼€å¤´çš„è¯‰æ±‚ã€‚</p><p>ä½†ä¸Šæ–‡æåˆ°åŒä¸€å­ç½‘ä¸­åªèƒ½æœ‰ä¸€ä¸ªç”¨äºåˆ†é…æŒ‡å®šç½‘æ®µçš„ DHCP æœåŠ¡ï¼Œå› æ­¤æ—è·¯ç”±å¼ºåˆ¶å¼€å¯ DHCP åï¼Œè¿˜éœ€è¦ä¸»è·¯ç”±å…·å¤‡ä¸»åŠ¨åˆ¤æ–­ç½‘ç»œæƒ…å†µåœæ­¢æä¾› DHCP æœåŠ¡çš„èƒ½åŠ›ï¼Œè¿™ä¸ªæµç¨‹æ‰èƒ½çœŸæ­£è¿è½¬èµ·æ¥ã€‚<strong>ä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„è·¯ç”±å™¨å’Œå›ºä»¶éƒ½æ”¯æŒè¿™ä¸ªèƒ½åŠ›ï¼Œç›®å‰æ¥çœ‹ OpenWrt ä½œä¸ºä¸»è·¯ç”±å›ºä»¶æ—¶å¯ä»¥æ­£ç¡®æ£€æµ‹å¹¶åœç”¨ DHCP ï¼Œå…¶ä»–å›ºä»¶åˆ™éœ€è¦åœ¨ä½¿ç”¨æ—¶åšä¸‹å…¼å®¹æ€§æµ‹è¯•ã€‚ä»å·¥ç¨‹è§’åº¦ä¸Šè®²ï¼Œç”±äºè¿™æ ·çš„æ“ä½œè¿‡äºä¾èµ–å¤–éƒ¨èƒ½åŠ›ï¼Œå±äºå’Œå¤–éƒ¨ç»„ä»¶äº§ç”Ÿäº†å¼ºè€¦åˆï¼Œä¸åˆ©äºæœªæ¥ç»´æŠ¤ï¼Œæ•…ä¸å¤ªæ¨èæ­¤ç§æ–¹æ¡ˆã€‚</strong></p><h3><span id="äº”æ—è·¯ç”±çš„æŸäº›åŠŸèƒ½æ— æ³•ä½¿ç”¨">ï¼ˆäº”ï¼‰æ—è·¯ç”±çš„æŸäº›åŠŸèƒ½æ— æ³•ä½¿ç”¨</span></h3><p>å„ç§ç»„ä»¶å†…éƒ¨å®ç°å¤§ä¸ç›¸åŒï¼Œå¦‚æœæŸä¸ªç»„ä»¶çš„ä»£ç å¯¹ç½‘ç»œç»“æ„åšäº†å¼ºé™å®šï¼ˆå¦‚ä¸Šæ–‡æ‰€è¯´çš„æ ¡éªŒ IP å’Œ MAC çš„åŒ¹é…å…³ç³»ï¼‰ï¼Œé‚£æ—è·¯ç”±çš„åŠ å…¥å¯èƒ½å°±ä¼šæ‰“ç ´ç»„ä»¶é¢„æœŸçš„ç½‘ç»œç»“æ„å¯¼è‡´å…¶æ— æ³•è¿è¡Œã€‚è¿™ç§æƒ…å†µåœ¨ç»„ä»¶æœ¬èº«ä¸åšé€‚é…æ—¶åŸºæœ¬æ— è§£ï¼Œåªèƒ½å°è¯•ä¸‹å¼€å¯ MASQUERADE ç­‰é…ç½®ï¼Œ<strong>çœ‹çœ‹å¤šåŠ ä¸€å±‚ NAT åçš„ç½‘ç»œæ‹“æ‰‘æ˜¯å¦èƒ½ç¬¦åˆç»„ä»¶è¦æ±‚ï¼Œä½†ä»£ä»·åŒæ ·æ˜¯ä¼šç‰ºç‰²æ€§èƒ½ã€‚</strong></p><h3><span id="å…­æ˜¯å¦åº”è¯¥å…³é—­æ—è·¯ç”±é˜²ç«å¢™çš„syn-floodé˜²å¾¡">ï¼ˆå…­ï¼‰æ˜¯å¦åº”è¯¥å…³é—­æ—è·¯ç”±é˜²ç«å¢™çš„SYN-floodé˜²å¾¡</span></h3><p>SYN-flood æ˜¯ä¸€ç§å¸¸è§çš„æ”»å‡»æ–¹å¼ï¼ŒSYN æŒ‡ TCP å»ºè¿ä¸‰æ¬¡æ¡æ‰‹ä¸­çš„ç¬¬ä¸€æ­¥æŠ¥æ–‡ï¼Œflood æŒ‡å¤§é‡å‘èµ·è¯¥æ­¥éª¤çš„æŠ¥æ–‡ã€‚ç”±äº TCP çš„å®ç°åŸç†è¦æ±‚æœåŠ¡ç«¯æ¥æ”¶åˆ° SYN æŠ¥æ–‡åå›å¤å®¢æˆ·ç«¯ SYN+ACK æŠ¥æ–‡è¡¨æ˜è¯·æ±‚è¢«æ¥å—ï¼Œå¹¶åœ¨ä¸€æ®µæ—¶é—´å†…ç­‰å¾…å®¢æˆ·ç«¯å›å¤æœ€ç»ˆçš„ ACK æŠ¥æ–‡ï¼Œé‚£ä¹ˆå¤§é‡çš„ SYN æŠ¥æ–‡å°±ä¼šå¯¼è‡´æœåŠ¡ç«¯å‡ºç°å¤§é‡ç­‰å¾…æœ€ç»ˆèµ„æºè€—å°½æŒ‚æ‰ï¼Œè€Œæ”»å‡»è€…å¹¶ä¸éœ€è¦çœŸçš„å®Œæˆå»ºè¿ï¼Œåªè¦æŒç»­å‘é€ ACK åŒ…å³å¯ã€‚</p><p>é‚£è·¯ç”±å™¨çš„é˜²ç«å¢™åˆæ˜¯å¦‚ä½•ä½œé˜²å¾¡çš„å‘¢ï¼Ÿä»¥ OpenWrt ä¸ºä¾‹ï¼Œè™½ç„¶ OpenWrt çš„é˜²ç«å¢™é…ç½®å·²ç»è¿ç§»åˆ°äº† fw3 ï¼Œä½†ç¿»çœ‹ä»£ç å†å²æˆ‘ä»¬å°±ä¼šçœ‹åˆ°å½“æ—¶ OpenWrt ç›´æ¥åŸºäº iptables çš„æ—©æœŸå®ç°ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$IPTABLES -N syn_flood</span><br><span class="line">$IPTABLES -A syn_flood -p tcp --syn -m limit --limit $rate&#x2F;second --limit-burst $burst -j RETURN</span><br><span class="line">$IPTABLES -A syn_flood -j DROP</span><br><span class="line">$IPTABLES -A INPUT -p tcp --syn -j syn_flood</span><br></pre></td></tr></table></figure><p>å³å€ŸåŠ© iptables çš„ SYN é™æµèƒ½åŠ›è¿›è¡Œé˜²å¾¡ï¼ŒåŒæ—¶æ­¤é…ç½®ä½äº default é…ç½®ä¸­ï¼Œä¼šåœ¨ NAT ç­‰å…·ä½“ç½‘ç»œæ“ä½œä¹‹å‰æ‰§è¡Œã€‚</p><p>å¯¹åº”åˆ°ä¸»è·¯ç”±ï¼Œwan å£æ¥æ”¶åˆ°æ”»å‡»æµé‡åä¾¿ä¼šè¿›è¡Œé™æµï¼Œæ”»å‡»è€…æ— æ³•ç›´æ¥å‘åæ”»å‡»åˆ°å†…ç½‘ä¸»æœºï¼Œé‚£ä¹ˆåŒæ ·ä¸ºå†…ç½‘ä¸»æœºçš„æ—è·¯ç”±è‡ªç„¶ç†è®ºä¸Šä¹Ÿå°±ä¸ä¼šè¢«æ”»å‡»åˆ°ã€‚</p><p>ä½†å¯¹äºæ—è·¯ç”±æ¥è¯´ï¼Œç†è®ºä¸Šç½‘ç»œä¸­çš„æ‰€æœ‰ä¸Šè¡Œæµé‡éƒ½ä¼šé€šè¿‡å®ƒæ¥è½¬å‘ï¼Œé‚£å½“æµé‡è¶…è¿‡é˜²ç«å¢™çš„é™æµé˜ˆå€¼æ—¶ä¾¿ä¼šè§¦å‘æ‹¦æˆªï¼Œè¿›è€Œåœ¨ç»ˆç«¯ä¸Šè¡¨ç°ä¸ºç½‘ç»œæ—¶æ–­æ—¶ç»­ã€‚<strong>æ‰€ä»¥åœ¨ä¸»è·¯ç”±å·²å¼€å¯ SYN-flood é˜²å¾¡çš„æƒ…å†µä¸‹ï¼Œæ—è·¯ç”±å…³é—­è¯¥é…ç½®å¯ä»¥é¿å…å‡ºç°å¯èƒ½çš„ç½‘ç»œä¸ç¨³å®šé—®é¢˜ã€‚</strong></p><h2><span id="æ—è·¯ç”±ä¸ipv6">æ—è·¯ç”±ä¸IPv6</span></h2><p>IPv6 åœ¨å®¶ç”¨ç½‘ç»œä¸­é€šå¸¸é»˜è®¤æ˜¯æ²¡æœ‰ NAT è½¬æ¢æµç¨‹çš„ï¼ŒåŒæ—¶å…¶åŠ¨æ€åœ°å€é…ç½®æ–¹æ¡ˆæ¯” IPv4 è¦å¤æ‚å¾—å¤šï¼Œæ¯”å¦‚ SLAAC å’Œä¹‹å‰çš„ DHCP å¯ä»¥è¯´å®Œå…¨ä¸æ˜¯ä¸€å¥—æœºåˆ¶ï¼Œè€Œ DHCPv6 åˆåˆ†æœ‰çŠ¶æ€å’Œæ— çŠ¶æ€ä¸¤ç±»ã€‚è€Œå‰é¢æåˆ°ï¼Œæˆ‘ä»¬å®ç°æ—è·¯ç”±ç½‘ç»œæ‹“æ‰‘çš„è¿‡ç¨‹ï¼Œå…¶å®å°±æ˜¯åœ¨æŒ‡å®šä¸€ä¸ªå…·å¤‡é€æ˜ä»£ç†åŠŸèƒ½çš„ç½‘å…³çš„è¿‡ç¨‹ï¼Œä½† SLAAC/DHCPv6 éƒ½æ²¡æœ‰æä¾›ç½‘å…³ä¸‹å‘èƒ½åŠ›ï¼Œç»ˆç«¯è®¾å¤‡æ€»æ˜¯ä¼šä»¥å…¶æ‰€äº¤äº’çš„ä¸»æœºä½œä¸ºç½‘å…³ï¼ŒåŒæ—¶å¤§å¤šä¹Ÿä¸æ”¯æŒç›´æ¥ä¿®æ”¹ç½‘å…³ã€‚æ­¤å¤–ï¼Œè¿è¥å•†ä¸æ”¯æŒ DHCPv6-PD ã€IPv6 å­ç½‘é™å®šèŒƒå›´ç­‰æƒ…å†µï¼Œ<strong>éƒ½ä½¿å¾—æ—è·¯ç”±æ”¯æŒ IPv6 éå¸¸å›°éš¾ï¼Œåœ¨ä¸åŒåœºæ™¯ã€ä¸åŒç½‘ç»œä¸‹è¦é¢ä¸´ä¸åŒçš„é…ç½®ï¼Œç”šè‡³æ— æ–¹æ¡ˆå¯é…ç½®ã€‚</strong></p><p>ç½‘ä¸Šæ¯”è¾ƒæµè¡Œçš„æ—è·¯ç”± IPv6 å®ç°æ˜¯ä¸ªæ›²çº¿æ•‘å›½çš„æŠ˜ä¸­æ–¹æ¡ˆï¼Œå³å…ˆå¼€å¯ä¸»è·¯ç”±çš„å†…ç½‘çš„ IPv6 åœ°å€åˆ†é…è¿›è€Œè®©æ—è·¯ç”±è·å¾—å†…ç½‘ IPv6 åœ°å€ï¼Œéšåå†é€šè¿‡åœ¨æ—è·¯ç”±å¼€å¯ä¸€ä¸ª DHCPv6-Client çš„æ–¹å¼è·å–åˆ°å…¬ç½‘çš„ IPv6 åœ°å€ï¼Œè¿™æ ·ä¾¿å¯ä»¥å°†ä¸»è·¯ç”±çš„ DHCPv6 ä¸‹å‘çš„ DNSv6 é…ç½®ä¸ºæ—è·¯ç”±çš„ IPv6 åœ°å€ã€‚æ­¤æ—¶é™¤äº† DNSv6 çš„è§£ææ˜¯åœ¨æ—è·¯ç”±è¿›è¡Œï¼Œå…¶ä»–æµç¨‹ä»æŒ‰åŸé“¾è·¯ç›´è¿ã€‚è€Œåœ¨éœ€è¦åˆ†æµçš„åœºæ™¯ä¸­ï¼ŒOpenWrt çš„ç›¸å…³ç»„ä»¶å¯ä»¥é€‰æ‹©åœ¨è§£æåŸŸåæ—¶æ”¾è¿‡ä¸éœ€è¦å¤„ç†çš„ IPv6 æµé‡è®©å…¶æ­£å¸¸è§£æå‡º AAAA è®°å½•ï¼Œè€Œå¯¹åŸŸååå•ä¸­çš„æµé‡å¼ºåˆ¶è§£æä¸º A è®°å½•ä»¥ç»§ç»­èµ° IPv4 åè®®ï¼Œä»è€Œå®ç°å’Œæ­¤å‰çš„ç±»ä¼¼çš„æ—è·¯ç”±åŠŸèƒ½ã€‚</p><p>å½“ç„¶ï¼Œè¿™ç§è§£æå®é™…ä¸Šä¾èµ–äºç»„ä»¶çš„èƒ½åŠ›ã€‚å¦‚æœç»„ä»¶å¹¶ä¸æ”¯æŒï¼Œé‚£é€šè¿‡å„ç§æ–¹å¼å¼ºåˆ¶å®šä¹‰ IPv6 çš„è·¯ç”±è¡¨ä¿è¯ç›¸å…³ IPv6 æµé‡å¿…ç„¶ç»è¿‡æ—è·¯ç”±ä¹Ÿæ˜¯ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚<strong>ä¸è¿‡æ— è®ºå“ªç§å®ç°ï¼Œç”±äºä¸å€ŸåŠ©ç½‘å…³é…ç½®ï¼Œå…¶å®éƒ½å·²ç»å’Œæœ¬æ–‡çš„æ—è·¯ç”±ä¸ç›¸å…³äº†ã€‚</strong></p><p>æ­¤å¤–ï¼Œè¿˜æœ‰ç§æ–¹æ¡ˆæ˜¯é€šè¿‡ radvd ç­‰æ”¯æŒé…ç½®è·¯ç”±å•æ’­å’Œä¼˜å…ˆçº§çš„å·¥å…·ï¼Œç”¨æ›´é«˜çš„ä¼˜å…ˆçº§æ¥æŒ‡å®šç»ˆç«¯çš„ IPv6 è·¯ç”±ï¼ˆå¯ä»¥ç®€å•ç†è§£ä¸º IPv4 çš„ç½‘å…³ï¼‰ï¼Œè¿™æ ·å°±æ›¿ä»£äº† IPv4 ä¸‹æ‰‹åŠ¨é…ç½®æˆ– DHCP ä¸‹å‘ç½‘å…³å¯¹åº”çš„åŠŸèƒ½ï¼Œå®Œç¾æ»¡è¶³æœ¬æ–‡æ‰€è¯´çš„æ—è·¯ç”±ç½‘ç»œæ‹“æ‰‘ï¼ŒåŒæ—¶å¯¹ IPv6 åŠ¨æ€åœ°å€é…ç½®æ–¹æ¡ˆçš„è¦æ±‚å¾ˆä½ï¼Œä½†è¦æ±‚ç»ˆç«¯è®¾å¤‡æ”¯æŒè·¯ç”±ä¼˜å…ˆçº§é…ç½®ã€‚</p><h2><span id="æ€»ç»“">æ€»ç»“</span></h2><p>æ—è·¯ç”±å®é™…ä¸Šæ˜¯è¿è¡Œé€æ˜ä»£ç†åŠŸèƒ½çš„ç½‘å…³ï¼Œæœ‰äººè®¤ä¸ºè¿™ä¸ªæ¦‚å¿µå¾ˆæ°‘ç§‘ï¼Œä½†æˆ‘å¹¶ä¸è®¤åŒï¼Œæ¯•ç«Ÿå®ƒåªæ˜¯åœ¨é€šè¿‡å·²æœ‰çš„èƒ½åŠ›æ¥è§£å†³ç‰¹å®šåœºæ™¯çš„é—®é¢˜ï¼Œå’Œæˆ‘ä»¬å†™ä»£ç ã€åšäº§å“æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼Œè€Œã€Œæ—è·¯ç”±ã€è¿™ä¸ªåè¯ä¹Ÿä¸è¿‡æ˜¯ä¸ªçº¦å®šä¿—æˆçš„å«æ³•è€Œå·²ï¼Œä¸åº”è¯¥è¢«æ‰¹åˆ¤ã€‚</p><p>å¦ä¸€æ–¹é¢ï¼Œç”±äºæ—è·¯ç”±åœ¨ä¸åŒè®¾å¤‡ã€ä¸åŒç½‘ç»œç¯å¢ƒæœ‰å¯èƒ½é‡åˆ°å¾ˆå¤šå¥‡æ€ªé—®é¢˜ï¼Œå…¶å®å¯¹äºéä¸“ä¸šç”¨æˆ·æ¥è¯´ä»˜å‡ºçš„æ—¶é—´æˆæœ¬å¾ˆæœ‰å¯èƒ½ä¼šè¿œå¤§äºç›´æ¥æ›¿æ¢ä¸»è·¯ç”±çš„æˆæœ¬ã€‚ä½†ç”Ÿå‘½ä¸æ¯ï¼ŒæŠ˜è…¾ä¸æ­¢ï¼Œå¦‚æœæ˜¯ä¸ºäº†æ”¶è·æŠ˜è…¾çš„å¿«ä¹ã€å­¦ä¹ åˆ°æ–°çš„çŸ¥è¯†ï¼Œé‚£åˆæœ‰ä½•ä¸å¯å‘¢ï¼Ÿ</p><blockquote><p>æœ¬æ–‡è½¬è½½è‡ªï¼šã€Œ Eason Yangâ€™s Blog ã€ï¼ŒåŸæ–‡ï¼š<a href="https://url.hi-linux.com/1jwRt" target="_blank" rel="noopener">https://url.hi-linux.com/1jwRt</a> ï¼Œç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚æ¬¢è¿æŠ•ç¨¿ï¼ŒæŠ•ç¨¿é‚®ç®±: <a href="mailto:editor@hi-linux.com">editor@hi-linux.com</a>ã€‚</p></blockquote></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "10135-1588830050631-449",        "name": "ã€Œå¥‡å¦™çš„ Linux ä¸–ç•Œã€",        "qrcode": "https://www.hi-linux.com/img/wechat/mp_qrcode_12.jpg",        "keyword": "VIP"    });}</script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€æ—©å¬åˆ°æ—è·¯ç”±è¿™ä¸ªè¯æ˜¯åœ¨ 2020 å¹´æŠ˜è…¾ N1 çš„æ—¶å€™ï¼Œè¿™å°å•ç½‘å£çš„å°ç›’å­åªèƒ½ç”¨ç½‘ä¸Šæ‰€è¯´çš„æ—è·¯ç”±æ–¹æ¡ˆæ¥å…¥å±€åŸŸç½‘æ¥å®ç°æœŸæœ›çš„åŠŸèƒ½ã€‚ç°åœ¨å›æƒ³èµ·æ¥ï¼Œæ—è·¯ç”±è¿™ä¸ªè¯æœ‰å¯èƒ½å°±æ˜¯åœ¨é‚£ä¸ªå‘çƒ§å‹å¤§é‡æŠ˜è…¾æ–è®¯ N1/P1/T1 çš„æ—¶æœŸè¢«å‘æ˜å‡ºæ¥çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä½ æ²¡åŠæ³•åœ¨å‘çƒ§å‹åœˆå­å¤–çš„äº’è”ç½‘åŠå„ç§å­¦æœ¯ææ–™ä¸­æ‰¾åˆ°å¯¹æ—è·¯ç”±çš„æè¿°å’Œå®šä¹‰ï¼Œå½“ç„¶ä¹Ÿæ‰¾ä¸åˆ°åˆé€‚çš„è‹±æ–‡ç¿»è¯‘ï¼ˆå¯¼è‡´è¿™ç¯‡æ–‡ç« çš„ slug å®šä¹‰å›°éš¾ï¼‰ï¼›ä»æ‹“æ‰‘ä¸Šçœ‹ï¼Œæ—è·¯ç”±æ›´åƒæ˜¯æ‚ç³…äº†äºŒçº§è·¯ç”±å’Œé€æ˜ç½‘å…³çš„æ¦‚å¿µï¼Œé™¤äº†å®ä½“ç¡®å®å¤šæ¥äº†æ ¹ç½‘çº¿æ”¾åœ¨ä¸»è·¯ç”±æ—è¾¹ï¼Œå…¶æœ¬èº«å¹¶æ²¡æœ‰çœŸæ­£åœ°å¼€å¯ä¸€æ¡æ—è·¯ï¼Œåšçš„äº‹æƒ…ä¹ŸåŸºæœ¬å¯ä»¥å’Œç½‘å…³çš„å®šä¹‰å¯¹é½ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œç”±äºè¿™ä¸ªè¯´æ³•ä¸»è¦é›†ä¸­äºç½‘å‹çš„äº¤æµè®¨è®ºä¹‹ä¸­ï¼Œè€Œä¸”å‡ å¹´æ¥åœ¨æœ‰ç›¸å…³éœ€æ±‚çš„å¹¿å¤§ç”¨æˆ·ä¸­è¢«å¹¿ä¸ºæ¥å—ï¼Œæ‰€ä»¥åªè¦è¿™ä¸ªè¯ä¸å˜ä¸ºä¸€ä¸ªå­¦æœ¯æ¦‚å¿µï¼Œé‚£æˆ‘å€’ä¹Ÿä¸è§‰å¾—æœ‰ä»€ä¹ˆä¸å¦¥ã€‚ä¸‹æ–‡ä¹Ÿä»ç„¶ä¼šç”¨ã€Œæ—è·¯ç”±ã€ä¸€è¯æ¥æŒ‡ä»£åœ¨æ­¤ç±»æ‹“æ‰‘ç»“æ„ä¸­æ‹…ä»»ä»£ç†ç½‘å…³è§’è‰²çš„è·¯ç”±å™¨ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œæœ¬æ–‡å¯¹äºåŸç†çš„è§£é‡Šåå¤šä¸”ä¸ºæ–°æ‰‹å‘ï¼Œå¯¹äºå·²ç»ç†ŸçŸ¥ç›¸å…³æ¦‚å¿µçš„è¯»è€…åˆ™å¯ä»¥å°†æœ¬æ–‡ä½œä¸º cheat sheet é£Ÿç”¨ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/tags/Linux/"/>
    
      <category term="ç½‘ç»œ" scheme="https://www.hi-linux.com/tags/%E7%BD%91%E7%BB%9C/"/>
    
      <category term="è·¯ç”±" scheme="https://www.hi-linux.com/tags/%E8%B7%AF%E7%94%B1/"/>
    
  </entry>
  
  <entry>
    <title>SRE ç”Ÿäº§ç¯å¢ƒä¸Šçº¿æ“ä½œæŒ‡å—</title>
    <link href="https://www.hi-linux.com/posts/20428.html"/>
    <id>https://www.hi-linux.com/posts/20428.html</id>
    <published>2023-10-13T01:00:00.000Z</published>
    <updated>2023-10-13T05:43:26.125Z</updated>
    
    <content type="html"><![CDATA[<div id="vip-container"><p>æˆ‘ä»¬æ¯å¤©è¦è¿›è¡Œå¤§é‡çš„çº¿ä¸Šå˜æ›´æ“ä½œã€‚æ€ä¹ˆä¿è¯è¿™äº›æ“ä½œå®‰å…¨ï¼Œä¸ä¼šå¯¼è‡´æ•…éšœï¼Œæ˜¯æˆ‘æ¯å¤©éƒ½åœ¨æ€è€ƒçš„é—®é¢˜ã€‚</p><p>è¿™ç¯‡æ–‡ç« ä»å·¥ä½œç»å†æ€»ç»“ä¸€äº›åŸåˆ™å’Œæƒ³æ³•ï¼Œå¸Œæœ›èƒ½æœ‰å¸®åŠ©ã€‚</p><p>çº¿ä¸Šæ“ä½œæœ‰å‡ ç‚¹åŸºæœ¬çš„è¦æ±‚ï¼š</p><ul><li>æ“ä½œéœ€è¦æ˜¯å¯ä»¥<strong>ç°åº¦çš„</strong> (Canary)ï¼šå³èƒ½å¤Ÿåœ¨ä¸€å°éƒ¨åˆ†èŒƒå›´å†…ç”Ÿæ•ˆï¼Œå¦‚æœæ²¡æœ‰é—®é¢˜ï¼Œå¯ä»¥ç»§ç»­æ“ä½œæ›´å¤šçš„éƒ¨åˆ†ï¼›</li><li>æ“ä½œå¿…é¡»æ˜¯å¯ä»¥éªŒè¯å’Œç›‘æ§çš„ï¼šè¦çŸ¥é“è‡ªå·±æ“ä½œçš„ç»“æœï¼Œæ˜¯å¦ç¬¦åˆé¢„æœŸï¼›</li><li>æ“ä½œå¿…é¡»æ˜¯å¯ä»¥å›æ»šçš„ï¼šå¦‚æœå‘ç°è‡ªå·±çš„æ“ä½œä¸ç¬¦åˆé¢„æœŸï¼Œé‚£ä¹ˆæœ‰åŠæ³•èƒ½å¤Ÿå›åˆ°ä¹‹å‰çš„çŠ¶æ€ï¼›</li></ul><p>é€»è¾‘å¾ˆç®€ç­”ï¼šå‡è®¾æˆ‘ä¸€å¼€å§‹åšæ“ä½œèŒƒå›´å¾ˆå°ï¼Œå¯ä»¥ç°åº¦ï¼Œåšå®Œä¹‹åæˆ‘å¯ä»¥ç›‘æ§æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œå¦‚æœä¸ç¬¦åˆé¢„æœŸå°±å›æ»šï¼Œé‚£ä¹ˆï¼Œæ“ä½œå°±æ˜¯å®‰å…¨çš„ã€‚</p><p>è¿™ä¸‰æ­¥ä¸­çš„æ¯ä¸€æ­¥çœ‹ä¼¼å¾ˆç®€å•ï¼Œä½†æ˜¯å®é™…åšèµ·æ¥å¾ˆéš¾ã€‚</p><a id="more"></a><h2><span id="ç°åº¦">ç°åº¦</span></h2><p>å‘å¸ƒè¿‡ç¨‹æ˜¯æœ€ç®€å•çš„ä¸€ç§ç°åº¦åœºæ™¯ï¼Œç°åœ¨æœ‰è“ç»¿å‘å¸ƒæ¨¡å¼ï¼š</p><ol><li>åˆ†æˆä¸¤ç»„ï¼Œå°†æ‰€æœ‰çš„æµé‡åˆ‡æ¢åˆ°ç»¿ç»„ï¼›</li><li>å…ˆå‘å¸ƒè“ç»„ï¼Œæ­¤æ—¶æ˜¯æ²¡æœ‰æµé‡çš„ï¼Œå‘å¸ƒå®Œæˆä¹‹åï¼Œå°†æµé‡é€æ¸åˆ‡æ¢åˆ°è“ç»„ï¼›æ¸…ç©ºç»¿ç»„ï¼›</li><li>ç„¶åå‘å¸ƒç»¿ç»„ï¼Œå‘å¸ƒå®Œæˆä¹‹åå°†æµé‡åˆ‡æ¢åˆ°å¹³å‡åˆ°ä¸¤ç»„</li></ol><p>è¿˜æœ‰æ»šåŠ¨å‘å¸ƒï¼Œå¯¹äºæ¯ä¸€ä¸ªå®ä¾‹ï¼šè®© Load Balancer ä¸å†å‘ç»™å®ƒæ–°çš„æµé‡ï¼Œç„¶åå‡çº§ï¼Œç„¶åå¼€å§‹æ¥æ”¶æµé‡ï¼Œå¦‚æœæ²¡æœ‰é—®é¢˜ï¼Œç»§ç»­ä»¥æ­¤å¤„ç†å…¶ä»–çš„å®ä¾‹ã€‚</p><p>å‡ ä¹æ¯ä¸ªäººéƒ½å¯ä»¥ç†è§£ç°åº¦çš„å¿…è¦æ€§ï¼Œä½†æ˜¯ä¸æ˜¯æ¯ä¸€ç§æ“ä½œéƒ½æ˜¯å¯ä»¥ç°åº¦çš„ã€‚</p><p>æ¯”å¦‚è¯´æ•°æ®åº“ DDL çš„å˜æ›´ï¼Œå¾ˆéš¾ç°åº¦ï¼Œæäº¤åˆ°æ•°æ®åº“ï¼Œæ•°æ®åº“å°±å¼€å§‹åº”ç”¨äº†ï¼›è¿˜æœ‰ä¸€äº›åŠ¨æ€é…ç½®ç³»ç»Ÿï¼Œä¸€äº›å…¨å±€é…ç½®ï¼Œå¦‚æœä¿®æ”¹ï¼Œå°±å¯¹æ‰€æœ‰çš„åº”ç”¨åŒæ—¶ç”Ÿæ•ˆçš„ï¼›ä¸€èˆ¬éƒ½æ˜¯è¿™æ ·ä¸€äº›æ•°æ®æºç±»å‹çš„å˜æ›´ï¼Œå¾ˆå®¹æ˜“å‡ºç°ä¸æ”¯æŒç°åº¦çš„æƒ…å†µã€‚ä¸å¯ä»¥ç°åº¦çš„æƒ…å†µä¹Ÿæ˜¯æœ€å®¹æ˜“å¯¼è‡´é—®é¢˜çš„ã€‚</p><p>ä¸€ä¸ªæ›¿ä»£æ–¹æ¡ˆæ˜¯ï¼Œæ­å»ºä¸€å¥—ä¸€æ¨¡ä¸€æ ·çš„ç¯å¢ƒï¼Œåœ¨è¿™ä¸ªç¯å¢ƒå…ˆåº”ç”¨å˜æ›´ï¼Œæµ‹è¯•ä¸€ä¸‹æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚ä½†æ˜¯åœ¨ä»Šå¤©åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼Œå¾ˆéš¾æ¨¡æ‹Ÿå‡ºæ¥ä¸€æ¨¡ä¸€æ ·çš„ç¯å¢ƒï¼Œå¯èƒ½è§„æ¨¡å°äº†ï¼Œå¯èƒ½æµ‹è¯•ç¯å¢ƒæ²¡æœ‰ä¸€äº›ç”¨æˆ·çš„ä½¿ç”¨åœºæ™¯ï¼Œç­‰ç­‰ã€‚æ€»ä¹‹ï¼Œæ¨¡æ‹Ÿçš„ç¯å¢ƒæ²¡æœ‰é—®é¢˜ï¼Œä¸èƒ½ä»£è¡¨ç”Ÿäº§çš„ç¯å¢ƒå°±æ²¡æœ‰é—®é¢˜ã€‚</p><p>æœ€å¥½çš„è§£å†³åŠæ³•ï¼Œè¿˜æ˜¯åœ¨è½¯ä»¶å’Œæ¶æ„ï¼Œä»è®¾è®¡ä¸Šå°±èƒ½æ”¯æŒç°åº¦ã€‚</p><h2><span id="éªŒè¯ä¸ç›‘æ§">éªŒè¯ä¸ç›‘æ§</span></h2><p>æ‰€æœ‰çš„æ“ä½œï¼Œä¸€å®šè¦çŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆï¼Œæ•ˆæœæ˜¯ä»€ä¹ˆã€‚åšå®Œä¹‹åè¿›è¡ŒéªŒè¯ã€‚å¬èµ·æ¥å¾ˆç®€å•ï¼Œä½†æ˜¯å®é™…ä¸Šï¼Œå¾ˆå¤šäººåšäº‹åƒæ˜¯é—­ç€çœ¼ç›ï¼Œä¸çŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆï¼Œåšå®Œä¹‹åæœ‰ä»€ä¹ˆæ•ˆæœä¹Ÿä¸ç®¡ã€‚</p><h3><span id="éªŒè¯æ“ä½œçš„ç»“æœ">éªŒè¯æ“ä½œçš„ç»“æœ</span></h3><p>ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæ¯”å¦‚ç›®å‰ç½‘å…³é‡åˆ°äº†ä»€ä¹ˆé—®é¢˜ï¼Œç»è¿‡æŸ¥è¯¢ï¼Œå‘ç°å’Œ Nginx çš„ä¸€ä¸ªå‚æ•°æœ‰å…³ï¼Œç„¶åæ ¹æ®ç½‘ä¸Šçš„å†…å®¹ä¿®æ”¹äº†è¿™ä¸ªå‚æ•°ï¼Œå›å¤´å»çœ‹é—®é¢˜è§£å†³äº†æ²¡æœ‰ã€‚å¦‚æœæ²¡æœ‰ï¼Œç»§ç»­åœ¨ç½‘ä¸ŠæŸ¥èµ„æ–™ï¼Œçœ‹å’Œä»€ä¹ˆå‚æ•°æœ‰å…³ã€‚</p><p>ä¸Šè¿°æ“ä½œï¼Œä¸€ä¸ªæ½œåœ¨çš„é—®é¢˜æ˜¯ï¼Œå½“é—®é¢˜çœŸæ­£ä¿®å¤äº†ä¹‹åï¼Œæˆ‘ä»¬ä¸çŸ¥é“è‡ªå·±åšäº†å•¥æ‰ä¿®å¤é—®é¢˜çš„ã€‚ä¹Ÿæœ‰ä¸€äº›æ—¶å€™ï¼Œç›¸åŒçš„é…ç½®å˜äº†åå­—ï¼Œå®é™…ä¸Šè¿™ä¸ªä¿®æ”¹è¿™ä¸ªå‚æ•°æ˜¯å¯ä»¥è§£å†³é—®é¢˜çš„ï¼Œåªä¸è¿‡æˆ‘ä»¬ç”¨äº†ä»ç½‘ä¸Šå¾—åˆ°çš„è¿‡æ—¶çš„å‚æ•°åå­—ï¼Œæ‰€ä»¥ä¸ç”Ÿæ•ˆã€‚</p><p>æ‰€ä»¥ï¼Œå¯¹äºæ¯ä¸€ä¸ªæ“ä½œï¼Œæ¨èç›´æ¥å»éªŒè¯ç›®å‰çš„æ“ä½œç»“æœã€‚æ¯”å¦‚æ”¹äº†ä¸€ä¸ª log å‚æ•°ï¼Œé‚£ä¹ˆç›´æ¥å»çœ‹è¿™ä¸ªå‚æ•°æ˜¯å¦ç”Ÿæ•ˆï¼Œæ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œç„¶åå†å»çœ‹å…¶ä»–çš„é—®é¢˜æ˜¯å¦å¾—åˆ°è§£å†³ã€‚</p><p>åšæ“ä½œè¦ä¸€æ­¥ä¸€æ­¥æ¥ï¼Œåšä¸€æ­¥éªŒè¯ä¸€æ­¥ã€‚</p><p>å¦å¤–ï¼Œæœ€å¥½å»éªŒè¯æ“ä½œçš„å‰¯ä½œç”¨ï¼Œè€Œä¸æ˜¯éªŒè¯æ“ä½œæœ¬èº«ã€‚æ¯”å¦‚ï¼Œä¿®æ”¹äº†ä¸€ä¸ªé…ç½®ï¼Œä¸æ˜¯å» <code>cat</code> ä¸€ä¸‹é…ç½®æ–‡ä»¶ç¡®è®¤å°±å¯ä»¥äº†ï¼Œè€Œæ˜¯è¦å»çœ‹è‡ªå·±ä¿®æ”¹çš„é…ç½®æ˜¯å¦çœŸçš„ç”Ÿæ•ˆäº†ã€‚æ¯”å¦‚è·¯ç”±å™¨è®¾å¤‡ï¼Œæˆ‘ä»¬æ‰§è¡Œäº†ä¸€äº›å‘½ä»¤ <code>ip route ...</code> ï¼ŒéªŒè¯çš„æ–¹æ³•å¹¶ä¸æ˜¯ <code>show running-config</code> å»çœ‹é…ç½®æ˜¯å¦æœ‰è¿™ä¸€æ¡ï¼Œè€Œæ˜¯è¦å»çœ‹ <code>show ip route</code> ç¡®å®šé…ç½®æ˜¯å¦ç”Ÿæ•ˆã€‚</p><h3><span id="éªŒè¯æ ¸å¿ƒçš„ä¸šåŠ¡æŒ‡æ ‡">éªŒè¯æ ¸å¿ƒçš„ä¸šåŠ¡æŒ‡æ ‡</span></h3><p>é™¤äº†éªŒè¯æ“ä½œç»“æœä¹‹å¤–ï¼Œä¹Ÿè¦å…³æ³¨ä¸šåŠ¡æŒ‡æ ‡æ˜¯å¦è¿˜æ­£å¸¸ã€‚</p><p>å¦‚æœä¸šåŠ¡æŒ‡æ ‡ä¸æ­£å¸¸äº†ï¼Œè€Œæ°å¥½å’Œè‡ªå·±çš„æ“ä½œæ—¶é—´å»åˆï¼Œé‚£ä¹ˆå°±åº”è¯¥ç«‹å³å›æ»šã€‚</p><p>å¬èµ·æ¥å¾ˆåˆç†ï¼Ÿä½†æ˜¯å®é™…ä¸Šï¼Œå¾ˆå¤šäººï¼ˆæˆ‘ä¹Ÿæ˜¯ï¼‰ç¬¬ä¸€ååº”éƒ½ä¼šæ˜¯ï¼Œæˆ‘çš„æ“ä½œä¸å¯èƒ½å¼•èµ·è¿™ä¸ªé—®é¢˜ï¼Œè®©æˆ‘å…ˆçœ‹çœ‹æ—¥å¿—ï¼Œåˆ°åº•å‘ç”Ÿä»€ä¹ˆäº†ã€‚</p><p>å½“å‘ç”Ÿé—®é¢˜çš„æ—¶å€™ï¼Œæ—¶é—´å¾ˆå®è´µï¼Œæ­£ç¡®çš„åšæ³•æ˜¯ç¬¬ä¸€æ—¶é—´åœ¨ç¾¤ç»„é‡Œé¢å®£å¸ƒè‡ªå·±çš„æ“ä½œï¼ˆäº‹å®ä¸Šï¼Œæ“ä½œä¹‹å‰å°±å®£å¸ƒäº†ï¼Œä½†æ˜¯æ¶ˆæ¯å¤ªå¤šï¼Œæ²¡æœ‰é—®é¢˜çš„æ—¶å€™æ²¡æœ‰äººä¼šè®¤çœŸçœ‹æ“ä½œå†å²ï¼‰ï¼Œç„¶åå¼€å§‹è¿›è¡Œå›æ»šã€‚å¯æƒœçš„æ˜¯ï¼Œæˆ‘å‘ç°è¿™ä¹ˆåšçš„äººå¾ˆå°‘ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯æƒ³å»æ’æŸ¥ï¼Œç›´åˆ°ç¡®å®šæ˜¯è‡ªå·±çš„æ“ä½œå¯¼è‡´çš„ï¼Œæ‰å¼€å§‹å›æ»šã€‚</p><h2><span id="å›æ»š">å›æ»š</span></h2><p>åŒä¸Šï¼Œä¸æ˜¯æ‰€æœ‰çš„æ“ä½œéƒ½å¯ä»¥å›æ»šçš„ã€‚ä¸€äº›å¯ä»¥è¡¥å¿çš„æ–¹æ¡ˆæœ‰ï¼Œæ“ä½œä¸Šå°½é‡è®¾è®¡æˆå¯ä»¥å›æ»šçš„ï¼ˆæœ‰äº›åºŸè¯ï¼‰ã€‚æ¯”å¦‚ï¼Œ<a href="https://www.amazon.com/Designing-Data-Intensive-Applications-Reliable-Maintainable/dp/1449373321" target="_blank" rel="noopener">DDIA</a> è¿™æœ¬ä¹¦å°±ä»‹ç»äº†æ•°æ®ä¸Šå¦‚ä½•åšå‘å‰å…¼å®¹å’Œå‘åå…¼å®¹çš„æ–¹æ³•ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚è½¯ä»¶æ–°ç‰ˆæœ¬çš„ä¸€ä¸ªé…ç½®è¦ä»åå­— A æ”¹æˆ Bï¼Œä¸è¦ç›´æ¥æ”¹ï¼Œè€Œæ˜¯æ·»åŠ ä¸€ä¸ªé…ç½® Bï¼Œä»£ç é‡Œé¢å¯ä»¥è¯» Bï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œå°è¯•è¯» Aã€‚ç­‰å‡çº§å®Œæˆä¹‹åï¼Œåœ¨ä¸‹ä¸€ä¸ªæ–°ç‰ˆæœ¬ä¸­ï¼Œå»æ‰ A çš„é€»è¾‘ã€‚è¿™æ ·ï¼Œæ¯ä¸¤ä¸ªç‰ˆæœ¬ä¹‹é—´éƒ½æ˜¯å…¼å®¹çš„ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›æˆ‘è®¤ä¸ºéå¸¸é‡è¦çš„ä¸œè¥¿ã€‚</p><h2><span id="æ“ä½œè®¡åˆ’å’Œæ“ä½œè®°å½•">æ“ä½œè®¡åˆ’å’Œæ“ä½œè®°å½•</span></h2><p>ä¸€äº›å¤æ‚çš„æ“ä½œï¼Œæ¯”å¦‚ä¿®æ”¹ DNSï¼Œé…ç½®ç½‘å…³ï¼Œé…ç½®å…¶ä»–ä¸œè¥¿ï¼Œå¯èƒ½æ˜¯è”åŠ¨çš„ã€‚è€Œä¸”æ˜¾ç¤ºä¸­ä¹Ÿä¸æ˜¯æ‰€æœ‰çš„ä¸œè¥¿éƒ½é€‚åˆè‡ªåŠ¨åŒ–çš„ã€‚è¿™äº›å¤æ‚çš„æ“ä½œï¼Œæ¨èåœ¨æ“ä½œä¹‹å‰å°±å†™å¥½æ“ä½œè®¡åˆ’ï¼Œç„¶åå¯¹ç€ä¸€æ­¥ä¸€æ­¥æ“ä½œï¼Œè´´ä¸Šå¿…è¦çš„éªŒè¯ç»“æœå’Œæ“ä½œæ—¶é—´ã€‚ä¸‡ä¸€å‡ºç°ä»€ä¹ˆå¼‚å¸¸ï¼Œå°±å¯ä»¥å°†å¼‚å¸¸å‡ºç°çš„æ—¶é—´å’Œè‡ªå·±çš„æ“ä½œè®°å½•å¯¹ç…§ï¼Œå¾ˆæœ‰ç”¨çš„ã€‚æ“ä½œè®¡åˆ’ä¹Ÿå¯ä»¥ç›¸äº’ reviewï¼Œå¦‚æœæ˜¯ gitops çš„è¯ï¼Œå°±æ›´å¥½äº†ã€‚</p><h2><span id="æ•ˆç‡">æ•ˆç‡</span></h2><p>è¿™æ˜¯ <strong>Last but not least!</strong> æ“ä½œçš„æ•ˆç‡è‡³å…³é‡è¦ã€‚</p><p>æˆ‘è®¤ä¸ºè¿ç»´å¹³å°è¦è®¾è®¡æˆç®€æ´ï¼Œæ²¡æœ‰æ­§ä¹‰ï¼Œæµç¨‹æ¸…æ™°çš„ï¼Œéå¿…è¦ä¸å®¡æ‰¹ã€‚è¿™å¯èƒ½è·Ÿç›´è§‰ç›¸åï¼Œå°¤å…¶æ˜¯é¢†å¯¼çš„ç›´è§‰ã€‚</p><p>é¢†å¯¼ï¼ˆä¸çŸ¥ä¸ºä½•ï¼‰è§‰å¾—å®¡æ‰¹æµç¨‹è¶Šå¤šè¶Šå¥½ï¼Œå‡ºäº†äº‹æ•…å°±å¼€å§‹æ€è€ƒåœ¨å“ªä¸€ä¸ªé˜¶æ®µå¯ä»¥åŠ ä¸Šä¸€ä¸ªå®¡æ‰¹æµç¨‹ï¼Œæ¥é¿å…ç±»ä¼¼çš„é—®é¢˜å‘ç”Ÿã€‚ä½†å…¶å®ï¼Œæˆ‘è§‰å¾—æµç¨‹è¶Šå¤šï¼Œå‡ºé—®é¢˜çš„æ¦‚ç‡ä¸å‡åå¢ã€‚</p><p>ç¨‹åºå‘˜å¤©ç”Ÿå°±ä¸å–œæ¬¢ç¹é‡çš„æµç¨‹ï¼Œå¦‚æœæµç¨‹å¤ªé‡ï¼Œå°±ä¼šå‡ºç°å…¶ä»–çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼Œäººä»¬ä¼šæƒ³åŠæ³•ç»•è¿‡ä¸å¿…è¦çš„æµç¨‹ï¼›ä¼šæƒ³åŠæ³•â€œæ­è½¦å‘å¸ƒâ€ï¼ˆæ„æ€å°±æ˜¯å°†å¤šä¸ªæ“ä½œåˆå¹¶æˆä¸€ä¸ªï¼Œè¿™ä¹Ÿæ˜¯è¿ååŸåˆ™çš„ï¼Œä¸€æ¬¡åº”è¯¥åªåšä¸€ä¸ªæ“ä½œï¼‰ï¼›å¯¹äºæ˜æ˜¾å‡ºç°å¼‚å¸¸è‹—å¤´çš„æ—¶å€™ï¼Œå› ä¸ºä¸æƒ³é‡æ–°èµ°å®¡æ‰¹è€Œé“¤è€Œèµ°é™©ã€‚</p><p>ä½†æ˜¯å‡ºç°è¿™ç§æƒ…å†µï¼Œé¢†å¯¼ä¸ä¼šè§‰å¾—æµç¨‹æœ‰é—®é¢˜ï¼Œé¢†å¯¼ä¼šè§‰å¾—ä½ å°å­ä¸æŒ‰ç…§æµç¨‹åŠäº‹ï¼Œå¼€é™¤ã€‚</p><p>æœ€åå¯¼è‡´ SRE çš„å¹¸ç¦æ„Ÿå¾ˆä½ï¼Œäº‹æƒ…è¿˜æ˜¯è¦é‚£ä¹ˆå¤šï¼Œå®Œæˆå·¥ä½œä¸å¾—ä¸é“¤è€Œèµ°é™©ï¼Œè¿˜å¾—è´£ä»»è‡ªè´Ÿã€‚</p><p>äº‹å®ä¸Šï¼ŒçœŸæ­£èƒ½ä¿è¯å®‰å…¨çš„æ˜¯æ¶æ„è®¾è®¡ç®€å•ï¼Œåšäº‹çš„äººçŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆï¼Œæ“ä½œæŒ‰ç…§å¦‚ä¸Šç°åº¦ã€éªŒè¯ï¼Œå‡ºé—®é¢˜å›æ»šï¼Œè€Œä¸æ˜¯é æµç¨‹ã€‚SRE ä¹‹é—´ Review æ˜¯æœ‰ä»·å€¼çš„ï¼Œå®¡æ‰¹æ˜¯æ²¡æœ‰ä»·å€¼çš„ï¼Œå¤§éƒ¨åˆ†çš„å®¡æ‰¹ä»…ä»…æ˜¯è¯·ç¤ºä¸€ä¸‹é¢†å¯¼è€Œå·²ï¼Œé¢†å¯¼å¯èƒ½çœ‹ä¸æ‡‚æ“ä½œçš„åæœæ˜¯ä»€ä¹ˆã€‚</p><p>æ‰€ä»¥ï¼Œæµç¨‹æ˜¯æœ‰ä»£ä»·çš„ã€‚</p><blockquote><p>æœ¬æ–‡è½¬è½½è‡ªï¼šã€Œå¡ç“¦é‚¦å™¶ã€ï¼ŒåŸæ–‡ï¼š<a href="https://url.hi-linux.com/0LB3T" target="_blank" rel="noopener">https://url.hi-linux.com/0LB3T</a> ï¼Œç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚æ¬¢è¿æŠ•ç¨¿ï¼ŒæŠ•ç¨¿é‚®ç®±: <a href="mailto:editor@hi-linux.com">editor@hi-linux.com</a>ã€‚</p></blockquote></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "10135-1588830050631-449",        "name": "ã€Œå¥‡å¦™çš„ Linux ä¸–ç•Œã€",        "qrcode": "https://www.hi-linux.com/img/wechat/mp_qrcode_12.jpg",        "keyword": "VIP"    });}</script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æˆ‘ä»¬æ¯å¤©è¦è¿›è¡Œå¤§é‡çš„çº¿ä¸Šå˜æ›´æ“ä½œã€‚æ€ä¹ˆä¿è¯è¿™äº›æ“ä½œå®‰å…¨ï¼Œä¸ä¼šå¯¼è‡´æ•…éšœï¼Œæ˜¯æˆ‘æ¯å¤©éƒ½åœ¨æ€è€ƒçš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« ä»å·¥ä½œç»å†æ€»ç»“ä¸€äº›åŸåˆ™å’Œæƒ³æ³•ï¼Œå¸Œæœ›èƒ½æœ‰å¸®åŠ©ã€‚&lt;/p&gt;
&lt;p&gt;çº¿ä¸Šæ“ä½œæœ‰å‡ ç‚¹åŸºæœ¬çš„è¦æ±‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ“ä½œéœ€è¦æ˜¯å¯ä»¥&lt;strong&gt;ç°åº¦çš„&lt;/strong&gt; (Canary)ï¼šå³èƒ½å¤Ÿåœ¨ä¸€å°éƒ¨åˆ†èŒƒå›´å†…ç”Ÿæ•ˆï¼Œå¦‚æœæ²¡æœ‰é—®é¢˜ï¼Œå¯ä»¥ç»§ç»­æ“ä½œæ›´å¤šçš„éƒ¨åˆ†ï¼›&lt;/li&gt;
&lt;li&gt;æ“ä½œå¿…é¡»æ˜¯å¯ä»¥éªŒè¯å’Œç›‘æ§çš„ï¼šè¦çŸ¥é“è‡ªå·±æ“ä½œçš„ç»“æœï¼Œæ˜¯å¦ç¬¦åˆé¢„æœŸï¼›&lt;/li&gt;
&lt;li&gt;æ“ä½œå¿…é¡»æ˜¯å¯ä»¥å›æ»šçš„ï¼šå¦‚æœå‘ç°è‡ªå·±çš„æ“ä½œä¸ç¬¦åˆé¢„æœŸï¼Œé‚£ä¹ˆæœ‰åŠæ³•èƒ½å¤Ÿå›åˆ°ä¹‹å‰çš„çŠ¶æ€ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é€»è¾‘å¾ˆç®€ç­”ï¼šå‡è®¾æˆ‘ä¸€å¼€å§‹åšæ“ä½œèŒƒå›´å¾ˆå°ï¼Œå¯ä»¥ç°åº¦ï¼Œåšå®Œä¹‹åæˆ‘å¯ä»¥ç›‘æ§æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œå¦‚æœä¸ç¬¦åˆé¢„æœŸå°±å›æ»šï¼Œé‚£ä¹ˆï¼Œæ“ä½œå°±æ˜¯å®‰å…¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸‰æ­¥ä¸­çš„æ¯ä¸€æ­¥çœ‹ä¼¼å¾ˆç®€å•ï¼Œä½†æ˜¯å®é™…åšèµ·æ¥å¾ˆéš¾ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/categories/Linux/"/>
    
    
      <category term="æŠ€å·§" scheme="https://www.hi-linux.com/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="Linux" scheme="https://www.hi-linux.com/tags/Linux/"/>
    
      <category term="DevOps" scheme="https://www.hi-linux.com/tags/DevOps/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€æ–‡å¸¦ä½ ææ‡‚å…¬ç½‘ã€ç§ç½‘ã€å†…ç½‘ã€å¤–ç½‘çš„åŒºåˆ«</title>
    <link href="https://www.hi-linux.com/posts/4852.html"/>
    <id>https://www.hi-linux.com/posts/4852.html</id>
    <published>2023-09-28T01:00:00.000Z</published>
    <updated>2023-09-28T08:25:04.382Z</updated>
    
    <content type="html"><![CDATA[<div id="vip-container"><p>æœ€è¿‘ç»å¸¸æœ‰å¾ˆå¤šå°ç™½æœ‹å‹åœ¨åå°é—®ï¼Œ<strong>å…¬ç½‘ã€ç§ç½‘ã€å†…ç½‘ã€å¤–ç½‘ï¼Œè¿™äº›çš„æ¦‚å¿µæ˜¯å•¥æ ·çš„ï¼Œåˆè¯¥æ€ä¹ˆå»ç•Œå®šã€‚</strong></p><p>å…³äº IP åœ°å€ï¼Œç¡®å®æ²¡æœ‰å¤ªæ˜ç¡®çš„åŒºåˆ†ï¼Œå…¶å®ä¹Ÿä¸å¿…å¤ªè¿‡å’¬æ–‡åš¼å­—ã€‚</p><p>å†…ç½‘ã€å¤–ç½‘å°±æ˜¯ä¸€ä¸ªå‚è€ƒç³»é€‰æ‹©çš„ç»“æœã€‚</p><p>æ¯•ç«Ÿå¯¹ä½ è€Œè¨€æ˜¯å¤–ç½‘ï¼Œå…¶å®æ˜¯åˆ«äººçš„å†…ç½‘ï¼Œï¼Œå„æœ‰å„çš„å®šä¹‰ï¼Œæœ€å¤šåªèƒ½å…·ä½“é—®é¢˜å…·ä½“åˆ†æã€‚</p><p>ä¸è¿‡åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯å¯ä»¥åŒºåˆ†çš„ã€‚</p><p><strong>å†…ã€å¤–ç½‘æ˜¯ç›¸å¯¹äºé˜²ç«å¢™è€Œè¨€çš„ï¼Œåœ¨é˜²ç«å¢™å†…éƒ¨å«åšå†…ç½‘ï¼Œåä¹‹å°±æ˜¯å¤–ç½‘ã€‚</strong></p><p><strong>æ‰€ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¤–ç½‘ç­‰åŒäºå…¬ç½‘ï¼Œå†…ç½‘ç­‰åŒäºç§ç½‘ã€‚</strong></p><p>é‚£å…·ä½“æ€ä¹ˆåˆ†ï¼Œå†å±•å¼€æ¢è®¨ä¸€ç•ªã€‚</p><a id="more"></a><h2><span id="01-å…¬ç½‘å¤–ç½‘">01. å…¬ç½‘=å¤–ç½‘ï¼Ÿ</span></h2><p><strong>ç§ç½‘=å†…ç½‘ï¼Ÿ</strong></p><p>å‰é¢åªæ˜¯æµ…æµ…è¯´ä¸€ä¸‹ï¼Œé‚£åˆ°åº•å¯ä»¥è¿™ä¹ˆç†è§£å—ï¼Ÿ</p><p>è¿™å››ä¸ªåè¯çš„æ„æ€ï¼Œå¾ˆæµ…æ˜¾ã€‚</p><p><strong>å…¬ç½‘=å…¬å…±ç½‘ç»œ</strong></p><p><strong>ç§ç½‘=ç§æœ‰ç½‘ç»œ</strong></p><p><strong>å†…ç½‘=å†…éƒ¨ç½‘ç»œ</strong></p><p><strong>å¤–ç½‘=å¤–éƒ¨ç½‘ç»œ</strong></p><p>å‡è®¾ç°åœ¨æˆ‘ä»¬ç”¨å¤§å†™å­—æ¯è¡¨ç¤ºç½‘ç»œç¾¤ç»„ï¼Œåé¢æ‹¬å·è·Ÿä¸Šæ•°å­—ä»£è¡¨å…¶è§„æ¨¡è¡¨ç¤ºç¾¤ç»„ä¸­æœ‰å¤šå°‘å°è®¡ç®—æœºã€‚</p><p>C (567918467)-ä¸­å›½ç½‘ç»œç¾¤ç»„</p><p>W (407619781)-å…¨çƒç½‘ç»œç¾¤ç»„</p><p>A (57619)-é˜¿é‡Œäº‘æœåŠ¡å™¨ç¾¤ç»„</p><p>H (3)-ä½ å®¶é‡Œçš„ç½‘ç»œç¾¤ç»„</p><p><strong>ç„¶åè¿™å…¶ä¸­å°±åŒ…å«äº†ä¸€äº›å…³ç³»ï¼ŒWâ†â†’C[A,H]ã€‚</strong></p><p>æˆ‘ä»¬çŸ¥é“ç”±äºå›½å†…ç½‘ç»œå®é™…ä¸Šè¢«é™åˆ¶äº†çš„ï¼Œå¯ä»¥ç§°ä¹‹ä¸ºå…¨çƒæœ€å¤§çš„å±€åŸŸç½‘ï¼Œæ‰€ä»¥å›½å†…ç½‘ç»œç¾¤ç»„å¯ä»¥ï¼ˆç§‘å­¦ï¼‰è®¿é—®å›½å¤–ç½‘ç»œç¾¤ç»„ï¼Œè€Œé˜¿é‡Œäº‘å’Œä½ è‡ªå®¶ç”µè„‘éƒ½å±äºCã€‚</p><p>é‚£ä¹ˆå¦‚æœä½ çš„ç”µè„‘åœ¨ Cï¼ŒW å¯¹äºä½ æ¥è¯´å°±å«<strong>å¤–ç½‘</strong>ï¼Œè‡ªå·±æ‰€åœ¨çš„ç½‘ç»œå°±å«<strong>å†…ç½‘</strong>ï¼Œåä¹‹åŒç†ã€‚</p><p><strong>å±€åŸŸç½‘</strong>ä¹Ÿæ˜¯è¿™ä¸ªæ¦‚å¿µï¼Œå¦‚æœä½ èº«å¤„å±€åŸŸç½‘ï¼Œé‚£ä¹ˆå¤–éƒ¨ç½‘ç»œå°±å«å¤–ç½‘ã€‚</p><p>é‚£ä¹ˆä»€ä¹ˆæ˜¯<strong>å…¬ç½‘</strong>å‘¢ï¼Œé¡¾åæ€ä¹‰ï¼Œäººäººéƒ½èƒ½è®¿é—®çš„ç½‘ç»œã€‚</p><p>ä¾‹å¦‚ H å’Œ Aï¼Œä»–ä»¬éƒ½èƒ½è®¿é—®è‡ªå·±çš„ä¸Šå±‚ä¹Ÿå°±æ˜¯ Cï¼Œé‚£ä¹ˆ C å¯¹äº A å’Œ H æ¥è¯´å°±å«å…¬ç½‘ã€‚</p><p>**å…¬ç½‘=å¤–ç½‘å—ï¼Ÿ**<strong>å¯ä»¥æ˜¯å¯ä»¥ï¼Œä½†åˆæœ‰éƒ¨åˆ†æƒ…å†µéœ€è¦å…·ä½“é—®é¢˜å…·ä½“åˆ†æã€‚</strong></p><p>æ¯”å¦‚è¯´æœ‰æ—¶å€™åƒå¤§å‹ç½‘ç»œå½“ä¸­ä¼šæœ‰è‡ªå»ºçš„å¹¿åŸŸç½‘ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è‡ªå»ºçš„éª¨å¹²ç½‘ç»œï¼Œå¯¹è¿™ç§<strong>éª¨å¹²ç½‘ç»œ</strong>æˆ‘ä»¬ä¹Ÿä¼šå«å…¬ç½‘ã€‚</p><p>ç„¶åå†…éƒ¨çš„ç½‘ç»œçš„è¯ä¹Ÿä¼šå«å†…ç½‘ï¼Œè¿™ç§æƒ…å†µå°±ä¸å¤ªä¸€æ ·ã€‚</p><p>æ¯”å¦‚åƒæ”¿åŠ¡å¤–ç½‘æˆ–è€…æ”¿åŠ¡ç½‘æ­¤ç±»ï¼Œé‚£æ”¿åŠ¡ç½‘å®ƒçš„å…¬å…±éƒ¨åˆ†å…¶å®å®ƒå¹¶ä¸èƒ½ä¸Šäº’è”ç½‘ï¼Œä½†æ˜¯ä¹Ÿå«<strong>å…¬ç½‘</strong>ã€‚</p><p><strong>ç§ç½‘</strong>ï¼Œç§æœ‰ç½‘ç»œï¼Œæœªç»æˆæƒæ— æ³•è®¿é—®çš„ç½‘ç»œã€‚</p><p><strong>å±€åŸŸç½‘</strong>ä¹Ÿæ˜¯æŸç§æ„ä¹‰ä¸Šçš„ç§ç½‘ï¼Œè·¯ç”±å™¨åªæä¾›è®¿é—®å¤–ç½‘çš„æƒé™å’Œè¿æ¥ï¼Œäºæ˜¯å¯¹äº A å’Œ H æ¥è¯´ï¼Œä»–ä»¬ä¹Ÿå°±æ˜¯äº’ä¸ºç§ç½‘ã€‚</p><p>æ‰€ä»¥å…¶å®ä¸å¿…è¿‡äºçº ç»“å«æ³•ï¼Œè¿™ä¸ªå¹¶æ²¡æœ‰æ˜ç¡®çš„å®šä¹‰ã€‚</p><h2><span id="02å†…ç½‘å±€åŸŸç½‘">02.ã€Œå†…ç½‘ã€å±€åŸŸç½‘</span></h2><p>æ¥ä¸‹æ¥å±•å¼€è¯´è¯´ã€‚</p><p><strong>å†…ç½‘ä¹Ÿå«å±€åŸŸç½‘ï¼Œä»èŒƒå›´ä¸Šæ¥è®²å†…ç½‘å°±æ˜¯å°éƒ¨åˆ†çš„ç½‘ç»œã€‚</strong></p><p>å±€åŸŸç½‘æŒ‡åœ¨æŸä¸€åŒºåŸŸå†…ç”±å¤šå°è®¡ç®—æœºäº’è”æˆçš„è®¡ç®—æœºç»„ã€‚ä¸€èˆ¬æ˜¯æ–¹åœ†å‡ åƒç±³ä»¥å†…ã€‚</p><p>å±€åŸŸç½‘å¯ä»¥å®ç°æ–‡ä»¶ç®¡ç†ã€åº”ç”¨è½¯ä»¶å…±äº«ã€æ‰“å°æœºå…±äº«ã€å·¥ä½œç»„å†…çš„æ—¥ç¨‹å®‰æ’ã€ç”µå­é‚®ä»¶å’Œä¼ çœŸé€šä¿¡æœåŠ¡ç­‰åŠŸèƒ½ã€‚</p><p><strong>å±€åŸŸç½‘æ˜¯å°é—­å‹çš„ï¼Œå¯ä»¥ç”±åŠå…¬å®¤å†…çš„ä¸¤å°è®¡ç®—æœºç»„æˆï¼Œä¹Ÿå¯ä»¥ç”±ä¸€ä¸ªå…¬å¸å†…çš„ä¸Šåƒå°è®¡ç®—æœºç»„æˆã€‚</strong></p><p><img src="https://img.hi-linux.com/staticfile/202309061009261-20230928154938259-2023-09-28-Ytvk9o.png" alt></p><p><strong>æˆ‘ä»¬å¸¸è¯´çš„å†…ç½‘ï¼Œä»å­—é¢æ„æ€ä¸Šæ¥è®²æ˜¯åŒºåˆ«äºå¤–ç½‘çš„ã€‚</strong></p><p><strong>ä¹Ÿå°±æ˜¯è¯´å†…ç½‘ä¸€èˆ¬æ˜¯ç”¨äºå±€åŸŸç½‘å†…éƒ¨çš„è®¡ç®—æœºä¹‹é—´çš„äº’ç›¸é€šä¿¡ï¼Œå¦‚æœéœ€è¦è®¿é—® Internetï¼Œéœ€è¦å€ŸåŠ©å¤–ç½‘ã€‚</strong></p><p><strong>å±€åŸŸç½‘ä¸»è¦ç‰¹ç‚¹ï¼š</strong></p><p>è¦†ç›–çš„åœ°ç†èŒƒå›´è¾ƒå°ï¼Œé€‚åˆå°èŒƒå›´çš„ç»„ç½‘ã€‚æ¯”å¦‚å­¦æ ¡ã€å·¥å‚ã€æœºå…³å•ä½ç­‰ã€‚</p><p>ä½¿ç”¨ä¸“é—¨é“ºè®¾çš„ä¼ è¾“ä»‹è´¨è¿›è¡Œè”ç½‘ï¼Œæ•°æ®ä¼ è¾“é€Ÿç‡é«˜ï¼ˆ10Mb/sï½10Gb/sï¼‰ï¼›</p><p>é€šä¿¡å»¶è¿Ÿæ—¶é—´çŸ­ï¼Œå¯é æ€§è¾ƒé«˜ï¼›</p><p>å±€åŸŸç½‘å¯ä»¥æ”¯æŒå¤šç§ä¼ è¾“ä»‹è´¨ï¼›</p><h2><span id="03å¤–ç½‘å¹¿åŸŸç½‘">03.ã€Œå¤–ç½‘ã€å¹¿åŸŸç½‘</span></h2><p>å¤–ç½‘å³å¹¿åŸŸç½‘ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åˆç§°å…¬ç½‘ã€‚</p><p>æ˜¯è¿æ¥ä¸åŒåœ°åŒºå±€åŸŸç½‘æˆ–è€…åŸåŸŸç½‘è®¡ç®—æœºçš„é€šä¿¡çš„è¿œç¨‹ç½‘ç»œã€‚</p><p><img src="https://img.hi-linux.com/staticfile/202309061009262-2023-09-28-CRxWGX.png" alt></p><p>è¿æ¥ä¸åŒåœ°åŒºå±€åŸŸç½‘æˆ–åŸåŸŸç½‘è®¡ç®—æœºé€šä¿¡çš„è¿œç¨‹ç½‘ã€‚</p><p><strong>é€šå¸¸è·¨æ¥å¾ˆå¤§çš„ç‰©ç†èŒƒå›´ï¼Œæ‰€è¦†ç›–çš„èŒƒå›´ä»å‡ åå…¬é‡Œåˆ°å‡ åƒå…¬é‡Œï¼Œå®ƒèƒ½è¿æ¥å¤šä¸ªåœ°åŒºã€åŸå¸‚å’Œå›½å®¶ï¼Œæˆ–æ¨ªè·¨å‡ ä¸ªæ´²å¹¶èƒ½æä¾›è¿œè·ç¦»é€šä¿¡ï¼Œå½¢æˆå›½é™…æ€§çš„è¿œç¨‹ç½‘ç»œã€‚</strong></p><p>å¹¿åŸŸç½‘å¹¶ä¸ç­‰åŒäºäº’è”ç½‘ã€‚</p><h2><span id="04natåœ°å€è½¬æ¢æŠ€æœ¯">04.ã€ŒNATã€åœ°å€è½¬æ¢æŠ€æœ¯</span></h2><p><strong>è¿™é‡Œæµ…èŠä¸€ä¸‹NATâ€”â€”â€œç½‘ç»œåœ°å€è½¬æ¢â€æŠ€æœ¯ã€‚</strong> <strong>å®ƒæ˜¯ä¸€ç§æŠŠå†…éƒ¨ç§æœ‰ç½‘ç»œåœ°å€ï¼ˆIPåœ°å€ï¼‰ç¿»è¯‘æˆåˆæ³•ç½‘ç»œIPåœ°å€çš„æŠ€æœ¯ç”¨ã€‚</strong> å¤§æ¦‚æ„æ€æ˜¯ï¼ŒNAT å°±æ˜¯åœ¨å±€åŸŸç½‘ä¸­ä½¿ç”¨å†…éƒ¨åœ°å€ï¼Œè€Œå½“å†…éƒ¨èŠ‚ç‚¹è¦ä¸å¤–éƒ¨ç½‘ç»œè¿›è¡Œé€šè®¯æ—¶ï¼Œå°±åœ¨ç½‘å…³å¤„ï¼Œå°†å†…éƒ¨åœ°å€æ›¿æ¢æˆå…¬ç”¨åœ°å€ï¼Œä»è€Œåœ¨å¤–éƒ¨å…¬ç½‘ï¼ˆInternetï¼‰ä¸Šæ­£å¸¸ä½¿ç”¨ã€‚</p><p><img src="https://img.hi-linux.com/staticfile/202309061009263-2023-09-28-Hr16eS.jpg" alt></p><p>NATå¯ä»¥ä½¿å¤šå°è®¡ç®—æœºå…±äº« Internet è¿æ¥ï¼Œè¿™ä¸€åŠŸèƒ½å¾ˆå¥½åœ°è§£å†³äº†å…¬å…± IPåœ°å€ç´§ç¼ºçš„é—®é¢˜ã€‚ é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œå¯ä»¥åªç”³è¯·ä¸€ä¸ªåˆæ³•IPåœ°å€ï¼Œå°±æŠŠæ•´ä¸ªå±€åŸŸç½‘ä¸­çš„è®¡ç®—æœºæ¥å…¥ Internet ä¸­ã€‚ æ­£æ˜¯å› ä¸º NAT æŠ€æœ¯çš„å‡ºç°æ‰ä½¿å¾—å†…ç½‘åœ°å€èƒ½å¾ˆæ–¹ä¾¿çš„è®¿é—®äº’è”ç½‘ã€‚</p><h2><span id="05-å†…ç½‘å’Œå¤–ç½‘çš„åŒºåˆ«">05. å†…ç½‘å’Œå¤–ç½‘çš„åŒºåˆ«</span></h2><p><strong>2 ä¸ªä¾‹å­ç»™ä½ è¯´æ˜ç™½</strong></p><p><img src="https://img.hi-linux.com/staticfile/202309061009264-2023-09-28-KuqWBt.jpg" alt></p><p>å¦‚å›¾ï¼Œå‡è®¾æˆ‘ä»¬çš„è®¡ç®—æœºæ˜¯è®¾å¤‡ä¸€ï¼Œæƒ³è¦è®¿é—®ç™¾åº¦ã€‚</p><h3><span id="1-æ€ä¹ˆä½¿ç”¨æ ¡å›­ç½‘">1. æ€ä¹ˆä½¿ç”¨æ ¡å›­ç½‘</span></h3><p>å¦‚æœä½¿ç”¨æ ¡å›­ç½‘ï¼Œé¦–å…ˆéœ€è¦å…ˆé€šè¿‡æ ¡å›­ç½‘çš„è·¯ç”±å™¨æŠŠæˆ‘ä»¬çš„å†…ç½‘ IP è½¬ä¸ºæ ¡å›­ç½‘çš„å¤–ç½‘ IPã€‚ ç„¶åé€šè¿‡è¿™ä¸ªå¤–ç½‘ IP å…ˆè¿æ¥ä¸Šæ¹–å—ç”µä¿¡çš„ç½‘å…³ï¼Œæœ€ååœ¨è¿æ¥ä¸Šç™¾åº¦çš„ç½‘å…³ã€‚ ç™¾åº¦æŠŠä½ è¯·æ±‚çš„ä¿¡æ¯å›ä¼ åˆ°ä½ çš„æ ¡å›­ç½‘ç½‘å…³ï¼Œæ ¡å›­ç½‘ç½‘å…³å†æŠŠä¿¡æ¯ä¼ ç»™ä½ ï¼ˆæ•´ä¸ªç½‘ç»œå‘ˆç½‘çŠ¶ç»“æ„ã€‚ å®ƒä¼šè‡ªåŠ¨æ‰¾åˆ°ä¸€æ¡é€šå¾€ç™¾åº¦çš„è·¯å¾„â€”â€”åŸºäºæ·±åº¦ä¼˜å…ˆæœç´¢æˆ–è€…å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰ã€‚</p><p>è¿™ä¸ªè¿‡ç¨‹å°±è·Ÿæ·˜å®è´­ç‰©å·®ä¸å¤šï¼Œè½¬æ¢ä¸€ä¸‹ã€‚ å‡è®¾åœ¨å­¦æ ¡é‡Œ<strong>è®¢è´­</strong>äº†ä¸€æœ¬ä¹¦ï¼Œæ·˜å®é‚£è¾¹æ¥æ”¶åˆ°ä½ çš„è®¢å•å‡†å¤‡å¥½ç‰©å“å°±å¼€å§‹ç»™ä½ å‘è´§äº†ã€‚ ä»–å‘ç°ä½ çš„æ”¶è´§åœ°å€åœ¨æ¹–å—ï¼Œäºæ˜¯å®ƒå¯èƒ½ä»æ­å·å‡ºå‘ï¼Œå…ˆå»äº†ç¦å»ºçš„ä¸­è½¬ç«™ï¼Œç„¶åå†åˆ°æ±Ÿè¥¿çš„ä¸­è½¬ç«™ã€‚ çªç„¶å‘ç°æ±Ÿè¥¿åˆ°æ¹–å—çš„ä¸­è½¬ç«™ä¸é€šï¼Œäºæ˜¯å®ƒåªèƒ½å†ç»•åˆ°å¹¿ä¸œçš„ä¸­è½¬ç«™ï¼Œæœ€åå†åˆ°æ¹–å—ä¸­è½¬ç«™ã€‚ è¿™äº›ä¸­è½¬ç«™å°±ç›¸å½“äºå…¬ç½‘ä¸Šçš„å„ä¸ªç½‘å…³ã€‚ åˆ°äº†æ¹–å—ä¸­è½¬ç«™ï¼Œå¿«é€’å°å“¥å†æŠŠåŒ…è£¹é€åˆ°ä½ çš„æ ¡é—¨ï¼ˆè¿™å°±æ˜¯æœ€åä¸€çº§ç½‘å…³ï¼‰ã€‚ è¿™æ—¶å¿«é€’å°å“¥å°±èµ°äº†ï¼Œæ ¡é—¨å¤„çš„ç®¡ç†äººå‘˜åœ¨æ ¹æ®çš„ä½ çš„å®¿èˆä¿¡æ¯æŠŠåŒ…è£¹æ‹¿ç»™ä½ ã€‚ï¼ˆå±€åŸŸç½‘å†…éƒ¨çš„ä¿¡æ¯äº¤æµç”±æ ¡å›­ç½‘è¿™ä¸ªç½‘å…³æ¥å¤„ç†ï¼‰ è¿™å¯¹åˆšæ¥è§¦äº’è”ç½‘çš„äººæ¥è¯´æœ‰äº›éš¾ä»¥ç†è§£å†…ç½‘ IP å’Œå…¬ç½‘ IP çš„åŒºåˆ«ï¼Œé‚£æˆ‘ä»¬å†ä¸¾ä¸€ä¸ªä¾‹å­ã€‚</p><h3><span id="2-ä¸€ä¸ªå¯¹å†…ä¸€ä¸ªå¯¹å¤–">2. ä¸€ä¸ªå¯¹å†…ï¼Œä¸€ä¸ªå¯¹å¤–</span></h3><p>æˆ‘ä»¬æŠŠé…’åº—çš„ 201 æˆ¿æ¯”ä½œå†…ç½‘ IPï¼Œé‚£ä¹ˆå‡¡æ˜¯é…’åº—éƒ½å¯èƒ½æœ‰ 201 æˆ¿ï¼Œå‡å¦‚ä½ é¥¿äº†ä¼šå¯¹æœåŠ¡å‘˜è¯´ï¼šâ€œæˆ‘åœ¨ 201 æˆ¿é—´ï¼Œéº»çƒ¦é€äº›åƒçš„è¿‡æ¥â€œã€‚ è€Œå‡å¦‚ä½ è¦ç‚¹å¤–å–çš„è¯ä½ å¯¹åº—å®¶ä»…è¯´é€æ¥ 201 æˆ¿é—´ï¼ˆå†…ç½‘ IPï¼‰ï¼Œå¤–é¢çš„äººæ˜¯ä¸å¯èƒ½çŸ¥é“çš„ã€‚ è¿™æ—¶ä½ å°±è¦å¯¹åº—å®¶è¯´æŸæŸå¸‚æŸæŸåŒºæŸæŸé…’åº—ï¼ˆå…¬ç½‘ IPï¼‰å†åŠ ä¸Š 201 æˆ¿åº—å®¶æ‰èƒ½æ‰¾åˆ°ä½ ã€‚ è¿è¥å•†æ‰€åˆ†é…å…¬ç½‘ IP åœ°å€ï¼ˆæŸæŸå¸‚æŸæŸåŒºæŸæŸé…’åº—ï¼‰ä¹Ÿå°±æ˜¯æ‰€ä½çš„é…’åº—ï¼Œè€Œ 201 æˆ¿ï¼ˆå†…ç½‘ IP ï¼‰ åˆ™æ˜¯é…’åº—ç®¡å®¶ï¼ˆè·¯ç”±å™¨ï¼‰æ‰€åˆ†é…çš„ã€‚ æ‰€ä»¥ä¸€ä¸ªé…’åº—å¯ä»¥æœ‰å¾ˆå¤šçš„æˆ¿é—´ï¼ˆå†…ç½‘ IP ï¼‰ä½†æ˜¯å½“å¤–é¢çš„æœ‹å‹é—®ä½ ä½å“ªé‡Œï¼Œä½ è‚¯å®šä¸ä¼šè¯´ä½ ä½åœ¨201æˆ¿é—´ï¼ˆå†…ç½‘ IP ï¼‰è€Œä¼šè¯´ä½ ä½åœ¨æŸæŸå¸‚æŸæŸåŒºæŸæŸé…’åº—ï¼ˆå…¬ç½‘ IP ï¼‰ã€‚ è¿™æ˜¯å†…ç½‘ IP å’Œå…¬ç½‘ IP çš„æœ¬è´¨åŒºåˆ«ã€‚ ä¸€ä¸ªå¯¹å†…ï¼Œä¸€ä¸ªå¯¹å¤–ã€‚</p><h3><span id="3-ä½ éœ€è¦çŸ¥é“çš„-5-ä¸ªç‚¹-è¯´å‡ ä¸ªæ³¨æ„ç‚¹">3. ä½ éœ€è¦çŸ¥é“çš„ 5 ä¸ªç‚¹ è¯´å‡ ä¸ªæ³¨æ„ç‚¹ï¼š</span></h3><ol><li><p>å…¬ç½‘ IP å…·æœ‰ä¸–ç•ŒèŒƒå›´çš„å”¯ä¸€æ€§ï¼Œè€Œå†…ç½‘ IP åªåœ¨å±€åŸŸç½‘å†…éƒ¨å…·æœ‰å”¯ä¸€æ€§</p></li><li><p>ä¸€ä¸ªå±€åŸŸç½‘é‡Œæ‰€æœ‰ç”µè„‘çš„å†…ç½‘IPæ˜¯äº’ä¸ç›¸åŒçš„ï¼Œä½†å…±ç”¨ä¸€ä¸ªå¤–ç½‘ IPã€‚ å°±åƒå‰é¢é…’åº—çš„ä¾‹å­ä¸€æ ·ï¼š ä½ æ‰€åœ¨å­¦æ ¡çš„æ ¡ååœ¨æ•´ä¸ªä¸–ç•Œä¸Šåªæœ‰ä¸€ä¸ªï¼Œä½†æ˜¯ä½ å­¦æ ¡é‡Œé¢çš„ A æ ‹å¤§æ¥¼ 3 å±‚ 3 å·æ•™å®¤åªæœ‰åœ¨ä½ çš„æ ¡å›­å†…éƒ¨æ‰å…·æœ‰å”¯ä¸€æ€§ã€‚ åˆ«çš„å­¦æ ¡ä¹Ÿæœ‰ A æ ‹å¤§æ¥¼ 3 å±‚ 3 å·æ•™å®¤ã€‚ ä½ åªèƒ½è·Ÿå¿«é€’å°å“¥è¯´è¯·å¸®æˆ‘æŠŠåŒ…è£¹é€åˆ° xx å¤§å­¦ï¼Œè€Œä¸èƒ½è¯´è¯·å¸®æˆ‘æŠŠåŒ…è£¹é€åˆ° A æ ‹å¤§æ¥¼ 3 å±‚ 3 å·æ•™å®¤ã€‚</p></li><li><p>åœ¨å±€åŸŸç½‘ä¸­ï¼Œæ¯å°ç”µè„‘éƒ½å¯ä»¥è‡ªå·±åˆ†é…è‡ªå·±çš„ IPï¼Œä½†æ˜¯è¿™ä¸ª IP åªåœ¨å±€åŸŸç½‘ä¸­æœ‰æ•ˆã€‚ è€Œå¦‚æœä½ å°†ç”µè„‘è¿æ¥åˆ°äº’è”ç½‘ï¼Œä½ çš„ç½‘ç»œæä¾›å•†çš„æœåŠ¡å™¨ä¼šä¸ºä½ åˆ†é…ä¸€ä¸ª IP åœ°å€ï¼Œè¿™ä¸ªIPåœ°å€æ‰æ˜¯ä½ åœ¨å¤–ç½‘çš„ IPã€‚ ä¸¤ä¸ª IP åŒæ—¶å­˜åœ¨ï¼Œä¸€ä¸ªå¯¹å†…ï¼Œä¸€ä¸ªå¯¹å¤–ã€‚</p></li><li><p>äº’è”ç½‘ä¸Šçš„ IPï¼ˆå³å¤–ç½‘ IPï¼‰åœ°å€ç»Ÿä¸€ç”±ä¸€ä¸ªå« â€œIANAï¼ˆäº’è”ç½‘ç½‘ç»œå·åˆ†é…æœºæ„ï¼‰â€ çš„ç»„ç»‡æ¥ç®¡ç†ã€‚ ç”±äºåˆ†é…ä¸åˆç†ä»¥åŠ IPv4 åè®®æœ¬èº«å­˜åœ¨çš„å±€é™ï¼Œç°åœ¨äº’è”ç½‘çš„IPåœ°å€èµ„æºè¶Šæ¥è¶Šç´§å¼ ã€‚ IANA å°† Aã€Bã€C ç±» IP åœ°å€çš„ä¸€éƒ¨åˆ†ä¿ç•™ä¸‹æ¥ï¼Œç•™ä½œå±€åŸŸç½‘ä½¿ç”¨ã€‚ å…·ä½“å¦‚ä¸‹â€”â€”IPåœ°å€ç©ºé—´ï¼š A ç±»ç½‘ 10.0.0.0 ~ 10.255.255.255ï¼ŒB ç±»ç½‘172.16.0.0 ~ 172.31.255.255ï¼ŒC ç±»ç½‘ 192.168.0. 0~ 192.168.255.255ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ æŸ¥åˆ°çš„ IP åœ°å€åœ¨ä»¥ä¸Š Aã€Bã€C ç±»IP åœ°å€çš„èŒƒå›´å†…ï¼Œå®ƒä¸€å®šå°±æ˜¯å±€åŸŸç½‘çš„ IP åœ°å€ï¼Œå¦åˆ™å°±æ˜¯å…¬ç½‘çš„åœ°å€ã€‚</p></li><li><p>å®é™…ç”Ÿæ´»ä¸­ä¸ä»…æœ‰ä¸€çº§ NAT æŠ€æœ¯ï¼Œè¿˜æœ‰äºŒçº§ NAT æŠ€æœ¯ã€‚ ä¹Ÿå°±æ˜¯å¯èƒ½ä½ çš„æ ¡å›­ç½‘å…³ä¹Ÿåªæ˜¯ä¸ªå±€åŸŸç½‘ã€‚é€šè¿‡å¤šçº§è½¬æ¢å¯ä»¥å¾—åˆ°æ›´å¤šçš„åœ°å€ã€‚</p></li></ol><h4><span id="ç»éªŒæ³•">ç»éªŒæ³•</span></h4><p>1ã€ä¸€èˆ¬ç”µä¿¡ ADSL å¸¦å®½åœ¨æœªå‡çº§å¤§å¸¦å®½å‰æ˜¯ï¼ˆåŠ¨æ€ï¼‰å…¬ç½‘ IPã€‚å¦‚æœèŠ±è´¹å¾ˆå°‘çš„é’±ç»™ä½ å‡çº§ä¸º 100M å…‰çº¤ä¸Šç½‘ï¼Œ99.99% æ˜¯å†…ç½‘IPï¼Œé‚£ 0.01% æ˜¯æˆ‘è¿˜æ²¡æœ‰å‘ç°è¿‡æ¡ˆä¾‹ã€‚</p><p>2ã€ä»£ç†ç½‘ç»œè¿è¥å•† 99.99% éƒ½æ˜¯å†…ç½‘IPï¼Œå¦‚é•¿åŸå¸¦å®½ã€èšå‹Eå®¶ç­‰ã€‚</p><p>3ã€å…‰çº¤ä¸Šç½‘çš„ 99.99% éƒ½æ˜¯å†…ç½‘IPã€‚</p><h4><span id="ç›´è§‚æ³•">ç›´è§‚æ³•</span></h4><p>ä»¥ä¸‹ IP æ®µçš„åœ°å€éƒ½æ˜¯å†…ç½‘ IP åœ°å€</p><ul><li>10.0.0.0 åˆ° 10.255.255.255</li><li>172.16.0.0 åˆ° 172.31.255.255</li><li>192.168.0.0 åˆ° 192.168.255.255</li></ul><blockquote><p>æœ¬æ–‡è½¬è½½è‡ªï¼šã€Œ Lenix Blog ã€ï¼ŒåŸæ–‡ï¼š<a href="https://url.hi-linux.com/nDA6x" target="_blank" rel="noopener">https://url.hi-linux.com/nDA6x</a> ï¼Œç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚æ¬¢è¿æŠ•ç¨¿ï¼ŒæŠ•ç¨¿é‚®ç®±: <a href="mailto:editor@hi-linux.com">editor@hi-linux.com</a>ã€‚</p></blockquote></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "10135-1588830050631-449",        "name": "ã€Œå¥‡å¦™çš„ Linux ä¸–ç•Œã€",        "qrcode": "https://www.hi-linux.com/img/wechat/mp_qrcode_12.jpg",        "keyword": "VIP"    });}</script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘ç»å¸¸æœ‰å¾ˆå¤šå°ç™½æœ‹å‹åœ¨åå°é—®ï¼Œ&lt;strong&gt;å…¬ç½‘ã€ç§ç½‘ã€å†…ç½‘ã€å¤–ç½‘ï¼Œè¿™äº›çš„æ¦‚å¿µæ˜¯å•¥æ ·çš„ï¼Œåˆè¯¥æ€ä¹ˆå»ç•Œå®šã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å…³äº IP åœ°å€ï¼Œç¡®å®æ²¡æœ‰å¤ªæ˜ç¡®çš„åŒºåˆ†ï¼Œå…¶å®ä¹Ÿä¸å¿…å¤ªè¿‡å’¬æ–‡åš¼å­—ã€‚&lt;/p&gt;
&lt;p&gt;å†…ç½‘ã€å¤–ç½‘å°±æ˜¯ä¸€ä¸ªå‚è€ƒç³»é€‰æ‹©çš„ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;æ¯•ç«Ÿå¯¹ä½ è€Œè¨€æ˜¯å¤–ç½‘ï¼Œå…¶å®æ˜¯åˆ«äººçš„å†…ç½‘ï¼Œï¼Œå„æœ‰å„çš„å®šä¹‰ï¼Œæœ€å¤šåªèƒ½å…·ä½“é—®é¢˜å…·ä½“åˆ†æã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯å¯ä»¥åŒºåˆ†çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å†…ã€å¤–ç½‘æ˜¯ç›¸å¯¹äºé˜²ç«å¢™è€Œè¨€çš„ï¼Œåœ¨é˜²ç«å¢™å†…éƒ¨å«åšå†…ç½‘ï¼Œåä¹‹å°±æ˜¯å¤–ç½‘ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ‰€ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¤–ç½‘ç­‰åŒäºå…¬ç½‘ï¼Œå†…ç½‘ç­‰åŒäºç§ç½‘ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é‚£å…·ä½“æ€ä¹ˆåˆ†ï¼Œå†å±•å¼€æ¢è®¨ä¸€ç•ªã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/categories/Linux/"/>
    
    
      <category term="æŠ€å·§" scheme="https://www.hi-linux.com/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="Linux" scheme="https://www.hi-linux.com/tags/Linux/"/>
    
      <category term="ç½‘ç»œ" scheme="https://www.hi-linux.com/tags/%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>Nginx æ˜¯å¦‚ä½•è§£å†³æƒŠç¾¤æ•ˆåº”çš„ï¼Ÿ</title>
    <link href="https://www.hi-linux.com/posts/34515.html"/>
    <id>https://www.hi-linux.com/posts/34515.html</id>
    <published>2023-09-12T01:00:00.000Z</published>
    <updated>2023-09-11T09:10:26.562Z</updated>
    
    <content type="html"><![CDATA[<div id="vip-container"><h2><span id="å‰ç½®çŸ¥è¯†">å‰ç½®çŸ¥è¯†</span></h2><ul><li>linux ç½‘ç»œå¤„ç†çš„åŸºæœ¬æ–¹æ³•ï¼šbind listen accept</li><li>epoll çš„åŸºæœ¬æ–¹æ³•ï¼šepoll_create epoll_ctl epoll_wait</li></ul><h2><span id="ä»€ä¹ˆæ˜¯æƒŠç¾¤æ•ˆåº”">ä»€ä¹ˆæ˜¯æƒŠç¾¤æ•ˆåº”ï¼Ÿ</span></h2><p>ç¬¬ä¸€æ¬¡å¬åˆ°çš„è¿™ä¸ªåè¯çš„æ—¶å€™è§‰å¾—å¾ˆæ˜¯æœ‰è¶£ï¼Œä¸çŸ¥é“æ˜¯ä¸ªä»€ä¹ˆæ„æ€ï¼Œæ€»è§‰å¾—åˆæ˜¯å¥‡æ€ªçš„ä¸­æ–‡ç¿»è¯‘å¯¼è‡´çš„ã€‚</p><p>å¤æ‚çš„è¯´ï¼ˆæ¥æºäºç½‘ç»œï¼‰TLDR;</p><blockquote><p>æƒŠç¾¤æ•ˆåº”ï¼ˆthundering herdï¼‰æ˜¯æŒ‡å¤šè¿›ç¨‹ï¼ˆå¤šçº¿ç¨‹ï¼‰åœ¨åŒæ—¶é˜»å¡ç­‰å¾…åŒä¸€ä¸ªäº‹ä»¶çš„æ—¶å€™ï¼ˆä¼‘çœ çŠ¶æ€ï¼‰ï¼Œå¦‚æœç­‰å¾…çš„è¿™ä¸ªäº‹ä»¶å‘ç”Ÿï¼Œé‚£ä¹ˆä»–å°±ä¼šå”¤é†’ç­‰å¾…çš„æ‰€æœ‰è¿›ç¨‹ï¼ˆæˆ–è€…çº¿ç¨‹ï¼‰ï¼Œä½†æ˜¯æœ€ç»ˆå´åªèƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹ï¼ˆçº¿ç¨‹ï¼‰è·å¾—è¿™ä¸ªæ—¶é—´çš„â€œæ§åˆ¶æƒâ€ï¼Œå¯¹è¯¥äº‹ä»¶è¿›è¡Œå¤„ç†ï¼Œè€Œå…¶ä»–è¿›ç¨‹ï¼ˆçº¿ç¨‹ï¼‰è·å–â€œæ§åˆ¶æƒâ€å¤±è´¥ï¼Œåªèƒ½é‡æ–°è¿›å…¥ä¼‘çœ çŠ¶æ€ï¼Œè¿™ç§ç°è±¡å’Œæ€§èƒ½æµªè´¹å°±å«åšæƒŠç¾¤æ•ˆåº”ã€‚</p></blockquote><p>ç®€å•çš„è®²ï¼ˆæˆ‘çš„å¤§ç™½è¯ï¼‰</p><blockquote><p>æœ‰ä¸€é“é›·æ‰“ä¸‹æ¥ï¼ŒæŠŠå¾ˆå¤šäººéƒ½åµé†’äº†ï¼Œä½†åªæœ‰å…¶ä¸­ä¸€ä¸ªäººå»æ”¶è¡£æœäº†ã€‚<br>ä¹Ÿå°±æ˜¯ï¼š<br>æœ‰ä¸€ä¸ªè¯·æ±‚è¿‡æ¥äº†ï¼ŒæŠŠå¾ˆå¤šè¿›ç¨‹éƒ½å”¤é†’äº†ï¼Œä½†åªæœ‰å…¶ä¸­ä¸€ä¸ªèƒ½æœ€ç»ˆå¤„ç†ã€‚</p></blockquote><a id="more"></a><h3><span id="åŸå› ampé—®é¢˜">åŸå› &amp;é—®é¢˜</span></h3><p>è¯´èµ·æ¥å…¶å®ä¹Ÿç®€å•ï¼Œå¤šæ•°æ—¶å€™ä¸ºäº†æé«˜åº”ç”¨çš„è¯·æ±‚å¤„ç†èƒ½åŠ›ï¼Œä¼šä½¿ç”¨å¤šè¿›ç¨‹ï¼ˆå¤šçº¿ç¨‹ï¼‰å»ç›‘å¬è¯·æ±‚ï¼Œå½“è¯·æ±‚æ¥æ—¶ï¼Œå› ä¸ºéƒ½æœ‰èƒ½åŠ›å¤„ç†ï¼Œæ‰€ä»¥å°±éƒ½è¢«å”¤é†’äº†ã€‚</p><p>è€Œé—®é¢˜å°±æ˜¯ï¼Œæœ€ç»ˆè¿˜æ˜¯åªèƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹èƒ½æ¥å¤„ç†ã€‚å½“è¯·æ±‚å¤šäº†ï¼Œä¸åœåœ°å”¤é†’ã€ä¼‘çœ ã€å”¤é†’ã€ä¼‘çœ ï¼Œåšäº†å¾ˆå¤šçš„æ— ç”¨åŠŸï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢åˆç´¯ï¼Œå¯¹å§ã€‚é‚£æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿä¸‹é¢å°±æ˜¯ä»Šå¤©è¦çœ‹çš„é‡ç‚¹ï¼Œæˆ‘ä»¬çœ‹çœ‹ nginx æ˜¯å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚</p><h2><span id="nginx-æ¶æ„">Nginx æ¶æ„</span></h2><p>ç¬¬ä¸€ç‚¹æˆ‘ä»¬éœ€è¦äº†è§£ nginx å¤§è‡´çš„æ¶æ„æ˜¯æ€ä¹ˆæ ·çš„ã€‚nginx å°†è¿›ç¨‹åˆ†ä¸º master å’Œ worker ä¸¤ç±»ï¼Œéå¸¸å¸¸è§çš„ä¸€ç§ M-S ç­–ç•¥ï¼Œä¹Ÿå°±æ˜¯ master è´Ÿè´£ç»Ÿç­¹ç®¡ç† workerï¼Œå½“ç„¶å®ƒä¹Ÿè´Ÿè´£å¦‚ï¼šå¯åŠ¨ã€è¯»å–é…ç½®æ–‡ä»¶ï¼Œç›‘å¬å¤„ç†å„ç§ä¿¡å·ç­‰å·¥ä½œã€‚</p><p><img src="https://img.hi-linux.com/staticfile/hsz3mL-2023-09-11-A7PETT.png" alt></p><p>å›¾ç‰‡æ¥è‡ªï¼š <a href="https://aosabook.org/en/v2/nginx.html" target="_blank" rel="noopener">https://aosabook.org/en/v2/nginx.html</a></p><p>ä½†æ˜¯ï¼Œç¬¬ä¸€ä¸ªè¦æ³¨æ„çš„é—®é¢˜å°±å‡ºç°äº†ï¼Œmaster çš„å·¥ä½œæœ‰ä¸”åªæœ‰è¿™äº›ï¼Œå¯¹äºè¯·æ±‚æ¥è¯´å®ƒæ˜¯ä¸ç®¡çš„ï¼Œå°±å¦‚åŒå›¾ä¸­æ‰€ç¤ºï¼Œè¯·æ±‚æ˜¯ç›´æ¥è¢« worker å¤„ç†çš„ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œè¯·æ±‚åº”è¯¥è¢«å“ªä¸ª worker å¤„ç†å‘¢ï¼Ÿworker å†…éƒ¨åˆæ˜¯å¦‚ä½•å¤„ç†è¯·æ±‚çš„å‘¢ï¼Ÿ</p><h2><span id="nginx-ä½¿ç”¨-epoll">Nginx ä½¿ç”¨ epoll</span></h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦çŸ¥é“ nginx æ˜¯å¦‚ä½•ä½¿ç”¨ epoll æ¥å¤„ç†è¯·æ±‚çš„ã€‚ä¸‹é¢å¯èƒ½ä¼šæ¶‰åŠåˆ°ä¸€äº›æºç çš„å†…å®¹ï¼Œä½†ä¸ç”¨æ‹…å¿ƒï¼Œä½ ä¸éœ€è¦å…¨éƒ¨ç†è§£ï¼Œåªéœ€è¦çŸ¥é“å®ƒä»¬çš„ä½œç”¨å°±å¯ä»¥äº†ã€‚é¡ºä¾¿æˆ‘ä¼šç®€å•æè¿°ä¸€ä¸‹æˆ‘æ˜¯å¦‚ä½•å»æ‰¾åˆ°è¿™äº›æºç çš„ä½ç½®çš„ã€‚</p><h3><span id="master-çš„å·¥ä½œ">Master çš„å·¥ä½œ</span></h3><p>å…¶å® Master å¹¶ä¸æ˜¯æ¯«æ— ä½œä¸ºï¼Œè‡³å°‘ç«¯å£æ˜¯å®ƒæ¥å çš„ã€‚<br><a href="https://github.com/nginx/nginx/blob/b489ba83e9be446923facfe1a2fe392be3095d1f/src/core/ngx_connection.c#L407C13-L407C13" target="_blank" rel="noopener">https://github.com/nginx/nginx/blob/b489ba83e9be446923facfe1a2fe392be3095d1f/src/core/ngx_connection.c#L407C13-L407C13</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ngx_open_listening_sockets(ngx_cycle_t *cycle)</span><br><span class="line">&#123;</span><br><span class="line">    .....</span><br><span class="line">    for (i &#x3D; 0; i &lt; cycle-&gt;listening.nelts; i++) &#123;</span><br><span class="line">        .....</span><br><span class="line">        if (bind(s, ls[i].sockaddr, ls[i].socklen) &#x3D;&#x3D; -1) &#123;</span><br><span class="line"></span><br><span class="line">        if (listen(s, ls[i].backlog) &#x3D;&#x3D; -1) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆï¼Œæ ¹æ®æˆ‘ä»¬ nginx.conf çš„é…ç½®æ–‡ä»¶ï¼Œçœ‹éœ€è¦ç›‘å¬å“ªä¸ªç«¯å£ï¼Œäºæ˜¯å°±å» bind çš„äº†ï¼Œè¿™é‡Œæ²¡é—®é¢˜ã€‚</p><p>ã€å‘ç°æºç ã€‘è¿™é‡Œæˆ‘æ˜¯ç›´æ¥åœ¨ä»£ç é‡Œé¢æœ bind æ–¹æ³•å»æ‰¾çš„ï¼Œå› ä¸ºæˆ‘çŸ¥é“ï¼Œä¸ç®¡ä½ æ€ä¹ˆæ ·ï¼Œä½ æ€»æ˜¯è¦ç»‘å®šç«¯å£çš„</p><p>ç„¶åæ˜¯åˆ›å»º worker çš„ï¼Œè™½ä¸èµ·çœ¼ï¼Œä½†å¾ˆå…³é”®ã€‚ <a href="https://github.com/nginx/nginx/blob/b489ba83e9be446923facfe1a2fe392be3095d1f/src/os/unix/ngx_process.c#L186" target="_blank" rel="noopener">https://github.com/nginx/nginx/blob/b489ba83e9be446923facfe1a2fe392be3095d1f/src/os/unix/ngx_process.c#L186</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ngx_spawn_process(ngx_cycle_t *cycle, ngx_spawn_proc_pt proc, void *data,</span><br><span class="line">    char *name, ngx_int_t respawn)</span><br><span class="line">&#123;</span><br><span class="line">    ....</span><br><span class="line">    pid &#x3D; fork();</span><br></pre></td></tr></table></figure><blockquote><p>ã€å‘ç°æºç ã€‘è¿™é‡Œæˆ‘ç›´æ¥æœ forkï¼Œæ•´ä¸ªé¡¹ç›®é‡Œé¢éœ€è¦ fork çš„æƒ…å†µåªæœ‰ä¸¤ä¸ªåœ°æ–¹ï¼Œå¾ˆå¿«å°±æ‰¾åˆ°äº† worker</p></blockquote><p>ç”±äºæ˜¯ fork åˆ›å»ºçš„ï¼Œä¹Ÿå°±æ˜¯å¤åˆ¶äº†ä¸€ä»½ task_struct ç»“æ„ã€‚æ‰€ä»¥ master çš„å‡ ä¹å…¨éƒ¨å®ƒéƒ½æœ‰ã€‚</p><h3><span id="worker-çš„å·¥ä½œ">Worker çš„å·¥ä½œ</span></h3><p>Nginx æœ‰ä¸€ä¸ªåˆ†æ¨¡å—çš„æ€æƒ³ï¼Œå®ƒå°†ä¸åŒåŠŸèƒ½åˆ†æˆäº†ä¸åŒçš„æ¨¡å—ï¼Œè€Œ epoll è‡ªç„¶å°±æ˜¯åœ¨ ngx_epoll_module.c ä¸­äº†</p><p><a href="https://github.com/nginx/nginx/blob/b489ba83e9be446923facfe1a2fe392be3095d1f/src/event/modules/ngx_epoll_module.c#L330C23-L330C23" target="_blank" rel="noopener">https://github.com/nginx/nginx/blob/b489ba83e9be446923facfe1a2fe392be3095d1f/src/event/modules/ngx_epoll_module.c#L330C23-L330C23</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ngx_epoll_init(ngx_cycle_t *cycle, ngx_msec_t timer)</span><br><span class="line">&#123;</span><br><span class="line">    ngx_epoll_conf_t  *epcf;</span><br><span class="line"></span><br><span class="line">    epcf &#x3D; ngx_event_get_conf(cycle-&gt;conf_ctx, ngx_epoll_module);</span><br><span class="line">    </span><br><span class="line">    if (ep &#x3D;&#x3D; -1) &#123;</span><br><span class="line">        ep &#x3D; epoll_create(cycle-&gt;connection_n &#x2F; 2);</span><br></pre></td></tr></table></figure><p>å…¶ä»–ä¸é‡è¦ï¼Œå°±è¿ epoll_ctl å’Œ epoll_wait ä¹Ÿä¸é‡è¦äº†ï¼Œè¿™é‡Œä½ éœ€è¦çŸ¥é“çš„å°±æ˜¯ï¼Œä»è°ƒç”¨é“¾è·¯æ¥çœ‹ï¼Œæ˜¯ worker åˆ›å»ºçš„ epoll å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ª worker éƒ½æœ‰è‡ªå·±çš„ epoll å¯¹è±¡ï¼Œè€Œç›‘å¬çš„sokcet æ˜¯ä¸€æ ·çš„ï¼</p><blockquote><p>ã€å‘ç°æºç ã€‘è¿™é‡Œæ›´åŠ ç›´æ¥ï¼Œæœç´¢ epoll_create è‚¯å®šå°±èƒ½æ‰¾åˆ°</p></blockquote><h3><span id="é—®é¢˜çš„å…³é”®">é—®é¢˜çš„å…³é”®</span></h3><p>æ­¤æ—¶é—®é¢˜çš„å…³é”®åŸºæœ¬å°±èƒ½äº†è§£äº†ï¼Œæ¯ä¸ª worker éƒ½æœ‰å¤„ç†èƒ½åŠ›ï¼Œè¯·æ±‚æ¥äº†æ­¤æ—¶åº”è¯¥å”¤é†’è°å‘¢ï¼Ÿè®²é“ç†é‚£ä¸æ˜¯æ‰€æœ‰ epoll éƒ½ä¼šæœ‰äº‹ä»¶ï¼Œæ‰€æœ‰ worker éƒ½ accept è¯·æ±‚ï¼Ÿæ˜¾ç„¶è¿™æ ·æ˜¯ä¸è¡Œçš„ã€‚é‚£ä¹ˆ nginx æ˜¯å¦‚ä½•è§£å†³çš„å‘¢ï¼Ÿ</p><h2><span id="å¦‚ä½•è§£å†³">å¦‚ä½•è§£å†³</span></h2><p>è§£å†³æ–¹å¼ä¸€å…±æœ‰ä¸‰ç§ï¼Œä¸‹é¢æˆ‘ä»¬ä¸€ä¸ªä¸ªæ¥çœ‹ï¼š</p><ol><li>accept_mutexï¼ˆåº”ç”¨å±‚çš„è§£å†³æ–¹æ¡ˆï¼‰</li><li>EPOLLEXCLUSIVEï¼ˆå†…æ ¸å±‚çš„è§£å†³æ–¹æ¡ˆï¼‰</li><li>SO_REUSEPORTï¼ˆå†…æ ¸å±‚çš„è§£å†³æ–¹æ¡ˆï¼‰</li></ol><h3><span id="accept_mutex">accept_mutex</span></h3><p>çœ‹åˆ° mutex å¯èƒ½ä½ å°±çŸ¥é“äº†ï¼Œé”å˜›ï¼è¿™ä¹Ÿæ˜¯å¯¹äºé«˜å¹¶å‘å¤„ç†çš„ â€åŸºæ“â€œ é‡äº‹ä¸å†³åŠ é”ï¼Œæ²¡é”™ï¼ŒåŠ é”è‚¯å®šèƒ½è§£å†³é—®é¢˜ã€‚ <a href="https://github.com/nginx/nginx/blob/b489ba83e9be446923facfe1a2fe392be3095d1f/src/event/ngx_event_accept.c#L328" target="_blank" rel="noopener">https://github.com/nginx/nginx/blob/b489ba83e9be446923facfe1a2fe392be3095d1f/src/event/ngx_event_accept.c#L328</a></p><p>å…·ä½“ä»£ç å°±ä¸å±•ç¤ºäº†ï¼Œå…¶ä¸­ç»†èŠ‚å¾ˆå¤šï¼Œä½†æœ¬è´¨å¾ˆå®¹æ˜“ç†è§£ï¼Œå°±æ˜¯å½“è¯·æ±‚æ¥äº†ï¼Œè°æ‹¿åˆ°äº†è¿™ä¸ªé”ï¼Œè°å°±å»å¤„ç†ã€‚æ²¡æ‹¿åˆ°çš„å°±ä¸ç®¡äº†ã€‚é”çš„é—®é¢˜å¾ˆç›´æ¥ï¼Œé™¤äº†æ…¢æ²¡å•¥ä¸å¥½çš„ï¼Œä½†è‡³å°‘å¾ˆå…¬å¹³ã€‚</p><h3><span id="epollexclusive">EPOLLEXCLUSIVE</span></h3><blockquote><p>EPOLLEXCLUSIVE æ˜¯ 2016 å¹´ 4.5+ å†…æ ¸æ–°æ·»åŠ çš„ä¸€ä¸ª epoll çš„æ ‡è¯†ã€‚å®ƒé™ä½äº†å¤šä¸ªè¿›ç¨‹/çº¿ç¨‹é€šè¿‡ epoll_ctl æ·»åŠ å…±äº« fd å¼•å‘çš„æƒŠç¾¤æ¦‚ç‡ï¼Œä½¿å¾—ä¸€ä¸ªäº‹ä»¶å‘ç”Ÿæ—¶ï¼Œåªå”¤é†’ä¸€ä¸ªæ­£åœ¨ epoll_wait é˜»å¡ç­‰å¾…å”¤é†’çš„è¿›ç¨‹ï¼ˆè€Œä¸æ˜¯å…¨éƒ¨å”¤é†’ï¼‰ã€‚</p></blockquote><p>å…³é”®æ˜¯ï¼šæ¯æ¬¡å†…æ ¸åªå”¤é†’ä¸€ä¸ªç¡çœ çš„è¿›ç¨‹å¤„ç†èµ„æº</p><p>ä½†ï¼Œè¿™ä¸ªæ–¹æ¡ˆä¸æ˜¯å®Œç¾çš„è§£å†³äº†ï¼Œå®ƒä»…æ˜¯é™ä½äº†æ¦‚ç‡å“¦ã€‚ä¸ºä»€ä¹ˆè¿™æ ·è¯´å‘¢ï¼Ÿç›¸æ¯”äºåŸæ¥å…¨éƒ¨å”¤é†’ï¼Œé‚£è‚¯å®šæ˜¯å¥½äº†ä¸å°‘ï¼Œé™ä½äº†å†²çªã€‚ä½†ç”±äºæœ¬è´¨æ¥è¯´ socket æ˜¯å…±äº«çš„ï¼Œå½“å‰è¿›ç¨‹å¤„ç†å®Œæˆçš„æ—¶é—´ä¸ç¡®å®šï¼Œåœ¨åé¢è¢«å”¤é†’çš„è¿›ç¨‹å¯èƒ½ä¼šå‘ç°å½“å‰çš„ socket å·²ç»è¢«ä¹‹å‰å”¤é†’çš„è¿›ç¨‹å¤„ç†æ‰äº†ã€‚</p><h3><span id="so_reuseport">SO_REUSEPORT</span></h3><p>Nginx åœ¨ 1.9.1 ç‰ˆæœ¬åŠ å…¥äº†è¿™ä¸ªåŠŸèƒ½ <a href="https://www.nginx.com/blog/socket-sharding-nginx-release-1-9-1/" target="_blank" rel="noopener">https://www.nginx.com/blog/socket-sharding-nginx-release-1-9-1/</a></p><p>å…¶æœ¬è´¨æ˜¯åˆ©ç”¨äº† Linux çš„ reuseport çš„ç‰¹æ€§ï¼Œä½¿ç”¨ reuseport å†…æ ¸å…è®¸å¤šä¸ªè¿›ç¨‹ listening socket åˆ°åŒä¸€ä¸ªç«¯å£ä¸Šï¼Œè€Œä»å†…æ ¸å±‚é¢åšäº†è´Ÿè½½å‡è¡¡ï¼Œæ¯æ¬¡å”¤é†’å…¶ä¸­ä¸€ä¸ªè¿›ç¨‹ã€‚</p><p>ååº”åˆ° Nginx ä¸Šå°±æ˜¯ï¼Œæ¯ä¸ª Worker è¿›ç¨‹éƒ½åˆ›å»ºç‹¬ç«‹çš„ listening socketï¼Œç›‘å¬ç›¸åŒçš„ç«¯å£ï¼Œaccept æ—¶åªæœ‰ä¸€ä¸ªè¿›ç¨‹ä¼šè·å¾—è¿æ¥ã€‚æ•ˆæœå°±å’Œä¸‹å›¾æ‰€ç¤ºä¸€æ ·ã€‚</p><p><img src="https://img.hi-linux.com/staticfile/UjOzmp-2023-09-11-5Q4Vve.png" alt></p><p>è€Œä½¿ç”¨æ–¹å¼åˆ™æ˜¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">http &#123;</span><br><span class="line">     server &#123;</span><br><span class="line">          listen 80 reuseport;</span><br><span class="line">          server_name  localhost;</span><br><span class="line">          # ...</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»å®˜æ–¹çš„æµ‹è¯•æƒ…å†µæ¥çœ‹ç¡®å®æ˜¯å‰å®³</p><p><img src="https://img.hi-linux.com/staticfile/2UzsJK-2023-09-11-63Mvfo.png" alt></p><p>å½“ç„¶ï¼Œæ­£æ‰€è°“ï¼šå®Œäº‹æ— ç»å¯¹ï¼ŒæŠ€æœ¯æ— é“¶å¼¹ã€‚è¿™ä¸ªæ–¹æ¡ˆçš„é—®é¢˜åœ¨äºå†…æ ¸æ˜¯ä¸çŸ¥é“ä½ å¿™è¿˜æ˜¯ä¸å¿™çš„ã€‚åªä¼šæ— è„‘çš„ä¸¢ç»™ä½ ã€‚ä¸ä¹‹å‰çš„æŠ¢é”å¯¹æ¯”ï¼ŒæŠ¢é”çš„è¿›ç¨‹ä¸€å®šæ˜¯ä¸å¿™çš„ï¼Œç°åœ¨æ‰‹ä¸Šçš„å·¥ä½œéƒ½å·²ç»å¿™ä¸è¿‡æ¥äº†ï¼Œæ²¡æœºä¼šå»æŠ¢é”äº†ï¼›è€Œè¿™ä¸ªæ–¹æ¡ˆå¯èƒ½å¯¼è‡´ï¼Œå¦‚æœå½“å‰è¿›ç¨‹å¿™ä¸è¿‡æ¥äº†ï¼Œè¿˜æ˜¯ä¼šåªè¦æ ¹æ® reuseport çš„è´Ÿè½½è§„åˆ™è½®åˆ°ä½ äº†å°±ä¼šå‘é€ç»™ä½ ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´æœ‰çš„è¯·æ±‚è¢«å‰é¢æ…¢çš„è¯·æ±‚å¡ä½äº†ã€‚</p><h2><span id="æ€»ç»“">æ€»ç»“</span></h2><p>æœ¬æ–‡ï¼Œä»äº†è§£ä»€ä¹ˆ â€æƒŠç¾¤æ•ˆåº”â€œ åˆ° nginx æ¶æ„å’Œ epoll å¤„ç†çš„åŸç†ï¼Œæœ€ç»ˆåˆ†æä¸‰ç§ä¸åŒçš„å¤„ç† â€œæƒŠç¾¤æ•ˆåº”â€ çš„æ–¹æ¡ˆã€‚åˆ†æåˆ°è¿™é‡Œï¼Œæˆ‘æƒ³ä½ åº”è¯¥æ˜ç™½å…¶å® nginx è¿™ä¸ªå¤šé˜Ÿåˆ—æœåŠ¡æ¨¡å‹æ˜¯æ‰€å­˜åœ¨çš„ä¸€äº›é—®é¢˜ï¼Œåªä¸è¿‡ç»å¤§å¤šæ•°åœºæ™¯å·²ç»å®Œå®Œå…¨å…¨å¤Ÿç”¨äº†ã€‚</p><h2><span id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</span></h2><ul><li>è¿™ä¸€ç¯‡å¯¹äº nginx é”å†…éƒ¨å®ç°æœ‰è¯¦ç»†è§£æ</li><li><a href="https://aosabook.org/en/v2/nginx.html" target="_blank" rel="noopener">https://aosabook.org/en/v2/nginx.html</a></li><li>epollå’ŒæƒŠç¾¤</li></ul><blockquote><p>æœ¬æ–‡è½¬è½½è‡ªï¼šã€Œ LinkinStarâ€™s Blog ã€ï¼ŒåŸæ–‡ï¼š<a href="https://url.hi-linux.com/1472i" target="_blank" rel="noopener">https://url.hi-linux.com/1472i</a> ï¼Œç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚æ¬¢è¿æŠ•ç¨¿ï¼ŒæŠ•ç¨¿é‚®ç®±: <a href="mailto:editor@hi-linux.com">editor@hi-linux.com</a>ã€‚</p></blockquote></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "10135-1588830050631-449",        "name": "ã€Œå¥‡å¦™çš„ Linux ä¸–ç•Œã€",        "qrcode": "https://www.hi-linux.com/img/wechat/mp_qrcode_12.jpg",        "keyword": "VIP"    });}</script>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰ç½®çŸ¥è¯†&quot;&gt;å‰ç½®çŸ¥è¯†&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;linux ç½‘ç»œå¤„ç†çš„åŸºæœ¬æ–¹æ³•ï¼šbind listen accept&lt;/li&gt;
&lt;li&gt;epoll çš„åŸºæœ¬æ–¹æ³•ï¼šepoll_create epoll_ctl epoll_wait&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯æƒŠç¾¤æ•ˆåº”ï¼Ÿ&quot;&gt;ä»€ä¹ˆæ˜¯æƒŠç¾¤æ•ˆåº”ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;ç¬¬ä¸€æ¬¡å¬åˆ°çš„è¿™ä¸ªåè¯çš„æ—¶å€™è§‰å¾—å¾ˆæ˜¯æœ‰è¶£ï¼Œä¸çŸ¥é“æ˜¯ä¸ªä»€ä¹ˆæ„æ€ï¼Œæ€»è§‰å¾—åˆæ˜¯å¥‡æ€ªçš„ä¸­æ–‡ç¿»è¯‘å¯¼è‡´çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¤æ‚çš„è¯´ï¼ˆæ¥æºäºç½‘ç»œï¼‰TLDR;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æƒŠç¾¤æ•ˆåº”ï¼ˆthundering herdï¼‰æ˜¯æŒ‡å¤šè¿›ç¨‹ï¼ˆå¤šçº¿ç¨‹ï¼‰åœ¨åŒæ—¶é˜»å¡ç­‰å¾…åŒä¸€ä¸ªäº‹ä»¶çš„æ—¶å€™ï¼ˆä¼‘çœ çŠ¶æ€ï¼‰ï¼Œå¦‚æœç­‰å¾…çš„è¿™ä¸ªäº‹ä»¶å‘ç”Ÿï¼Œé‚£ä¹ˆä»–å°±ä¼šå”¤é†’ç­‰å¾…çš„æ‰€æœ‰è¿›ç¨‹ï¼ˆæˆ–è€…çº¿ç¨‹ï¼‰ï¼Œä½†æ˜¯æœ€ç»ˆå´åªèƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹ï¼ˆçº¿ç¨‹ï¼‰è·å¾—è¿™ä¸ªæ—¶é—´çš„â€œæ§åˆ¶æƒâ€ï¼Œå¯¹è¯¥äº‹ä»¶è¿›è¡Œå¤„ç†ï¼Œè€Œå…¶ä»–è¿›ç¨‹ï¼ˆçº¿ç¨‹ï¼‰è·å–â€œæ§åˆ¶æƒâ€å¤±è´¥ï¼Œåªèƒ½é‡æ–°è¿›å…¥ä¼‘çœ çŠ¶æ€ï¼Œè¿™ç§ç°è±¡å’Œæ€§èƒ½æµªè´¹å°±å«åšæƒŠç¾¤æ•ˆåº”ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç®€å•çš„è®²ï¼ˆæˆ‘çš„å¤§ç™½è¯ï¼‰&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ‰ä¸€é“é›·æ‰“ä¸‹æ¥ï¼ŒæŠŠå¾ˆå¤šäººéƒ½åµé†’äº†ï¼Œä½†åªæœ‰å…¶ä¸­ä¸€ä¸ªäººå»æ”¶è¡£æœäº†ã€‚&lt;br&gt;
ä¹Ÿå°±æ˜¯ï¼š&lt;br&gt;
æœ‰ä¸€ä¸ªè¯·æ±‚è¿‡æ¥äº†ï¼ŒæŠŠå¾ˆå¤šè¿›ç¨‹éƒ½å”¤é†’äº†ï¼Œä½†åªæœ‰å…¶ä¸­ä¸€ä¸ªèƒ½æœ€ç»ˆå¤„ç†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/categories/Linux/"/>
    
    
      <category term="æŠ€å·§" scheme="https://www.hi-linux.com/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="Linux" scheme="https://www.hi-linux.com/tags/Linux/"/>
    
      <category term="Nginx" scheme="https://www.hi-linux.com/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>ä½œä¸ºä¸€åè½¯ä»¶å·¥ç¨‹å¸ˆï¼Œæˆ‘åœ¨ 20 å¹´èŒä¸šç”Ÿæ¶¯ä¸­å­¦åˆ°çš„äº‹æƒ…</title>
    <link href="https://www.hi-linux.com/posts/43069.html"/>
    <id>https://www.hi-linux.com/posts/43069.html</id>
    <published>2023-08-18T01:00:00.000Z</published>
    <updated>2023-08-18T03:02:53.366Z</updated>
    
    <content type="html"><![CDATA[<div id="vip-container"><p>ï¼ˆ1ï¼‰ä¼˜ç§€çš„è½¯ä»¶å·¥ç¨‹å¸ˆä¸ä»…ç¼–å†™ä»£ç ï¼Œè¿˜ä¼šè€ƒè™‘è°å°†ä½¿ç”¨å®ƒã€ä¸ºä»€ä¹ˆä½¿ç”¨å®ƒã€å¦‚ä½•ä½¿ç”¨å®ƒã€‚ç‰¢è®°ç”¨æˆ·éœ€æ±‚æ‰èƒ½åˆ›é€ è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p><p>ï¼ˆ2ï¼‰æ°´å¹³å†é«˜çš„ç¨‹åºå‘˜ï¼Œä¹Ÿä¼šåœ¨è‡ªå·±æ“…é•¿çš„é¢†åŸŸçŠ¯é”™ï¼Œå¦‚æœé‡åˆ°å¤æ‚çš„é—®é¢˜ï¼Œå°±æ›´æ˜¯å¦‚æ­¤äº†ã€‚å§‹ç»ˆç‰¢è®°ï¼Œæœ€å¥½çš„ä»£ç æ˜¯æ²¡æœ‰ä»£ç ï¼Œæˆ–è€…ä¸éœ€è¦ç»´æŠ¤çš„ä»£ç ã€‚</p><p>ï¼ˆ3ï¼‰ä»»ä½•è½¯ä»¶å·¥ç¨‹å¸ˆçš„ä¸»è¦å·¥ä½œéƒ½æ˜¯äº¤ä»˜ä»·å€¼ã€‚è½¯ä»¶åªæ˜¯è¾¾åˆ°ç›®çš„çš„æ‰‹æ®µã€‚</p><p>ï¼ˆ4ï¼‰è­¦æƒ•é‚£äº›å¾ˆé•¿æ—¶é—´æ²¡æœ‰ç¼–å†™ä»»ä½•ä»£ç ã€å´åœ¨è®¾è®¡ç³»ç»Ÿçš„äººã€‚</p><p>ï¼ˆ5ï¼‰Bjarne Stroustrup æœ‰ä¸€å¥åè¨€ï¼šâ€œåªæœ‰ä¸¤ç§è®¡ç®—æœºè¯­è¨€ï¼šäººä»¬æŠ±æ€¨çš„è¯­è¨€å’Œæ²¡äººä½¿ç”¨çš„è¯­è¨€â€ã€‚å¤§å‹ç³»ç»Ÿä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæ¯ä¸ªç³»ç»Ÿæœ€ç»ˆéƒ½å¾ˆç³Ÿç³•ã€‚å› æ­¤ï¼Œä¸è¦å¤ªåœ¨æ„ä»£ç çš„ä¼˜é›…å’Œå®Œç¾ï¼Œè€Œè¦æŒç»­æ”¹è¿›ï¼Œåˆ›å»ºä¸€ä¸ªå¯ç”¨çš„ç³»ç»Ÿï¼Œè®©å¼€å‘è€…å–œæ¬¢åœ¨å…¶ä¸­å·¥ä½œå¹¶å¯ä»¥æä¾›ä»·å€¼ã€‚</p><a id="more"></a><p>ï¼ˆ6ï¼‰10 å€ç¨‹åºå‘˜æ˜¯ä¸€ä¸ªæ„šè ¢çš„ç¥è¯ã€‚æˆ‘åªè§è¿‡ç¨‹åºå‘˜å°†ä»£ç è§„æ¨¡å¢åŠ äº† 10 å€ï¼Œæœ€ç»ˆç»“æœæ˜¯ä½ å¿…é¡»ä¿®å¤10å€çš„bugã€‚</p><p>çœŸæ­£è¦åšçš„ä¸æ˜¯æ‰¾åˆ°ç¥è¯ä¸­çš„10å€ç¨‹åºå‘˜ï¼Œè€Œæ˜¯è¦é¿å…å‡ºç° 0.1 å€ç¨‹åºå‘˜ã€‚é‚£äº›æµªè´¹æ—¶é—´ã€ä¸å¯»æ±‚åé¦ˆã€ä¸æµ‹è¯•ä»£ç ã€ä¸è€ƒè™‘è¾¹ç¼˜æƒ…å†µç­‰çš„ç¨‹åºå‘˜ï¼Œå¿…é¡»ä¿è¯è®©è¿™æ ·çš„äººè¿œç¦»æˆ‘ä»¬çš„å›¢é˜Ÿã€‚</p><p>ï¼ˆ7ï¼‰äººä»¬è¯´ä»–ä»¬æƒ³è¦åˆ›æ–°ï¼Œä½†å®é™…ä¸Šï¼Œä»–ä»¬æƒ³è¦é€šå¸¸çš„åªæ˜¯æŸç§æ–°é¢–æ€§å’Œä¸šåŠ¡æˆåŠŸã€‚å¦‚æœä½ çš„åˆ›æ–°æ”¹å˜äº†äººä»¬åšäº‹çš„æ–¹å¼ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ä¼šå¾—åˆ°è´Ÿé¢åé¦ˆã€‚å¦‚æœä½ ç›¸ä¿¡ä½ æ­£åœ¨åšçš„äº‹æƒ…ï¼Œå¹¶çŸ¥é“å®ƒçœŸçš„ä¼šæ”¹å–„äº‹æƒ…ï¼Œé‚£ä¹ˆå°±å‡†å¤‡å¥½è¿æ¥ä¸€åœºæŒä¹…æˆ˜å§ã€‚</p><p>ï¼ˆ8ï¼‰æ•°æ®æ˜¯ç³»ç»Ÿä¸­æœ€é‡è¦çš„éƒ¨åˆ†ã€‚æ•°æ®å¯èƒ½ä¼šæ¯”ä½ çš„ä»£ç å¯¿å‘½æ›´é•¿ï¼Œä¿æŒæ•°æ®çš„æœ‰åºå’Œæ¸…æ´ï¼Œé¿å…è„æ•°æ®ï¼Œä»é•¿è¿œæ¥çœ‹ï¼Œä¼šå¾—åˆ°å¾ˆå¥½çš„å›æŠ¥ã€‚</p><p>ï¼ˆ9ï¼‰ä¸€ç›´å­˜åœ¨çš„æ—§æŠ€æœ¯ä¸æ˜¯æé¾™ï¼Œè€Œæ˜¯é²¨é±¼ã€‚å®ƒä»¬å¾ˆå¥½åœ°è§£å†³äº†é—®é¢˜ï¼Œæ‰€ä»¥ä¸€ç›´æ´»åˆ°äº†ç°åœ¨ï¼Œæ²¡æœ‰è¢«å¿«é€Ÿå˜åŒ–çš„æŠ€æœ¯æµªæ½®æ·˜æ±°ã€‚</p><p>ä¸è¦è½»æ˜“æŠ¼æ³¨æ–°æŠ€æœ¯ï¼Œåªæœ‰åœ¨å……åˆ†ç†ç”±çš„æƒ…å†µä¸‹æ‰æ›¿æ¢æ­£åœ¨å‘æŒ¥ä½œç”¨çš„æ—§æŠ€æœ¯ã€‚é‚£äº›è€å¼çš„æŠ€æœ¯å·¥å…·ä¸èŠ±å“¨ï¼Œä¹Ÿä¸ä»¤äººå…´å¥‹ï¼Œä½†å®ƒä»¬å¯ä»¥å®Œæˆå·¥ä½œï¼Œä¸ä¼šç»™ä½ å¸¦æ¥å¾ˆå¤šä¸ªä¸çœ ä¹‹å¤œã€‚</p><p>ï¼ˆ10ï¼‰å¾ˆå¤šè½¯ä»¶å·¥ç¨‹å¸ˆé™¤éè¢«é—®åˆ°ï¼Œå¦åˆ™ä¸ä¼šå‘è¡¨æ„è§ã€‚ä¸è¦å› ä¸ºæœ‰äººæ²¡å½“é¢å‘è¡¨æ„è§ï¼Œè€Œè®¤ä¸ºä»–ä»¬æ²¡ä»€ä¹ˆè¦è¡¥å……çš„ã€‚æœ‰æ—¶ï¼Œä¼šè®®ä¸Šå—“é—¨æœ€é«˜çš„äººæ˜¯æˆ‘æœ€ä¸æƒ³å¬çš„äººã€‚</p><p>ï¼ˆ11ï¼‰å¦‚æœå°†äººä»¬ä¸ä»–ä»¬çš„å·¥ä½œæˆæœåˆ†å¼€ï¼Œä»–ä»¬å°±ä¼šä¸å¤ªå…³å¿ƒä»–ä»¬çš„å·¥ä½œã€‚è½¯ä»¶å·¥ç¨‹å¸ˆå’Œæ‰€æœ‰äººä¸€æ ·ï¼Œéœ€è¦æœ‰ä¸»äººç¿çš„æ„Ÿè§‰ï¼Œä»å¤´åˆ°å°¾æ‹¥æœ‰æ•´ä¸ªæµç¨‹ï¼Œç›´æ¥è´Ÿè´£äº¤ä»˜ä»·å€¼ã€‚</p><p>è®©ä¸€ç¾¤å……æ»¡æ¿€æƒ…çš„äººå®Œå…¨æ‹¥æœ‰è®¾è®¡ã€æ„å»ºå’Œäº¤ä»˜è½¯ä»¶çš„æ‰€æœ‰æƒï¼Œä»¤äººæƒŠå¥‡çš„äº‹æƒ…å°±ä¼šå‘ç”Ÿã€‚</p><p>ï¼ˆ12ï¼‰é¢è¯•æœ€å¥½ç”¨äºäº†è§£æŸäººæ˜¯è°ï¼Œä»¥åŠä»–ä»¬å¯¹ç‰¹å®šä¸“ä¸šé¢†åŸŸçš„å…´è¶£ç¨‹åº¦ï¼Œå¯¹äºè¯•å›¾å¼„æ¸…æ¥šä»–ä»¬æ˜¯å¦å°†æˆä¸ºä¸€ä¸ªä¼˜ç§€çš„å›¢é˜Ÿæˆå‘˜ï¼Œé‚£æ˜¯å¾’åŠ³çš„ã€‚</p><p>ï¼ˆ13ï¼‰å§‹ç»ˆåŠªåŠ›æ„å»ºä¸€ä¸ªæ›´å°çš„ç³»ç»Ÿã€‚</p><p>æœ‰å¾ˆå¤šåŸå› ä¼šæ¨åŠ¨ä½ ï¼Œå»æ„å»ºä¸€ä¸ªæ¯”åŸå…ˆè®¾æƒ³çš„æ›´å¤§çš„ç³»ç»Ÿï¼Œäººç±»ä¼¼ä¹æœ‰ä¸€ç§æä¾›æ›´å¤šåŠŸèƒ½çš„æ¬²æœ›ã€‚ä½ åº”è¯¥æŠµåˆ¶è¿™ç§æ¬²æœ›ï¼Œåœ¨æ»¡è¶³è®¾è®¡ç›®æ ‡çš„å‰æä¸‹ï¼Œå§‹ç»ˆåŠªåŠ›æ„å»ºä¸€ä¸ªæ›´å°çš„ç³»ç»Ÿï¼Œè¿™æ ·ä½ æœ€ç»ˆä¼šå¾—åˆ°ä¸€ä¸ªæ¯”æœ€åˆè®¾è®¡æ›´å¥½çš„ç³»ç»Ÿã€‚</p><blockquote><p>æœ¬æ–‡è½¬è½½è‡ªï¼šã€Œé˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—ã€ï¼ŒåŸæ–‡ï¼š<a href="https://url.hi-linux.com/kGCyW" target="_blank" rel="noopener">https://url.hi-linux.com/kGCyW</a> ï¼Œç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚</p></blockquote></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "10135-1588830050631-449",        "name": "ã€Œå¥‡å¦™çš„ Linux ä¸–ç•Œã€",        "qrcode": "https://www.hi-linux.com/img/wechat/mp_qrcode_12.jpg",        "keyword": "VIP"    });}</script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ï¼ˆ1ï¼‰ä¼˜ç§€çš„è½¯ä»¶å·¥ç¨‹å¸ˆä¸ä»…ç¼–å†™ä»£ç ï¼Œè¿˜ä¼šè€ƒè™‘è°å°†ä½¿ç”¨å®ƒã€ä¸ºä»€ä¹ˆä½¿ç”¨å®ƒã€å¦‚ä½•ä½¿ç”¨å®ƒã€‚ç‰¢è®°ç”¨æˆ·éœ€æ±‚æ‰èƒ½åˆ›é€ è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰æ°´å¹³å†é«˜çš„ç¨‹åºå‘˜ï¼Œä¹Ÿä¼šåœ¨è‡ªå·±æ“…é•¿çš„é¢†åŸŸçŠ¯é”™ï¼Œå¦‚æœé‡åˆ°å¤æ‚çš„é—®é¢˜ï¼Œå°±æ›´æ˜¯å¦‚æ­¤äº†ã€‚å§‹ç»ˆç‰¢è®°ï¼Œæœ€å¥½çš„ä»£ç æ˜¯æ²¡æœ‰ä»£ç ï¼Œæˆ–è€…ä¸éœ€è¦ç»´æŠ¤çš„ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ3ï¼‰ä»»ä½•è½¯ä»¶å·¥ç¨‹å¸ˆçš„ä¸»è¦å·¥ä½œéƒ½æ˜¯äº¤ä»˜ä»·å€¼ã€‚è½¯ä»¶åªæ˜¯è¾¾åˆ°ç›®çš„çš„æ‰‹æ®µã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ4ï¼‰è­¦æƒ•é‚£äº›å¾ˆé•¿æ—¶é—´æ²¡æœ‰ç¼–å†™ä»»ä½•ä»£ç ã€å´åœ¨è®¾è®¡ç³»ç»Ÿçš„äººã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ5ï¼‰Bjarne Stroustrup æœ‰ä¸€å¥åè¨€ï¼šâ€œåªæœ‰ä¸¤ç§è®¡ç®—æœºè¯­è¨€ï¼šäººä»¬æŠ±æ€¨çš„è¯­è¨€å’Œæ²¡äººä½¿ç”¨çš„è¯­è¨€â€ã€‚å¤§å‹ç³»ç»Ÿä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæ¯ä¸ªç³»ç»Ÿæœ€ç»ˆéƒ½å¾ˆç³Ÿç³•ã€‚å› æ­¤ï¼Œä¸è¦å¤ªåœ¨æ„ä»£ç çš„ä¼˜é›…å’Œå®Œç¾ï¼Œè€Œè¦æŒç»­æ”¹è¿›ï¼Œåˆ›å»ºä¸€ä¸ªå¯ç”¨çš„ç³»ç»Ÿï¼Œè®©å¼€å‘è€…å–œæ¬¢åœ¨å…¶ä¸­å·¥ä½œå¹¶å¯ä»¥æä¾›ä»·å€¼ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/categories/Linux/"/>
    
    
      <category term="æŠ€å·§" scheme="https://www.hi-linux.com/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="Linux" scheme="https://www.hi-linux.com/tags/Linux/"/>
    
      <category term="ç¨‹åºå‘˜" scheme="https://www.hi-linux.com/tags/%E7%A8%8B%E5%BA%8F%E5%91%98/"/>
    
  </entry>
  
  <entry>
    <title>ä¸ºä»€ä¹ˆåªæœ‰ 13 å°æ ¹æœåŠ¡å™¨</title>
    <link href="https://www.hi-linux.com/posts/48287.html"/>
    <id>https://www.hi-linux.com/posts/48287.html</id>
    <published>2023-06-08T01:00:00.000Z</published>
    <updated>2023-06-20T02:53:34.634Z</updated>
    
    <content type="html"><![CDATA[<div id="vip-container"><p>ç½‘ä¸Šå¾ˆå¤šäººéƒ½è¯´ DNS æ ¹æœåŠ¡å™¨åªæœ‰ 13 å°ï¼Œä¸­å›½ä¸€å°ä¹Ÿæ²¡æœ‰ã€‚åœ¨ç½‘ç»œä¸–ç•Œï¼Œä¸­å›½è¢«ç¾å›½å¡ä½äº†è„–å­ã€‚é‚£ DNS æ ¹æœåŠ¡å™¨çœŸçš„åªæœ‰ 13 å°å—ï¼Ÿå¦‚æœæ˜¯ï¼Œé‚£åŸå› åˆæ˜¯ä»€ä¹ˆï¼Ÿä»Šå¤©å°±ç»™å¤§å®¶è¯´é“è¯´é“ã€‚</p><h2><span id="dns-åŸºæœ¬æ¦‚å¿µ">DNS åŸºæœ¬æ¦‚å¿µ</span></h2><p>åœ¨å›ç­”è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå›é¡¾ä¸€äº›åŸºæœ¬æ¦‚å¿µã€‚DNS æ˜¯ä¸€ç§åˆ†å±‚ç»“æ„ï¼Œè¿™ç§å±‚çº§å°±ä½“ç°åœ¨åŸŸåçš„ã€ç‚¹ã€é‡Œã€‚ä»¥æˆ‘çš„åŸŸåä¸ºä¾‹ï¼Œ<code>TAOSHU.IN</code> å®ƒçš„å®Œæ•´åŸŸåå…¶å®æ˜¯ <code>TAOSHU.IN.</code>ã€‚æ³¨æ„æœ€åæœ‰ä¸€ä¸ªç‚¹ã€‚å®ƒåˆ†ä¸‰ä¸ªå±‚çº§ï¼Œç»“ç»“æ„ä¸º<code>.</code> âœ <code>IN</code> âœ <code>TAOSHU</code>ã€‚</p><p>DNS åˆæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæ¯ä¸€å±‚çº§éƒ½æœ‰è‡ªå·±çš„è§£ææœåŠ¡å™¨ã€‚<code>.</code>æ˜¯ç¬¬ä¸€å±‚çº§ï¼Œå®ƒçš„è§£ææœåŠ¡å™¨å°±æ˜¯æ ¹æœåŠ¡å™¨ã€‚ç¬¬äºŒå±‚çº§æ˜¯å¯¹åº”æˆ‘ä»¬å¸¸è¯´çš„<code>COM/NET</code>ç­‰é¡¶çº§åŸŸå TLDï¼Œè€Œæˆ‘ç”¨çš„<code>IN</code>æ˜¯å°åº¦çš„å›½å®¶åŸŸåï¼Œè·Ÿä¸­å›½çš„<code>CN</code>ä¸€æ ·ï¼Œå®ƒä»¬éƒ½æ˜¯ CCTLDï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„å›½å®¶é¡¶çº§åŸŸåã€‚<code>TAOSHU</code> å°±æ˜¯æ™®é€šçš„ä¸€çº§åŸŸåã€‚æ¯ä¸ªåŸŸåéƒ½å¯ä»¥è‡ªè¡Œè®¾ç½®å­åŸŸåï¼Œä¸å—ä¸Šçº§åŸŸåé™åˆ¶ã€‚</p><p>åŸŸåè§£æè¿‡ç¨‹ä¹Ÿæ˜¯åˆ†å¸ƒå¼çš„ã€‚è¿˜æ˜¯ä»¥<code>TAOSHU.IN</code>ä¸ºä¾‹ã€‚å®¢æˆ·ç«¯å…ˆæ‰¾åˆ°æ ¹æœåŠ¡å™¨çš„åœ°å€ï¼Œå¹¶å…¶æŸ¥è¯¢<code>IN</code>çš„è§£ææœåŠ¡å™¨ã€‚å†å‘<code>IN</code>çš„æœåŠ¡å™¨æŸ¥è¯¢<code>TAOSHU.IN</code>çš„æœåŠ¡å™¨ã€‚æœ€åå‘<code>TAOSHU.IN</code> çš„æœåŠ¡å™¨æŸ¥è¯¢å…·ä½“çš„è§£æè®°å½•ï¼Œæ¯”å¦‚ A è®°å½•ç­‰ã€‚</p><p>æ›´å¤šå…³äº DNS çš„ç»†èŠ‚ï¼Œè¯·å‚è€ƒçš„å¦ä¸€ç¯‡<a href="https://taoshu.in/dns/dns-intro.html" target="_blank" rel="noopener">æ–‡ç« </a>ã€‚</p><a id="more"></a><h2><span id="å½“å‰æ ¹æœåŠ¡å™¨">å½“å‰æ ¹æœåŠ¡å™¨</span></h2><p>ä»ä¸Šé¢çš„è¿‡ç¨‹å¯çŸ¥ï¼Œæ‰€æœ‰çš„ DNS æŸ¥è¯¢éƒ½ä»æ ¹æœåŠ¡å™¨å¼€å§‹ã€‚æ‰€ä»¥æ ¹æœåŠ¡å™¨æ˜¯æ•´ä¸ª DNS ç³»ç»Ÿçš„æ ¸å¿ƒã€‚å¦‚æœæ ¹æœåŠ¡å™¨å‡ºç°æ•…éšœï¼Œé‚£æ‰€æœ‰ DNS æŸ¥è¯¢éƒ½ä¼šå¤±è´¥ï¼ä¸ºäº†é¿å…å‡ºç°è¿™ç§é—®é¢˜ï¼Œäººä»¬è®¾ç½®äº†å¤šä¸ª DNS æ ¹æœåŠ¡å™¨ã€‚å‘å±•åˆ°ç°åœ¨ï¼Œäº’è”ç½‘ç¤¾åŒºç´¯è®¡è®¾ç½®äº† 13 å°ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š</p><table><thead><tr><th style="text-align:left">ä¸»æœºå</th><th style="text-align:left">IP åœ°å€</th><th style="text-align:left">è¿è¥æœºæ„</th><th style="text-align:left">å›½å®¶</th></tr></thead><tbody><tr><td style="text-align:left"><a href="http://a.root-servers.net" target="_blank" rel="noopener">a.root-servers.net</a></td><td style="text-align:left">198.41.0.4, 2001:503:ba3e::2:30</td><td style="text-align:left">Verisign, Inc.</td><td style="text-align:left">ç¾å›½</td></tr><tr><td style="text-align:left"><a href="http://b.root-servers.net" target="_blank" rel="noopener">b.root-servers.net</a></td><td style="text-align:left">199.9.14.201, 2001:500:200::b</td><td style="text-align:left">University of Southern California, Information Sciences Institute</td><td style="text-align:left">ç¾å›½</td></tr><tr><td style="text-align:left"><a href="http://c.root-servers.net" target="_blank" rel="noopener">c.root-servers.net</a></td><td style="text-align:left">192.33.4.12, 2001:500:2::c</td><td style="text-align:left">Cogent Communications</td><td style="text-align:left">ç¾å›½</td></tr><tr><td style="text-align:left"><a href="http://d.root-servers.net" target="_blank" rel="noopener">d.root-servers.net</a></td><td style="text-align:left">199.7.91.13, 2001:500:2d::d</td><td style="text-align:left">University of Maryland</td><td style="text-align:left">ç¾å›½</td></tr><tr><td style="text-align:left"><a href="http://e.root-servers.net" target="_blank" rel="noopener">e.root-servers.net</a></td><td style="text-align:left">192.203.230.10, 2001:500:a8::e</td><td style="text-align:left">NASA (Ames Research Center)</td><td style="text-align:left">ç¾å›½</td></tr><tr><td style="text-align:left"><a href="http://f.root-servers.net" target="_blank" rel="noopener">f.root-servers.net</a></td><td style="text-align:left">192.5.5.241, 2001:500:2f::f</td><td style="text-align:left">Internet Systems Consortium, Inc.</td><td style="text-align:left">ç¾å›½</td></tr><tr><td style="text-align:left"><a href="http://g.root-servers.net" target="_blank" rel="noopener">g.root-servers.net</a></td><td style="text-align:left">192.112.36.4, 2001:500:12::d0d</td><td style="text-align:left">US Department of Defense (NIC)</td><td style="text-align:left">ç¾å›½</td></tr><tr><td style="text-align:left"><a href="http://h.root-servers.net" target="_blank" rel="noopener">h.root-servers.net</a></td><td style="text-align:left">198.97.190.53, 2001:500:1::53</td><td style="text-align:left">US Army (Research Lab)</td><td style="text-align:left">ç¾å›½</td></tr><tr><td style="text-align:left"><a href="http://i.root-servers.net" target="_blank" rel="noopener">i.root-servers.net</a></td><td style="text-align:left">192.36.148.17, 2001:7fe::53</td><td style="text-align:left">Netnod</td><td style="text-align:left">ç‘å…¸</td></tr><tr><td style="text-align:left"><a href="http://j.root-servers.net" target="_blank" rel="noopener">j.root-servers.net</a></td><td style="text-align:left">192.58.128.30, 2001:503:c27::2:30</td><td style="text-align:left">Verisign, Inc.</td><td style="text-align:left">ç¾å›½</td></tr><tr><td style="text-align:left"><a href="http://k.root-servers.net" target="_blank" rel="noopener">k.root-servers.net</a></td><td style="text-align:left">193.0.14.129, 2001:7fd::1</td><td style="text-align:left">RIPE NCC</td><td style="text-align:left">è·å…°</td></tr><tr><td style="text-align:left"><a href="http://l.root-servers.net" target="_blank" rel="noopener">l.root-servers.net</a></td><td style="text-align:left">199.7.83.42, 2001:500:9f::42</td><td style="text-align:left">ICANN</td><td style="text-align:left">å›½é™…</td></tr><tr><td style="text-align:left"><a href="http://m.root-servers.net" target="_blank" rel="noopener">m.root-servers.net</a></td><td style="text-align:left">202.12.27.33, 2001:dc3::35</td><td style="text-align:left">WIDE Project</td><td style="text-align:left">æ—¥æœ¬</td></tr></tbody></table><p>èµ„æ–™æ¥æºï¼šIANA<a href="https://taoshu.in/dns/13-roots.html?utm_source=pocket_saves#fn1" target="_blank" rel="noopener">1</a> èµ„æ–™æˆªæ­¢æ—¶é—´ï¼š2023å¹´06æœˆ06æ—¥</p><p>åœ¨ 1984 å¹´ï¼ŒJon Postel å’Œ Paul Mockapetris åœ¨å—åŠ å·å¤§å­¦è®¾ç«‹äº†ä¸–ç•Œä¸Šç¬¬ä¸€å°æ ¹æœåŠ¡å™¨<a href="https://taoshu.in/dns/13-roots.html?utm_source=pocket_saves#fn2" target="_blank" rel="noopener">2</a>ã€‚åˆ°äº† 1990 å¹´ï¼Œæ ¹æœåŠ¡å™¨çš„æ•°é‡æ‰©å±•åˆ°äº† 7 å°ï¼Œåˆ†å±ä¸åŒçš„ç»„ç»‡ç»™æŠ¤ï¼Œä½†å…¨éƒ½åœ¨ç¾å›½ã€‚åˆ°äº† 1991 å¹´ï¼ŒKTH åœ¨ç‘å…¸è®¾ç«‹ä¸€å°æ ¹æœåŠ¡å™¨ã€‚è¿™æ˜¯é¦–æ¬¡åœ¨ç¾å›½ä¹‹å¤–éƒ¨ç½²æ ¹æœåŠ¡å™¨ã€‚æ­¤åä¸€ç›´æœ‰æ—§çš„æ ¹æœåŠ¡å™¨é€€å½¹ï¼Œæ–°çš„æœåŠ¡å™¨å…¥å½¹ã€‚åˆ°äº† 1995 å¹´ï¼Œæ ¹æœåŠ¡å™¨å·²ç»æ‰©å±•åˆ° 9 å°ã€‚è¿™ä¸ªæ—¶å€™å°±é‡åˆ°äº†<strong>æŠ€æœ¯ç“¶é¢ˆï¼Œæ— æ³•æ·»åŠ æ–°çš„æ ¹æœåŠ¡å™¨</strong>äº†ã€‚</p><p>åˆ°åº•æ˜¯ä»€ä¹ˆæŠ€æœ¯ç“¶é¢ˆå‘¢ï¼Ÿè¿™å°±å¾—è¯´è¯´ DNS çš„åº•å±‚å®ç°ç»†èŠ‚äº†ã€‚</p><h2><span id="priming-æŸ¥è¯¢">Priming æŸ¥è¯¢</span></h2><p>å‰é¢è¯´æ‰€æœ‰çš„ DNS æŸ¥è¯¢éƒ½ä»æ ¹æœåŠ¡å™¨å¼€å§‹ã€‚é‚£å®¢æˆ·ç«¯æ€ä¹ˆçŸ¥é“å½“å‰æœ‰å“ªäº›æ ¹æœåŠ¡å™¨å‘¢ï¼Ÿæ²¡ä»€ä¹ˆå¥½åŠæ³•ï¼Œå°±æ˜¯åœ¨å„è‡ªçš„ä»£ç ä¸­å†™æ­»ï¼å¯¹ï¼Œæ˜¯ç¡¬ç¼–ç ã€‚ä½†æˆ‘ä»¬å‰é¢ä¹Ÿè¯´äº†ï¼Œåœ¨å½¹çš„æ ¹æœåŠ¡å™¨å¹¶éä¸€æˆä¸å˜ï¼Œå†™æ­»çš„è¯æ–°æ·»åŠ çš„æœåŠ¡æ€ä¹ˆç”Ÿæ•ˆå‘¢ï¼Ÿ</p><p>è¿™å°±ç”¨åˆ°äº†æ‰€è°“çš„ Priming Queries<a href="https://taoshu.in/dns/13-roots.html?utm_source=pocket_saves#fn3" target="_blank" rel="noopener">3</a>ã€‚ç®€å•æ¥è¯´ï¼Œæ‰€æœ‰ DNS è§£æå®¢æˆ·ç«¯éƒ½éšè½¯ä»¶é™„å¸¦ä¸€ä¸ªåˆ—è¡¨æ–‡ä»¶ï¼Œé‡Œé¢æœ‰å½“å‰æ‰€æœ‰æ ¹æœåŠ¡å™¨çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬åŸŸåã€IPåœ°å€ç­‰ä¿¡æ¯ã€‚è¿™ä¸ªæ–‡ä»¶å« Root Hintsï¼Œå¯ä»¥ä» IANA å®˜ç½‘<a href="https://taoshu.in/dns/13-roots.html?utm_source=pocket_saves#fn4" target="_blank" rel="noopener">4</a>ä¸‹è½½ã€‚ä½†è€ƒè™‘åˆ°æ ¹æœåŠ¡å™¨çš„åˆ—è¡¨å¯èƒ½ä¼šå˜ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯éœ€è¦å®šæœŸ<strong>ä»å·²çŸ¥çš„æ ¹æœåŠ¡å™¨æŸ¥è¯¢å½“å‰æœ€æ–°çš„æœåŠ¡å™¨åˆ—è¡¨</strong>ï¼Œç”¨çš„ä¹Ÿæ˜¯ DNS åè®®ï¼Œè¿™ç±»è¯·æ±‚å«ä½œ Priming æŸ¥è¯¢ã€‚</p><p>å¯¹äºå®¢æˆ·ç«¯æ¥è¯´ï¼Œå®ƒå…ˆä» Root Hints ä¸­æ ¹æ®æŸç§è§„åˆ™<a href="https://taoshu.in/dns/13-roots.html?utm_source=pocket_saves#fn5" target="_blank" rel="noopener">5</a>é€‰å‡ºä¸€å°æ ¹æœåŠ¡å™¨ï¼Œç„¶åå‘å®ƒæŸ¥è¯¢æœ€æ–°çš„æ ¹æœåŠ¡å™¨åˆ—è¡¨ï¼Œå¹¶æœ¬æœºç¼“å­˜ä¸€æ®µæ—¶é—´ï¼Œè¿‡æœŸä¹‹å‰éƒ½ä»¥è¯¥åˆ—è¡¨ä¸ºå‡†ã€‚</p><p>å› ä¸º Priming æŸ¥è¯¢ä¹Ÿæ˜¯ç”¨ DNS åè®®ï¼Œè‡ªç„¶ä¹Ÿèµ° UDP ä¼ è¾“ã€‚äº’è”ç½‘æ—©æœŸ IP ç½‘ç»œçš„æœ€å¤§ä¼ è¾“å•å…ƒé•¿åº¦(MTU)ä¹Ÿå°±äº”ç™¾å¤šå­—èŠ‚ï¼Œæ‰€ä»¥ DNS å›å¤ä¿¡æ¯çš„æœ€å¤§é•¿åº¦åŒæ ·ä¸èƒ½å¤ªé•¿ã€‚æ‰€ä»¥ DNS åè®®è§„å®šå›å¤ä¿¡æ¯ä¸èƒ½è¶…è¿‡ 512 å­—èŠ‚ã€‚è¿™å°±æ˜¯æ·»åŠ æ ¹æœåŠ¡å™¨é‡åˆ°çš„æŠ€æœ¯ç“¶é¢ˆã€‚</p><p>å…¶å®è§£å†³è¿™ä¸ªé—®é¢˜å¾ˆå®¹æ˜“ï¼Œå®Œå…¨å¯ä»¥è¦æ±‚å®¢æˆ·ç«¯ä½¿ç”¨ TCP è¿æ¥ä¼ è¾“ Priming æŸ¥è¯¢ç»“æœå˜›ã€‚å¯æƒœå½“æ—¶æ²¡æœ‰é‡‡ç”¨è¿™ç§æ–¹æ¡ˆã€‚ä¸è¿‡ï¼Œå¦‚æœæ˜¯æˆ‘ï¼Œä¹Ÿä¸ä¼šé€‰ TCP æ–¹æ¡ˆã€‚å› ä¸ºæ‰€æœ‰ DNS æŸ¥è¯¢éƒ½èµ° UDP åè®®ï¼Œç®€å•è€Œç»Ÿä¸€ã€‚è™½ç„¶ DNS ä¹Ÿæ”¯æŒä½¿ç”¨ TCPï¼Œä½†è®© Priming æŸ¥è¯¢å•ç‹¬èµ° TCP æ˜æ˜¾ä¼šè®©ç³»ç»Ÿå˜å¾—å¾ˆå¤æ‚ã€‚</p><p>ç¤¾åŒºæœ€ç»ˆå†³å®šæƒ³åŠæ³•å‹ç¼©æŸ¥è¯¢ç»“æœé•¿åº¦ã€‚</p><h2><span id="æŠ¥æ–‡ç»“æ„ä¸ç¼–ç ">æŠ¥æ–‡ç»“æ„ä¸ç¼–ç </span></h2><p>DNS æŠ¥æ–‡ç»“æ„å¦‚ä¸‹ï¼Œåˆ†ä¸ºäº”ä¸ªéƒ¨åˆ†<a href="https://taoshu.in/dns/13-roots.html?utm_source=pocket_saves#fn6" target="_blank" rel="noopener">6</a>ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">+---------------------+</span><br><span class="line">|        Header       |</span><br><span class="line">+---------------------+</span><br><span class="line">|       Question      | the question for the name server</span><br><span class="line">+---------------------+</span><br><span class="line">|        Answer       | RRs answering the question</span><br><span class="line">+---------------------+</span><br><span class="line">|      Authority      | RRs pointing toward an authority</span><br><span class="line">+---------------------+</span><br><span class="line">|      Additional     | RRs holding additional information</span><br><span class="line">+---------------------+</span><br></pre></td></tr></table></figure><h3><span id="header">Header</span></h3><p>Header ä¸ºæŠ¥æ–‡å¤´ä¿¡æ¯ï¼Œé•¿åº¦å›ºå®šä¸º 12 å­—èŠ‚ï¼Œç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">  0  1  2  3  4  5  6  7  8  9  0  1  2  3  4  5</span><br><span class="line">+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">|                      ID                       |</span><br><span class="line">+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">|QR|   Opcode  |AA|TC|RD|RA|   Z    |   RCODE   |</span><br><span class="line">+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">|                    QDCOUNT                    |</span><br><span class="line">+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">|                    ANCOUNT                    |</span><br><span class="line">+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">|                    NSCOUNT                    |</span><br><span class="line">+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">|                    ARCOUNT                    |</span><br><span class="line">+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br></pre></td></tr></table></figure><p>Header ä¸­è·Ÿæœ¬æ–‡å†…å†…ç›´æ¥ç›¸å…³çš„å°±æ˜¯ QDCOUNT/ANCOUNT/NSCOUNT/ARCOUNT è¿™å››ä¸ªå­—æ®µï¼Œåˆ†åˆ«è¡¨ç¤ºåç»­ Question/Answer/Authority/Additional æ®µçš„æ•°é‡ã€‚</p><h3><span id="question">Question</span></h3><p>Question æ®µä¿å­˜æŸ¥è¯¢è¯·æ±‚ä¿¡æ¯ï¼Œé€šé•¿åªæœ‰ä¸€ä¸ªã€‚å®ƒåˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ã€‚åä¸¤ä¸ªéƒ¨åˆ†è¡¨ç¤ºæŸ¥è¯¢ç±»å‹å’Œç½‘ç»œç±»å‹ã€‚å«ä¹‰ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯é•¿åº¦å›ºå®šä¸º 4 å­—èŠ‚ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  0  1  2  3  4  5  6  7  8  9  0  1  2  3  4  5</span><br><span class="line">+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">|                                               |</span><br><span class="line">&#x2F;                     QNAME                     &#x2F;</span><br><span class="line">&#x2F;                                               &#x2F;</span><br><span class="line">+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">|                     QTYPE                     |</span><br><span class="line">+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">|                     QCLASS                    |</span><br><span class="line">+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€éƒ¨åˆ† QNAME é•¿åº¦å¯å˜ï¼Œä¿å­˜æŸ¥è¯¢çš„åŸŸåã€‚ä½†å­˜å‚¨çš„æ–¹å¼æœ‰ç‚¹ç‰¹åˆ«ã€‚ä»¥åŸŸå<code>A.ROOT-SERVERS.NET.</code> ä¸ºä¾‹ï¼Œå®ƒä¼šåˆ†æˆä¸‰éƒ¨åˆ†<code>A</code>ã€<code>ROOT-SERVERS</code>å’Œ<code>NET</code>ã€‚æ¯ä¸€éƒ¨åˆ†ç§°ä½œä¸€ä¸ªæ ‡ç­¾(Label)ï¼Œ QNAME å­—æ®µåªä¿å­˜æ ‡ç­¾ï¼Œä¸ä¿å­˜<code>.</code>ã€‚æ¯ä¸ªæ ‡ç­¾ç”¨ç¬¬ä¸€ä¸ªå­—èŠ‚è®°å½•å½“å‰æ ‡ç­¾é•¿åº¦ï¼Œåé¢è·Ÿç€æ ‡ç­¾å†…å®¹ã€‚æœ€åç”¨ä¸€ä¸ªé•¿åº¦ä¸ºé›¶çš„æ ‡ç­¾è¡¨ç¤ºç»“å°¾ã€‚æ‰€ä»¥å®Œæ•´çš„ QNAME å­—æ®µç¼–ç ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">20 |           1           |           A           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">22 |           12          |           R           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">24 |           O           |           O           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">26 |           T           |           -           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">28 |           S           |           E           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">30 |           R           |           V           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">32 |           E           |           R           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">34 |           S           |           3           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">36 |           N           |           E           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">38 |           T           |           0           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br></pre></td></tr></table></figure><p>é•¿åº¦ä¸º 20 å­—èŠ‚ã€‚ç‰¹åˆ«çš„ï¼Œå¯¹äºæ ¹åŸŸå<code>.</code>ï¼Œå®ƒçš„ QNAME ç¼–ç æ˜¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">20 |           0           |                       |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br></pre></td></tr></table></figure><p>é•¿åº¦ä¸º 1 å­—èŠ‚ã€‚</p><h3><span id="answer">Answer</span></h3><p>Answer æ®µæ˜¯æœåŠ¡å™¨è¿”å›çš„å“åº”ç»“æœã€‚æ•°é‡ä¸ºä¸€æ¡åˆ°å¤šæ¡ä¸ç­‰ã€‚æ¯ä¸€æ¡ç§°ä¸ºä¸€ä¸ª RRï¼Œå…¨ç§°æ˜¯ Resource Recordã€‚å…¶ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">  0  1  2  3  4  5  6  7  8  9  0  1  2  3  4  5</span><br><span class="line">+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">|                                               |</span><br><span class="line">&#x2F;                                               &#x2F;</span><br><span class="line">&#x2F;                      NAME                     &#x2F;</span><br><span class="line">|                                               |</span><br><span class="line">+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">|                      TYPE                     |</span><br><span class="line">+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">|                     CLASS                     |</span><br><span class="line">+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">|                      TTL                      |</span><br><span class="line">|                                               |</span><br><span class="line">+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">|                   RDLENGTH                    |</span><br><span class="line">+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--|</span><br><span class="line">&#x2F;                     RDATA                     &#x2F;</span><br><span class="line">&#x2F;                                               &#x2F;</span><br><span class="line">+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br></pre></td></tr></table></figure><p>RR è·Ÿå‰é¢çš„ Question ç›¸æ¯”å¤šäº† TTL/RDLENGTH/RDATA ä¸‰ä¸ªå­—æ®µã€‚TTL è¡¨ç¤ºæœ‰æ•ˆæ—¶é•¿ï¼Œ RDLENGTH è¡¨ç¤ºåç»­ RDATA çš„é•¿åº¦ï¼ŒRDATA ä¿å­˜å®é™…çš„å“åº”æ•°æ®ã€‚æ ¹æ® TYPE å’Œ CLASS çš„ä¸åŒï¼ŒRDATA å†…å®¹ä¹Ÿå„ä¸ç›¸åŒã€‚åœ¨ Priming æŸ¥è¯¢ä¸­ï¼ŒRDATA ä¿å­˜å„æ ¹æœåŠ¡å™¨çš„åŸŸåï¼Œç¼–ç è·Ÿå‰ Question ä¸­çš„ QNAME ä¸€æ ·ã€‚</p><p>å¦‚æœæœåŠ¡å™¨è¿”å›å¦‚ä¸‹ä¸€æ¡ RR æ•°æ®ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.       518400  IN      NS      a.root-servers.net.</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆ RR çš„æ€»é•¿åº¦æ˜¯ 1+2+2+4+2+20=31 å­—èŠ‚ã€‚</p><h3><span id="authority">Authority</span></h3><p>Authority æ®µç”¨æ¥è¿”å›å¾…æŸ¥è¯¢åŸŸåçš„æƒå¨æœåŠ¡å™¨ä¿¡æ¯ã€‚æ¯”å¦‚æˆ‘ä»¬å°è¯•å‘æ ¹æœåŠ¡å™¨ç›´æ¥æŸ¥è¯¢ <code>TAOSHU.IN</code> çš„ <code>A</code> è®°å½•ï¼Œæ ¹æœåŠ¡å™¨å°±ä¼šåœ¨ Authority æ®µè¿”å› <code>IN</code> åŸŸåçš„è§£ææœå™¨ã€‚å› ä¸ºæ ¹æœåŠ¡å™¨å¹¶ä¸ä¿å­˜<code>TAOSHU.IN</code>çš„åŸŸåä¿¡æ¯ã€‚ä¸è¿‡åœ¨æœ¬æ–‡ä¸­ï¼ŒPriming æŸ¥è¯¢çš„æƒå¨æœåŠ¡å™¨å°±æ˜¯æ ¹æœåŠ¡å™¨ï¼Œæ‰€ä»¥æ­¤æ®µé•¿åº¦ä¸ºé›¶ã€‚</p><p>æœ€åçš„ Additional æ®µç”¨æ¥è¿”å›ä¸€äº›é™„åŠ ä¿¡æ¯ã€‚Answer ä¸­åªæœ‰åŸŸåä¿¡æ¯ã€‚æˆ‘ä»¬å¸Œæœ›ç›´æ¥è¿”å› IP åœ°å€ï¼Œæ‰€ä»¥éœ€è¦ç”¨åˆ° Additional æ®µã€‚Additional ä¸­ä¹Ÿæ˜¯ä¸€æ¡ä¸€æ¡çš„ PRï¼Œè®¡ç®—æ–¹å¼è·Ÿ Answer çš„ä¸€æ¨¡ä¸€æ ·ã€‚</p><p>å› ä¸º Priming æŸ¥è¯¢ä¼šè¿”å›æ‰€æœ‰çš„æ ¹æœåŠ¡å™¨åŸŸååŠå…¶å¯¹åº”çš„ IP åœ°å€<a href="https://taoshu.in/dns/13-roots.html?utm_source=pocket_saves#fn7" target="_blank" rel="noopener">7</a>ï¼Œæ‰€ä»¥æ ¹æœåŠ¡å™¨æ•°é‡è¶Šå¤šï¼Œè¿”å›çš„æ•°æ®å°±è¶Šé•¿ã€‚ä½† DNS åè®®è§„å®šæœ€é•¿åªèƒ½æ˜¯ 512 å­—èŠ‚ï¼Œè¿™å°±äº§ç”Ÿäº†ç“¶é¢ˆã€‚</p><p>åˆ°äº† 1995 å¹´ï¼Œå·²ç»å¼€é€šäº† 9 å°æ ¹æœåŠ¡å™¨ï¼ŒPriming æŸ¥è¯¢ç»“æœå¿«è¦è¶…è¿‡ 512 å­—èŠ‚äº†ã€‚ç¤¾åŒºå¼€å§‹ç€æ‰‹è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æ–¹æ¡ˆæ˜¯æ ‡ç­¾å‹ç¼©ã€‚</p><h3><span id="æ ‡ç­¾å‹ç¼©">æ ‡ç­¾å‹ç¼©</span></h3><p>å‹ç¼©åŠæ³•ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨ NAME ä¸­å¼•å…¥<strong>æŒ‡é’ˆç»“æ„</strong>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">| 1  1|                OFFSET                   |</span><br><span class="line">+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br></pre></td></tr></table></figure><p>DNS è¿˜æœ‰ä¸€ä¸ªè§„å®šï¼ŒåŸŸåçš„é•¿åº¦ä¸èƒ½è¶…è¿‡ 63 å­—èŠ‚ã€‚NAME ä¸­ç¬¬ä¸€ä¸ªå­—èŠ‚è¡¨ç¤ºé•¿åº¦ï¼Œæœ€å¤§å€¼å°±æ˜¯ 63ï¼ŒäºŒè¿›åˆ¶è¡¨ç¤ºä¸º<code>00111111</code>ï¼Œå¯è§é«˜ä¸¤ä½æ˜¯é›¶ã€‚äºæ˜¯å¤§å®¶çº¦å®šé«˜ä¸¤ä½è®¾ä¸º<code>11</code>çš„æ—¶å€™ï¼Œåé¢çš„ 14 ä½å°±è¡¨ç¤ºä»æŠ¥æ–‡ Header å¼€å§‹çš„åç§»é‡ã€‚è¿™æ ·ä¸€æ¥ï¼Œå¦‚æœå¤šä¸ª RR çš„åŸŸåä¸­æœ‰ç›¸åŒçš„éƒ¨åˆ†ï¼Œå°±ä¸éœ€è¦é‡å¤ä¼ è¾“ï¼Œå‡å°‘å“åº”é•¿åº¦ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚è¦åŒæ—¶è¿”å›<code>A.ROOT-SERVERS.NET</code>å’Œ<code>B.ROOT-SERVERS.NET</code>ä¸¤ä¸ªåŸŸåï¼Œæ˜¾ç„¶å®ƒä»¬æœ‰å…±åŒçš„åç¼€<code>ROOT-SERVERS.NET</code>ã€‚å‡è®¾<code>A.ROOT-SERVERS.NET</code>çš„åç§»é‡ä¸º 20ï¼Œé‚£ä¹ˆå¯ä»¥è¡¨ç¤ºä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">A.ROOT-SERVERS.NET</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">20 |           1           |           A           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">22 |           12          |           R           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">24 |           O           |           O           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">26 |           T           |           -           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">28 |           S           |           E           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">30 |           R           |           V           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">32 |           E           |           R           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">34 |           S           |           3           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">36 |           N           |           E           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">38 |           T           |           0           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">B.ROOT-SERVERS.NET</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">40 |           1           |           B           |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">44 | 1  1|                20                       |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br><span class="line">46 |           0           |                       |</span><br><span class="line">   +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨æ ‡ç­¾å‹ç¼©æŠ€æœ¯ï¼ŒåŸŸå<code>B.ROOT-SERVERS.NET</code>åªéœ€è¦å ç”¨ 5 ä¸ªå­—èŠ‚ï¼Œæ¯” <code>A.ROOT-SERVERS.NET</code> èŠ‚çœäº† 15 ä¸ªå­—èŠ‚ã€‚</p><h2><span id="æ ¹æœåŠ¡å™¨æ›´å">æ ¹æœåŠ¡å™¨æ›´å</span></h2><p>è¦æƒ³ä½¿ç”¨å‹ç¼©ï¼Œå‰ææ˜¯æ‰€æœ‰åŸŸåæœ‰é‡å¤çš„éƒ¨åˆ†ã€‚ä½†ä¹‹å‰çš„æ ¹æœåŠ¡å™¨åŸŸåä¸ç›¸åŒï¼Œè¿™å°±å¾—æ”¹åã€‚åˆ°äº† 1995 å¹´ï¼Œç¤¾åŒºç»Ÿä¸€çš„åŸŸåä¸ºæ ¹æœåŠ¡å™¨é‡æ–°ç¼–ç»„å¹¶éƒ¨ç½²æ ‡ç­¾å‹ç¼©åŠŸèƒ½ã€‚</p><table><thead><tr><th style="text-align:left">æ—§åŸŸå</th><th style="text-align:left">æ–°åŸŸå</th><th style="text-align:left">è¿è¥æœºæ„</th></tr></thead><tbody><tr><td style="text-align:left"><a href="http://NS.INTERNIC.NET" target="_blank" rel="noopener">NS.INTERNIC.NET</a></td><td style="text-align:left"><a href="http://A.ROOT-SERVERS.NET" target="_blank" rel="noopener">A.ROOT-SERVERS.NET</a></td><td style="text-align:left">InterNIC (operated by NSI)</td></tr><tr><td style="text-align:left"><a href="http://NS1.ISI.EDU" target="_blank" rel="noopener">NS1.ISI.EDU</a></td><td style="text-align:left"><a href="http://B.ROOT-SERVERS.NET" target="_blank" rel="noopener">B.ROOT-SERVERS.NET</a></td><td style="text-align:left">Information Sciences Institute, USC</td></tr><tr><td style="text-align:left"><a href="http://C.PSI.NET" target="_blank" rel="noopener">C.PSI.NET</a></td><td style="text-align:left"><a href="http://C.ROOT-SERVERS.NET" target="_blank" rel="noopener">C.ROOT-SERVERS.NET</a></td><td style="text-align:left">PSINet</td></tr><tr><td style="text-align:left"><a href="http://TERP.UMD.EDU" target="_blank" rel="noopener">TERP.UMD.EDU</a></td><td style="text-align:left"><a href="http://D.ROOT-SERVERS.NET" target="_blank" rel="noopener">D.ROOT-SERVERS.NET</a></td><td style="text-align:left">University of Maryland</td></tr><tr><td style="text-align:left"><a href="http://NS.NASA.GOV" target="_blank" rel="noopener">NS.NASA.GOV</a></td><td style="text-align:left"><a href="http://E.ROOT-SERVERS.NET" target="_blank" rel="noopener">E.ROOT-SERVERS.NET</a></td><td style="text-align:left">NASA Ames Research Center</td></tr><tr><td style="text-align:left"><a href="http://NS.ISC.ORG" target="_blank" rel="noopener">NS.ISC.ORG</a></td><td style="text-align:left"><a href="http://F.ROOT-SERVERS.NET" target="_blank" rel="noopener">F.ROOT-SERVERS.NET</a></td><td style="text-align:left">Internet Software Consortium</td></tr><tr><td style="text-align:left">NS.NIC.DDN.MIL</td><td style="text-align:left"><a href="http://G.ROOT-SERVERS.NET" target="_blank" rel="noopener">G.ROOT-SERVERS.NET</a></td><td style="text-align:left">GSI (operated by NSI)</td></tr><tr><td style="text-align:left">AOS.ARL.ARMY .MIL</td><td style="text-align:left"><a href="http://H.ROOT-SERVERS.NET" target="_blank" rel="noopener">H.ROOT-SERVERS.NET</a></td><td style="text-align:left">U.S. Army Research Lab</td></tr><tr><td style="text-align:left"><a href="http://NIC.NORDU.NET" target="_blank" rel="noopener">NIC.NORDU.NET</a></td><td style="text-align:left"><a href="http://I.ROOT-SERVERS.NET" target="_blank" rel="noopener">I.ROOT-SERVERS.NET</a></td><td style="text-align:left">NORDUnet</td></tr></tbody></table><p>ä¸Šçº¿ä¹‹åï¼Œä¸ºæ–°çš„æ ¹æœåŠ¡å™¨ç•™å‡ºäº†ç©ºé—´ã€‚äºæ˜¯åœ¨ 1997 å¹´ï¼Œåˆä¸Šçº¿äº† J/K/L/M å››å°æ ¹æœåŠ¡å™¨ã€‚</p><p>è¿™æ—¶å€™ Priming æŸ¥è¯¢å“åº”çš„è¿”å›å€¼æœ‰å¤šå¤§å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ç®—ä¸€ä¸‹ï¼š</p><ul><li>Header å›ºå®š 12 å­—èŠ‚</li><li>ç¬¬ä¸€ä¸ª PR ä¿å­˜å®Œæ•´åŸŸåï¼Œ31 å­—èŠ‚</li><li>å¦å¤– 12 PR ä¿å­˜å‹ç¼©åçš„åŸŸåï¼Œ12*15 = 180 å­—èŠ‚</li><li>13 ä¸ª PR ä¿å­˜ A è®°å½•ï¼Œ13 * 16 = 208 å­—èŠ‚<a href="https://taoshu.in/dns/13-roots.html?utm_source=pocket_saves#fn8" target="_blank" rel="noopener">8</a></li><li>Question æ®µä¸­ QTYPE å’Œ QCLASS å­—æ®µï¼Œ 4 å­—èŠ‚</li><li>Question æ®µä¸­ QNAME å­—æ®µï¼Œ1 å­—èŠ‚</li></ul><p>æ€»å…±ä¸º 12+31+180+208+4+1=436 å­—èŠ‚ã€‚å‰©ä½™å¯ç”¨ 512âˆ’436=76 å­—èŠ‚ã€‚ä¸€ç»„å°æœåŠ¡å™¨éœ€è¦é¢å¤–å ç”¨ 15+16=31 å­—èŠ‚ã€‚ç†è®ºä¸Šè¿˜å¯ä»¥å†æ·»åŠ ä¸¤å°æ ¹æœåŠ¡å™¨ï¼Œä¹Ÿå°±æ˜¯æœ€å¤š15å°ã€‚</p><p>å¦‚æœåªç®¡æ ¹æœåŠ¡å™¨åŠŸèƒ½ï¼Œç¡®å®è¿˜å¯ä»¥æ·»åŠ ã€‚ä½†æ˜¯æ—©æœŸçš„æ ¹æœåŠ¡å™¨åŒæ—¶ä¹Ÿæ˜¯<code>COM/NET/ORG</code>çš„è§£ææœåŠ¡å™¨ã€‚å®¢æˆ·ç«¯å¯ä»¥å‘æ ¹æœå™¨å‘èµ·é’ˆå¯¹ç‰¹å®š<code>COM</code>åŸŸåçš„ Priming æŸ¥è¯¢ã€‚å› ä¸ºå“åº”ç»“æœéœ€è¦åŒ…å«æŸ¥è¯¢åŸŸå QNAMEï¼Œæ‰€ä»¥ä¸Šé¢è¯´çš„ 76 å­—èŠ‚ä¸­è‡³å°‘è¦ä¿ç•™ 64 å­—èŠ‚ç»™ QNAMEã€‚è¿™æ ·å°±åªå‰©ä¸‹ 12 å­—èŠ‚ã€‚æ‰€ä»¥å°±ä¸èƒ½å†æ·»åŠ æ–°çš„æ ¹æœåŠ¡å™¨äº†ã€‚</p><h2><span id="ipv6-ä¸-anycast">IPv6 ä¸ Anycast</span></h2><p>è™½ç„¶ç†è®ºä¸Šæ˜¯ä¸èƒ½å†åŠ æ–°çš„æ ¹æœåŠ¡å™¨äº†ï¼Œä½†åæ¥ç½‘ç»œä¸æ–­å‘å±•ï¼ŒUDP æŠ¥æ–‡æ—©å·²ä¸éœ€è¦æŠŠé•¿åº¦é™åˆ¶åˆ° 512 å­—èŠ‚ã€‚è€Œä¸”å¼•å…¥ IPv6 ç½‘ç»œåï¼ŒPriming æŸ¥è¯¢ç»“æœä¸­è¿˜éœ€è¦è¿”å› AAAA è®°å½•ï¼Œ 512 ä¸ªå­—èŠ‚è‚¯å®šä¸å¤Ÿç”¨ã€‚æ‰€ä»¥ç¤¾åŒºåˆè®¾è®¡äº† EDNS0<a href="https://taoshu.in/dns/13-roots.html?utm_source=pocket_saves#fn9" target="_blank" rel="noopener">9</a> æ¥æ”¯æŒè¿”å›è¶…è¿‡ 512 å­—èŠ‚çš„ DNS å“åº”ã€‚</p><p>ç†è®ºä¸Šè¿˜æ˜¯å¯ä»¥ç»§ç»­æ·»åŠ æ–°çš„æ ¹æœåŠ¡å™¨ã€‚ä½†ä¸ºä»€ä¹ˆä¸åŠ äº†å‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºæœ‰äº†æ›´å…ˆè¿›çš„æŠ€æœ¯ Anycastï¼Œä¸­æ–‡è¯‘ä½œä»»æ’­ã€‚ä»»æ’­ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºå…è®¸ä¸åŒç½‘ç»œä¸­çš„è®¡ç®—æœºå…±ç”¨ä¸€ä¸ª IP åœ°å€ï¼ŒåŒæ—¶å¯¹å¤–æä¾› DNS æŸ¥è¯¢æœåŠ¡ã€‚äº’è”ç½‘ä¼šæ ¹æ®å®¢æˆ·ç«¯çš„ä½ç½®å°†è¯·æ±‚è·¯ç”±åˆ°å°±è¿‘çš„è®¡ç®—æœºã€‚</p><p>Anycast æŠ€æœ¯å°†åŸæ¥çš„å•å°æœåŠ¡å™¨å˜æˆäº†ä¸€ç»„å¤šå°æœåŠ¡å™¨ã€‚åˆ°äº†2002å¹´ï¼ŒJæ ¹æœåŠ¡å™¨é¦–æ¬¡éƒ¨ç½² Anycast åŠŸèƒ½ã€‚åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œå‰é¢è¯´çš„13å°æ ¹æœåŠ¡å™¨ä¸¥æ ¼æ¥è¯´æ˜¯ 13 ä¸ªåŸŸåå¹¶ä¸”å¯¹åº” 13 å¯¹ IPv4 å’Œ IPv6 åœ°å€ã€‚æ¯å¯¹åœ°å€ä¹‹åéƒ½é€šè¿‡ Anycast éƒ¨ç½²äº†å¾ˆå¤šå°å®ä¾‹ï¼Œæ€»è®¡æœ‰è¶…è¿‡ 1500 å°æ ¹æœåŠ¡å™¨å®ä¾‹ã€‚è¿™äº›å®ä¾‹åˆç§°ä¸ºæ ¹<strong>é•œåƒæœåŠ¡å™¨</strong>ã€‚</p><h2><span id="ä¸­å›½æ ¹æœåŠ¡å™¨é•œåƒ">ä¸­å›½æ ¹æœåŠ¡å™¨é•œåƒ</span></h2><p>è™½è¯´ä¸­å›½æ²¡æœ‰è‡ªå·±çš„æ ¹æœåŠ¡å™¨ï¼Œä½†å¢ƒå†…è¿˜æ˜¯æœ‰ä¸å°‘æ ¹é•œåƒæœåŠ¡å™¨ï¼š</p><table><thead><tr><th style="text-align:center">ç¼–å·</th><th style="text-align:left">åŸå¸‚</th></tr></thead><tbody><tr><td style="text-align:center">A</td><td style="text-align:left">å¹¿å·</td></tr><tr><td style="text-align:center">D</td><td style="text-align:left">é¦™æ¸¯ å°åŒ—</td></tr><tr><td style="text-align:center">E</td><td style="text-align:left">å°åŒ—</td></tr><tr><td style="text-align:center">F</td><td style="text-align:left">åŒ—äº¬ é‡åº† æ­å· é«˜é›„ å—å® å°åŒ—</td></tr><tr><td style="text-align:center">I</td><td style="text-align:left">åŒ—äº¬ é¦™æ¸¯ æ²ˆé˜³ å°åŒ—</td></tr><tr><td style="text-align:center">J</td><td style="text-align:left">åŒ—äº¬ é¦™æ¸¯ æ¹–å· ä¸Šæµ·</td></tr><tr><td style="text-align:center">K</td><td style="text-align:left">åŒ—äº¬ å¹¿å· è´µé˜³ å°åŒ—</td></tr><tr><td style="text-align:center">L</td><td style="text-align:left">åŒ—äº¬ é•¿æ²™ æµ·å£ ä¸Šæµ· æ­¦æ±‰ è¥¿å® æ–°åŒ— éƒ‘å·</td></tr><tr><td style="text-align:center">M</td><td style="text-align:left">é«˜é›„</td></tr></tbody></table><p>èµ„æ–™æ¥æºï¼š<a href="https://root-servers.org/" target="_blank" rel="noopener">https://root-servers.org</a> èµ„æ–™æˆªæ­¢æ—¶é—´ï¼š2023å¹´06æœˆ06æ—¥</p><p>å¤§å®¶ä¸å¦¨é€šè¿‡ Ping å‘½ä»¤æµ‹ä¸€ä¸‹ï¼Œä¸Šé¢çš„å‡ ä¸ªæ ¹æœåŠ¡å™¨çš„å»¶è¿Ÿéƒ½åœ¨ 50ms å·¦å³ï¼Œä¸€çœ‹å°±æ˜¯åœ¨å›½å†…ï¼Œä¸ç„¶ä¸ä¼šè¿™ä¹ˆå¿«ã€‚</p><p>é‚£ä¸ºä»€ä¹ˆä¸­å›½æ²¡æœ‰è‡ªå·±çš„æ ¹æœåŠ¡å™¨å‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜æ¶‰åŠåˆ°ä¸–ç•Œäº’è”ç½‘çš„å‘å±•å²å’Œä¸­å›½çš„äº’è”ç½‘å‘å±•å†ç¨‹ï¼Œæˆ‘ä¼šä¸“é—¨æ’°æ–‡è®²è§£ã€‚æ•¬è¯·æœŸå¾…ã€‚</p><hr><ol><li><a href="https://www.iana.org/domains/root/servers" target="_blank" rel="noopener">https://www.iana.org/domains/root/servers</a><a href="https://taoshu.in/dns/13-roots.html?utm_source=pocket_saves#fnref1" target="_blank" rel="noopener">â†©ï¸</a></li><li><a href="https://www.icann.org/en/system/files/files/rssac-023-04nov16-en.pdf" target="_blank" rel="noopener">https://www.icann.org/en/system/files/files/rssac-023-04nov16-en.pdf</a><a href="https://taoshu.in/dns/13-roots.html?utm_source=pocket_saves#fnref2" target="_blank" rel="noopener">â†©ï¸</a></li><li><a href="https://datatracker.ietf.org/doc/html/rfc8109" target="_blank" rel="noopener">https://datatracker.ietf.org/doc/html/rfc8109</a><a href="https://taoshu.in/dns/13-roots.html?utm_source=pocket_saves#fnref3" target="_blank" rel="noopener">â†©ï¸</a></li><li><a href="https://www.iana.org/domains/root/files" target="_blank" rel="noopener">https://www.iana.org/domains/root/files</a><a href="https://taoshu.in/dns/13-roots.html?utm_source=pocket_saves#fnref4" target="_blank" rel="noopener">â†©ï¸</a></li><li>å¦‚ä½•é€‰æ‹©æ²¡æœ‰å…¬å¼€çš„æ ‡å‡†ã€‚æœ‰çš„å®ç°ä¼šéšæœºé€‰ï¼Œæœ‰çš„ä¼šæ ¹æ® Ping å»¶è¿Ÿé€‰æ‹©æœ€è¿‘çš„ã€‚<a href="https://taoshu.in/dns/13-roots.html?utm_source=pocket_saves#fnref5" target="_blank" rel="noopener">â†©ï¸</a></li><li><a href="https://datatracker.ietf.org/doc/html/rfc1035" target="_blank" rel="noopener">https://datatracker.ietf.org/doc/html/rfc1035</a><a href="https://taoshu.in/dns/13-roots.html?utm_source=pocket_saves#fnref6" target="_blank" rel="noopener">â†©ï¸</a></li><li>æ—©æœŸåªæœ‰ IPv4ï¼Œæ‰€ä»¥åªä¼šè¿”å› A è®°å½•ã€‚IPv6 å‡ºç°åè¿˜éœ€è¦è¿”å›å¯¹åº”çš„ AAAA è®°å½•ã€‚<a href="https://taoshu.in/dns/13-roots.html?utm_source=pocket_saves#fnref7" target="_blank" rel="noopener">â†©ï¸</a></li><li>å› ä¸º IP åœ°å€å„ä¸ç›¸åŒï¼Œè‡ªç„¶ä¹Ÿæ— æ³•å‹ç¼©ã€‚<a href="https://taoshu.in/dns/13-roots.html?utm_source=pocket_saves#fnref8" target="_blank" rel="noopener">â†©ï¸</a></li><li><a href="https://www.rfc-editor.org/rfc/rfc6891.html" target="_blank" rel="noopener">https://www.rfc-editor.org/rfc/rfc6891.html</a><a href="https://taoshu.in/dns/13-roots.html?utm_source=pocket_saves#fnref9" target="_blank" rel="noopener">â†©ï¸</a></li></ol><blockquote><p>æœ¬æ–‡è½¬è½½è‡ªï¼šã€Œ æ¶›å”çš„åšå®¢ ã€ï¼ŒåŸæ–‡ï¼š<a href="https://taoshu.in/dns/13-roots.html" target="_blank" rel="noopener">https://taoshu.in/dns/13-roots.html</a> ï¼Œç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚æ¬¢è¿æŠ•ç¨¿ï¼ŒæŠ•ç¨¿é‚®ç®±: <a href="mailto:editor@hi-linux.com">editor@hi-linux.com</a>ã€‚</p></blockquote></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "10135-1588830050631-449",        "name": "ã€Œå¥‡å¦™çš„ Linux ä¸–ç•Œã€",        "qrcode": "https://www.hi-linux.com/img/wechat/mp_qrcode_12.jpg",        "keyword": "VIP"    });}</script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç½‘ä¸Šå¾ˆå¤šäººéƒ½è¯´ DNS æ ¹æœåŠ¡å™¨åªæœ‰ 13 å°ï¼Œä¸­å›½ä¸€å°ä¹Ÿæ²¡æœ‰ã€‚åœ¨ç½‘ç»œä¸–ç•Œï¼Œä¸­å›½è¢«ç¾å›½å¡ä½äº†è„–å­ã€‚é‚£ DNS æ ¹æœåŠ¡å™¨çœŸçš„åªæœ‰ 13 å°å—ï¼Ÿå¦‚æœæ˜¯ï¼Œé‚£åŸå› åˆæ˜¯ä»€ä¹ˆï¼Ÿä»Šå¤©å°±ç»™å¤§å®¶è¯´é“è¯´é“ã€‚&lt;/p&gt;
&lt;h2 id=&quot;DNS-åŸºæœ¬æ¦‚å¿µ&quot;&gt;DNS åŸºæœ¬æ¦‚å¿µ&lt;/h2&gt;
&lt;p&gt;åœ¨å›ç­”è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå›é¡¾ä¸€äº›åŸºæœ¬æ¦‚å¿µã€‚DNS æ˜¯ä¸€ç§åˆ†å±‚ç»“æ„ï¼Œè¿™ç§å±‚çº§å°±ä½“ç°åœ¨åŸŸåçš„ã€ç‚¹ã€é‡Œã€‚ä»¥æˆ‘çš„åŸŸåä¸ºä¾‹ï¼Œ&lt;code&gt;TAOSHU.IN&lt;/code&gt; å®ƒçš„å®Œæ•´åŸŸåå…¶å®æ˜¯ &lt;code&gt;TAOSHU.IN.&lt;/code&gt;ã€‚æ³¨æ„æœ€åæœ‰ä¸€ä¸ªç‚¹ã€‚å®ƒåˆ†ä¸‰ä¸ªå±‚çº§ï¼Œç»“ç»“æ„ä¸º&lt;code&gt;.&lt;/code&gt; âœ &lt;code&gt;IN&lt;/code&gt; âœ &lt;code&gt;TAOSHU&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;DNS åˆæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæ¯ä¸€å±‚çº§éƒ½æœ‰è‡ªå·±çš„è§£ææœåŠ¡å™¨ã€‚&lt;code&gt;.&lt;/code&gt;æ˜¯ç¬¬ä¸€å±‚çº§ï¼Œå®ƒçš„è§£ææœåŠ¡å™¨å°±æ˜¯æ ¹æœåŠ¡å™¨ã€‚ç¬¬äºŒå±‚çº§æ˜¯å¯¹åº”æˆ‘ä»¬å¸¸è¯´çš„&lt;code&gt;COM/NET&lt;/code&gt;ç­‰é¡¶çº§åŸŸå TLDï¼Œè€Œæˆ‘ç”¨çš„&lt;code&gt;IN&lt;/code&gt;æ˜¯å°åº¦çš„å›½å®¶åŸŸåï¼Œè·Ÿä¸­å›½çš„&lt;code&gt;CN&lt;/code&gt;ä¸€æ ·ï¼Œå®ƒä»¬éƒ½æ˜¯ CCTLDï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„å›½å®¶é¡¶çº§åŸŸåã€‚&lt;code&gt;TAOSHU&lt;/code&gt; å°±æ˜¯æ™®é€šçš„ä¸€çº§åŸŸåã€‚æ¯ä¸ªåŸŸåéƒ½å¯ä»¥è‡ªè¡Œè®¾ç½®å­åŸŸåï¼Œä¸å—ä¸Šçº§åŸŸåé™åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;åŸŸåè§£æè¿‡ç¨‹ä¹Ÿæ˜¯åˆ†å¸ƒå¼çš„ã€‚è¿˜æ˜¯ä»¥&lt;code&gt;TAOSHU.IN&lt;/code&gt;ä¸ºä¾‹ã€‚å®¢æˆ·ç«¯å…ˆæ‰¾åˆ°æ ¹æœåŠ¡å™¨çš„åœ°å€ï¼Œå¹¶å…¶æŸ¥è¯¢&lt;code&gt;IN&lt;/code&gt;çš„è§£ææœåŠ¡å™¨ã€‚å†å‘&lt;code&gt;IN&lt;/code&gt;çš„æœåŠ¡å™¨æŸ¥è¯¢&lt;code&gt;TAOSHU.IN&lt;/code&gt;çš„æœåŠ¡å™¨ã€‚æœ€åå‘&lt;code&gt;TAOSHU.IN&lt;/code&gt; çš„æœåŠ¡å™¨æŸ¥è¯¢å…·ä½“çš„è§£æè®°å½•ï¼Œæ¯”å¦‚ A è®°å½•ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;æ›´å¤šå…³äº DNS çš„ç»†èŠ‚ï¼Œè¯·å‚è€ƒçš„å¦ä¸€ç¯‡&lt;a href=&quot;https://taoshu.in/dns/dns-intro.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;æ–‡ç« &lt;/a&gt;ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/categories/Linux/"/>
    
    
      <category term="æŠ€å·§" scheme="https://www.hi-linux.com/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="Linux" scheme="https://www.hi-linux.com/tags/Linux/"/>
    
      <category term="DNS" scheme="https://www.hi-linux.com/tags/DNS/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•åˆ©ç”¨è°·æ­Œé‚®ç®±åˆ«ååŠŸèƒ½è·å–æ— é™ Gmail é‚®ç®±</title>
    <link href="https://www.hi-linux.com/posts/41141.html"/>
    <id>https://www.hi-linux.com/posts/41141.html</id>
    <published>2023-02-23T01:00:00.000Z</published>
    <updated>2023-02-23T07:10:24.912Z</updated>
    
    <content type="html"><![CDATA[<div id="vip-container"><p>æˆ‘ä»¬æ³¨å†Œæœ‰äº›å›½å¤–çš„æœåŠ¡æ—¶ï¼Œæ˜¯ä¸èƒ½ç”¨å›½å†…é‚®ç®±æ³¨å†Œçš„ï¼Œè¿™æ—¶ä¸€ä¸ª Gmail é‚®ç®±å°±æ˜¾å¾—å¾ˆæœ‰å¿…è¦ã€‚è€Œæœ‰æ—¶å€™æˆ‘ä»¬ä¼šéœ€è¦æ³¨å†Œå¤šä¸ªè´¦å·ï¼Œå½“ç„¶ä½ å¯ä»¥ç”¨å¤šä¸ª Gmail é‚®ç®±æ¥æ³¨å†Œã€‚</p><p>ä½†å¤šä¸ª Gmail é‚®ç®±åˆä¸å¥½ç®¡ç†ï¼Œè€Œä¸”ç°åœ¨ Gmail é‚®ç®±ä¹Ÿä¸æ˜¯é‚£ä¹ˆå¥½æ³¨å†Œäº†ï¼Œè¿™æ—¶ä½ å°±ä¼šéœ€è¦ä¸‹é¢æˆ‘è¦ä»‹ç»çš„å†…å®¹äº†ï¼Œåˆ©ç”¨ Gmail é‚®ç®±çš„åˆ«ååŠŸèƒ½æ¥å®ç°åŒä¸€é‚®ç®±è·å–æ— é™å¤šä¸ª Gmail é‚®ç®±å·ã€‚</p><p>åœ¨è¿™ä¹‹å‰ä½ éœ€è¦æœ‰ä¸€ä¸ªè°·æ­Œè´¦å·ï¼ˆGmailé‚®ç®±ï¼‰ã€‚æ²¡æœ‰çš„è¯å»åˆ°è¿™é‡Œæ³¨å†Œï¼š<a href="http://mail.google.com/" target="_blank" rel="noopener">http://mail.google.com</a>ï¼ˆç›®å‰æ³¨å†Œéœ€è¦æ­£ç¡®ä¸Šç½‘ï¼Œè¯·è‡ªè¡Œæœç´¢è§£å†³ï¼‰ã€‚</p><a id="more"></a><h2><span id="gmail-é‚®ç®±åˆ«åè®¾ç½®">Gmail é‚®ç®±åˆ«åè®¾ç½®</span></h2><p>è¿™é‡Œæˆ‘ä»¬å‡è®¾ä½ çš„ Gmail é‚®ç®±ä¸ºï¼š<code>abcdef@gmail.com</code> ï¼Œé‚£å°±å¯ä»¥é€šè¿‡ä»¥ä¸‹åŠæ³•å¾—åˆ°æ— é™çš„è°·æ­Œé‚®ç®±åˆ«åã€‚</p><h3><span id="1ç”¨æˆ·åä¹‹é—´åŠ -è‹±æ–‡åŠè§’">1.ç”¨æˆ·åä¹‹é—´åŠ  <code>.</code> ï¼ˆè‹±æ–‡åŠè§’ï¼‰</span></h3><blockquote><p><strong>ä¾‹å¦‚ï¼š</strong> <code>abc.def@gmail.com</code></p><p>å› ä¸º Gmail çš„ç”¨æˆ·åæ˜¯ä¸åŒºåˆ† <code>.</code> ç¬¦å·çš„ï¼Œæ‰€ä»¥ä¸‹é¢å…¶å®éƒ½æ˜¯åŒä¸€ä¸ªç”¨æˆ·å</p></blockquote><ul><li>abcde.f</li><li>a.bcdef</li><li>ab.cdef</li><li>a.b.cdef</li><li>abc.d.ef</li></ul><h3><span id="2ç”¨æˆ·ååé¢åŠ -ä»»æ„å­—ç¬¦">2.ç”¨æˆ·ååé¢åŠ  <code>+ä»»æ„å­—ç¬¦</code></span></h3><blockquote><p><strong>ä¾‹å¦‚ï¼š</strong> <code>abcdef+dev@gmail.com</code></p><p><code>+</code> å·åé¢å¯ä»¥æ˜¯ä»»æ„å­—ç¬¦ï¼Œä¾‹å¦‚ï¼š</p></blockquote><ul><li>+dev</li><li>+my</li><li>+sub</li><li>â€¦â€¦</li></ul><p>**PSï¼š**ä½¿ç”¨â€œ+â€å·æ³•ï¼Œåœ¨è®¸å¤šç½‘ç«™æ³¨å†Œæ—¶å€™ï¼Œå¹¶ä¸è¯†åˆ«é‚®ç®±åœ°å€ä¸­çš„â€œ+â€ï¼Œä¼šæç¤ºä½ é‚®ç®±é”™è¯¯ã€‚</p><h3><span id="3æ”¹å˜ç”¨æˆ·åä¸­ä»»æ„å­—ç¬¦çš„å¤§å°å†™">3.æ”¹å˜ç”¨æˆ·åä¸­ä»»æ„å­—ç¬¦çš„å¤§å°å†™</span></h3><blockquote><p><strong>ä¾‹å¦‚ï¼š</strong> <code>aBCdef@gmail.com</code></p><p>å¯ä»¥æ˜¯ç”¨æˆ·åé‡Œçš„æŸä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œ</p></blockquote><ul><li><a href="mailto:Abcdef@gmail.com">Abcdef@gmail.com</a></li><li><a href="mailto:AbcDeF@gmail.com">AbcDeF@gmail.com</a></li><li><a href="mailto:abcdEf@gmail.com">abcdEf@gmail.com</a></li></ul><h3><span id="4-æŠŠåç¼€å˜ä¸º-googlemailcom">4. æŠŠåç¼€å˜ä¸º <code>googlemail.com</code></span></h3><blockquote><p>å› ä¸ºä¹‹å‰ Gmail åœ¨æŸäº›å›½å®¶çš„å•†æ ‡æ²¡æœ‰è°ˆå¥½ï¼Œä¸èƒ½ä½¿ç”¨ Gmail å•†æ ‡ï¼Œåªå¥½ç”¨ googlemailï¼Œè¿™ä¸ªå¾ˆå¥½ç†è§£ã€‚ï¼ˆè²Œä¼¼ç°åœ¨å…¨çƒçš„å•†æ ‡éƒ½å·²ç»è°ˆå¦¥äº†ï¼‰</p></blockquote><p><strong>ä¾‹å¦‚ï¼š</strong> <code>abcdef@googlemail.com</code></p><h3><span id="5ä»¥ä¸Š4ç§æ–¹æ³•çš„ç»“åˆ">ï¼•.ä»¥ä¸Šï¼”ç§æ–¹æ³•çš„ç»“åˆ</span></h3><blockquote><p>å¯ä»¥ç»“åˆä¸Šé¢çš„4ç§æ–¹æ³•æ¥å®ç°ç†è®ºä¸Šçš„æ— é™åˆ«åã€‚ä¾‹å¦‚ï¼š</p></blockquote><ul><li><a href="mailto:aBcdef+dev@googlemail.com">aBcdef+dev@googlemail.com</a></li><li><a href="mailto:AbcDEf+sub@googlemail.com">AbcDEf+sub@googlemail.com</a></li></ul><h2><span id="æ€»ç»“">æ€»ç»“</span></h2><p>äº†è§£äº†ä¸Šé¢çš„ Gmail åˆ«åè®¾ç½®çš„æ–¹æ³•åï¼Œå½“ä½ è¦æ³¨å†Œä¸€äº›æœåŠ¡çš„æ—¶å€™ï¼Œåªè¦åœ¨å¡«å†™Gmailé‚®ç®±çš„æ—¶å€™å¡«å†™é€šè¿‡ä¸Šè¿°çš„æ–¹æ³•å¾—åˆ°çš„åˆ«åé‚®ç®±å°±å¯ä»¥äº†ã€‚æ— éœ€åˆ° Gmail è®¾ç½®ï¼Œæ‰€æœ‰çš„åˆ«åé‚®ç®±çš„é‚®ä»¶éƒ½ä¼šå‘é€åˆ°ä½ åŸæ¥çš„é‚®ç®± <code>abcdef@gmail.com</code> ä¸­ã€‚</p><blockquote><p>æœ¬æ–‡è½¬è½½è‡ªï¼šã€Œæ¶…å“¥ç¤¾åŒºã€ï¼ŒåŸæ–‡ï¼š<a href="https://url.hi-linux.com/RiANA" target="_blank" rel="noopener">https://url.hi-linux.com/RiANA</a> ï¼Œç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚æ¬¢è¿æŠ•ç¨¿ï¼ŒæŠ•ç¨¿é‚®ç®±: <a href="mailto:editor@hi-linux.com">editor@hi-linux.com</a>ã€‚</p></blockquote></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "10135-1588830050631-449",        "name": "ã€Œå¥‡å¦™çš„ Linux ä¸–ç•Œã€",        "qrcode": "https://www.hi-linux.com/img/wechat/mp_qrcode_12.jpg",        "keyword": "VIP"    });}</script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æˆ‘ä»¬æ³¨å†Œæœ‰äº›å›½å¤–çš„æœåŠ¡æ—¶ï¼Œæ˜¯ä¸èƒ½ç”¨å›½å†…é‚®ç®±æ³¨å†Œçš„ï¼Œè¿™æ—¶ä¸€ä¸ª Gmail é‚®ç®±å°±æ˜¾å¾—å¾ˆæœ‰å¿…è¦ã€‚è€Œæœ‰æ—¶å€™æˆ‘ä»¬ä¼šéœ€è¦æ³¨å†Œå¤šä¸ªè´¦å·ï¼Œå½“ç„¶ä½ å¯ä»¥ç”¨å¤šä¸ª Gmail é‚®ç®±æ¥æ³¨å†Œã€‚&lt;/p&gt;
&lt;p&gt;ä½†å¤šä¸ª Gmail é‚®ç®±åˆä¸å¥½ç®¡ç†ï¼Œè€Œä¸”ç°åœ¨ Gmail é‚®ç®±ä¹Ÿä¸æ˜¯é‚£ä¹ˆå¥½æ³¨å†Œäº†ï¼Œè¿™æ—¶ä½ å°±ä¼šéœ€è¦ä¸‹é¢æˆ‘è¦ä»‹ç»çš„å†…å®¹äº†ï¼Œåˆ©ç”¨ Gmail é‚®ç®±çš„åˆ«ååŠŸèƒ½æ¥å®ç°åŒä¸€é‚®ç®±è·å–æ— é™å¤šä¸ª Gmail é‚®ç®±å·ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ä¹‹å‰ä½ éœ€è¦æœ‰ä¸€ä¸ªè°·æ­Œè´¦å·ï¼ˆGmailé‚®ç®±ï¼‰ã€‚æ²¡æœ‰çš„è¯å»åˆ°è¿™é‡Œæ³¨å†Œï¼š&lt;a href=&quot;http://mail.google.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://mail.google.com&lt;/a&gt;ï¼ˆç›®å‰æ³¨å†Œéœ€è¦æ­£ç¡®ä¸Šç½‘ï¼Œè¯·è‡ªè¡Œæœç´¢è§£å†³ï¼‰ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://www.hi-linux.com/tags/Linux/"/>
    
      <category term="Google" scheme="https://www.hi-linux.com/tags/Google/"/>
    
      <category term="Gmail" scheme="https://www.hi-linux.com/tags/Gmail/"/>
    
  </entry>
  
</feed>
